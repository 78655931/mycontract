/*
Copyright(c) 2011
*/
if(!window.car){window.car={}}car.Bootstrap={genericToString:function(){return"[Class "+this.classname+"]"},createNamespace:function(d,c){var g=d.split(".");var f=window;var b=g[0];for(var e=0,a=g.length-1;e<a;e++,b=g[e]){if(!f[b]){f=f[b]={}}else{f=f[b]}}f[b]=c;return b},setDisplayName:function(c,b,a){c.displayName=b+"."+a+"()"},setDisplayNames:function(d,c){for(var a in d){var b=d[a];if(b instanceof Function){b.displayName=c+"."+a+"()"}}},define:function(a,b){if(!b){var b={statics:{}}}var g;var f=null;car.Bootstrap.setDisplayNames(b.statics,a);if(b.members||b.extend){car.Bootstrap.setDisplayNames(b.members,a+".prototype");g=b.construct||new Function;if(b.extend){this.extendClass(g,g,b.extend,a,h)}var j=b.statics||{};for(var e=0,m=car.Bootstrap.getKeys(j),c=m.length;e<c;e++){var k=m[e];g[k]=j[k]}f=g.prototype;var d=b.members||{};for(var e=0,m=car.Bootstrap.getKeys(d),c=m.length;e<c;e++){var k=m[e];f[k]=d[k]}}else{g=b.statics||{}}var h=a?this.createNamespace(a,g):"";g.name=g.classname=a;g.basename=h;g.$$type="Class";if(!g.hasOwnProperty("toString")){g.toString=this.genericToString}if(b.defer){b.defer(g,f)}car.Bootstrap.$$registry[a]=g;return g}};car.Bootstrap.define("car.Bootstrap",{statics:{LOADSTART:car.$$start||new Date(),DEBUG:(function(){var a=true;if(car.$$environment&&car.$$environment["car.debug"]===false){a=false}return a})(),getEnvironmentSetting:function(a){if(car.$$environment){return car.$$environment[a]}},setEnvironmentSetting:function(a,b){if(!car.$$environment){car.$$environment={}}if(car.$$environment[a]===undefined){car.$$environment[a]=b}},createNamespace:car.Bootstrap.createNamespace,define:car.Bootstrap.define,setDisplayName:car.Bootstrap.setDisplayName,setDisplayNames:car.Bootstrap.setDisplayNames,genericToString:car.Bootstrap.genericToString,setOptions:function(d,c,a){if(!c){return}for(var b in c){if(a&&c[b]==undefined){continue}d[b]=c[b]}},extendClass:function(c,a,d,b,g){var h=d.prototype;var f=new Function;f.prototype=h;var e=new f;c.prototype=e;e.name=e.classname=b;e.basename=g;a.base=c.superclass=d;a.self=c.constructor=e.constructor=c},getByName:function(a){return car.Bootstrap.$$registry[a]},$$registry:{},objectGetLength:function(c){var b=0;for(var a in c){b++}return b},objectMergeWith:function(d,c,a){if(a===undefined){a=true}for(var b in c){if(a||d[b]===undefined){d[b]=c[b]}}return d},__shadowedKeys:["isPrototypeOf","hasOwnProperty","toLocaleString","toString","valueOf","constructor"],getKeys:({ES5:Object.keys,BROKEN_IE:function(j){var b=[];var h=Object.prototype.hasOwnProperty;for(var g in j){if(h.call(j,g)){b.push(g)}}var e=car.Bootstrap.__shadowedKeys;for(var f=0,d=e,c=d.length;f<c;f++){if(h.call(j,d[f])){b.push(d[f])}}return b},"default":function(d){var a=[];var c=Object.prototype.hasOwnProperty;for(var b in d){if(c.call(d,b)){a.push(b)}}return a}})[typeof(Object.keys)=="function"?"ES5":(function(){for(var a in {toString:1}){return a}})()!=="toString"?"BROKEN_IE":"default"],getKeysAsString:function(b){var a=car.Bootstrap.getKeys(b);if(a.length==0){return""}return'"'+a.join('", "')+'"'},__classToTypeMap:{"[object String]":"String","[object Array]":"Array","[object Object]":"Object","[object RegExp]":"RegExp","[object Number]":"Number","[object Boolean]":"Boolean","[object Date]":"Date","[object Function]":"Function","[object Error]":"Error"},bind:function(d,b,a){var c=Array.prototype.slice.call(arguments,2,arguments.length);return function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return d.apply(b,c.concat(e))}},firstUp:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},firstLow:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},getClass:function(b){var a=Object.prototype.toString.call(b);return(car.Bootstrap.__classToTypeMap[a]||a.slice(8,-1))},isString:function(a){return(a!==null&&(typeof a==="string"||car.Bootstrap.getClass(a)=="String"||a instanceof String||(!!a&&!!a.$$isString)))},isArray:function(a){return(a!==null&&(a instanceof Array||(a&&car.data&&car.data.IListData&&car.util.OOUtil.hasInterface(a.constructor,car.data.IListData))||car.Bootstrap.getClass(a)=="Array"||(!!a&&!!a.$$isArray)))},isObject:function(a){return(a!==undefined&&a!==null&&car.Bootstrap.getClass(a)=="Object")},isFunction:function(a){return car.Bootstrap.getClass(a)=="Function"},$$logs:[],debug:function(a,b){car.Bootstrap.$$logs.push(["debug",arguments])},info:function(a,b){car.Bootstrap.$$logs.push(["info",arguments])},warn:function(a,b){car.Bootstrap.$$logs.push(["warn",arguments])},error:function(a,b){car.Bootstrap.$$logs.push(["error",arguments])},trace:function(a){}}});car.Bootstrap.define("car.core.Environment",{statics:{_checks:{},_asyncChecks:{},__cache:{},_checksMap:{"engine.version":"car.bom.client.Engine.getVersion","engine.name":"car.bom.client.Engine.getName","browser.name":"car.bom.client.Browser.getName","browser.version":"car.bom.client.Browser.getVersion","browser.documentmode":"car.bom.client.Browser.getDocumentMode","browser.quirksmode":"car.bom.client.Browser.getQuirksMode","runtime.name":"car.bom.client.Runtime.getName","device.name":"car.bom.client.Device.getName","device.type":"car.bom.client.Device.getType",locale:"car.bom.client.Locale.getLocale","locale.variant":"car.bom.client.Locale.getVariant","os.name":"car.bom.client.OperatingSystem.getName","os.version":"car.bom.client.OperatingSystem.getVersion","os.scrollBarOverlayed":"car.bom.client.Scroll.scrollBarOverlayed","plugin.gears":"car.bom.client.Plugin.getGears","plugin.activex":"car.bom.client.Plugin.getActiveX","plugin.quicktime":"car.bom.client.Plugin.getQuicktime","plugin.quicktime.version":"car.bom.client.Plugin.getQuicktimeVersion","plugin.windowsmedia":"car.bom.client.Plugin.getWindowsMedia","plugin.windowsmedia.version":"car.bom.client.Plugin.getWindowsMediaVersion","plugin.divx":"car.bom.client.Plugin.getDivX","plugin.divx.version":"car.bom.client.Plugin.getDivXVersion","plugin.silverlight":"car.bom.client.Plugin.getSilverlight","plugin.silverlight.version":"car.bom.client.Plugin.getSilverlightVersion","plugin.flash":"car.bom.client.Flash.isAvailable","plugin.flash.version":"car.bom.client.Flash.getVersion","plugin.flash.express":"car.bom.client.Flash.getExpressInstall","plugin.flash.strictsecurity":"car.bom.client.Flash.getStrictSecurityModel","plugin.pdf":"car.bom.client.Plugin.getPdf","plugin.pdf.version":"car.bom.client.Plugin.getPdfVersion","io.maxrequests":"car.bom.client.Transport.getMaxConcurrentRequestCount","io.ssl":"car.bom.client.Transport.getSsl","io.xhr":"car.bom.client.Transport.getXmlHttpRequest","event.touch":"car.bom.client.Event.getTouch","event.pointer":"car.bom.client.Event.getPointer","event.help":"car.bom.client.Event.getHelp","event.hashchange":"car.bom.client.Event.getHashChange","ecmascript.stacktrace":"car.bom.client.EcmaScript.getStackTrace","html.webworker":"car.bom.client.Html.getWebWorker","html.filereader":"car.bom.client.Html.getFileReader","html.geolocation":"car.bom.client.Html.getGeoLocation","html.audio":"car.bom.client.Html.getAudio","html.audio.ogg":"car.bom.client.Html.getAudioOgg","html.audio.mp3":"car.bom.client.Html.getAudioMp3","html.audio.wav":"car.bom.client.Html.getAudioWav","html.audio.au":"car.bom.client.Html.getAudioAu","html.audio.aif":"car.bom.client.Html.getAudioAif","html.video":"car.bom.client.Html.getVideo","html.video.ogg":"car.bom.client.Html.getVideoOgg","html.video.h264":"car.bom.client.Html.getVideoH264","html.video.webm":"car.bom.client.Html.getVideoWebm","html.storage.local":"car.bom.client.Html.getLocalStorage","html.storage.session":"car.bom.client.Html.getSessionStorage","html.storage.userdata":"car.bom.client.Html.getUserDataStorage","html.classlist":"car.bom.client.Html.getClassList","html.xpath":"car.bom.client.Html.getXPath","html.xul":"car.bom.client.Html.getXul","html.canvas":"car.bom.client.Html.getCanvas","html.svg":"car.bom.client.Html.getSvg","html.vml":"car.bom.client.Html.getVml","html.dataset":"car.bom.client.Html.getDataset","html.dataurl":"car.bom.client.Html.getDataUrl","html.console":"car.bom.client.Html.getConsole","html.stylesheet.createstylesheet":"car.bom.client.Stylesheet.getCreateStyleSheet","html.stylesheet.insertrule":"car.bom.client.Stylesheet.getInsertRule","html.stylesheet.deleterule":"car.bom.client.Stylesheet.getDeleteRule","html.stylesheet.addimport":"car.bom.client.Stylesheet.getAddImport","html.stylesheet.removeimport":"car.bom.client.Stylesheet.getRemoveImport","html.element.contains":"car.bom.client.Html.getContains","html.element.compareDocumentPosition":"car.bom.client.Html.getCompareDocumentPosition","html.element.textcontent":"car.bom.client.Html.getTextContent","html.image.naturaldimensions":"car.bom.client.Html.getNaturalDimensions",json:"car.bom.client.Json.getJson","css.textoverflow":"car.bom.client.Css.getTextOverflow","css.placeholder":"car.bom.client.Css.getPlaceholder","css.borderradius":"car.bom.client.Css.getBorderRadius","css.borderimage":"car.bom.client.Css.getBorderImage","css.borderimage.standardsyntax":"car.bom.client.Css.getBorderImageSyntax","css.boxshadow":"car.bom.client.Css.getBoxShadow","css.gradient.linear":"car.bom.client.Css.getLinearGradient","css.gradient.filter":"car.bom.client.Css.getFilterGradient","css.gradient.radial":"car.bom.client.Css.getRadialGradient","css.gradient.legacywebkit":"car.bom.client.Css.getLegacyWebkitGradient","css.boxmodel":"car.bom.client.Css.getBoxModel","css.rgba":"car.bom.client.Css.getRgba","css.userselect":"car.bom.client.Css.getUserSelect","css.userselect.none":"car.bom.client.Css.getUserSelectNone","css.usermodify":"car.bom.client.Css.getUserModify","css.appearance":"car.bom.client.Css.getAppearance","css.float":"car.bom.client.Css.getFloat","css.boxsizing":"car.bom.client.Css.getBoxSizing","css.animation":"car.bom.client.CssAnimation.getSupport","css.transform":"car.bom.client.CssTransform.getSupport","css.transform.3d":"car.bom.client.CssTransform.get3D","css.inlineblock":"car.bom.client.Css.getInlineBlock","css.opacity":"car.bom.client.Css.getOpacity","css.overflowxy":"car.bom.client.Css.getOverflowXY","css.textShadow":"car.bom.client.Css.getTextShadow","css.textShadow.filter":"car.bom.client.Css.getFilterTextShadow",phonegap:"car.bom.client.PhoneGap.getPhoneGap","phonegap.notification":"car.bom.client.PhoneGap.getNotification","xml.implementation":"car.bom.client.Xml.getImplementation","xml.domparser":"car.bom.client.Xml.getDomParser","xml.selectsinglenode":"car.bom.client.Xml.getSelectSingleNode","xml.selectnodes":"car.bom.client.Xml.getSelectNodes","xml.getelementsbytagnamens":"car.bom.client.Xml.getElementsByTagNameNS","xml.domproperties":"car.bom.client.Xml.getDomProperties","xml.attributens":"car.bom.client.Xml.getAttributeNS","xml.createnode":"car.bom.client.Xml.getCreateNode","xml.getqualifieditem":"car.bom.client.Xml.getQualifiedItem","xml.createelementns":"car.bom.client.Xml.getCreateElementNS"},get:function(d){if(this.__cache[d]!=undefined){return this.__cache[d]}var b=this._checks[d];if(b){var e=b();this.__cache[d]=e;return e}var a=this._getClassNameFromEnvKey(d);if(a[0]!=undefined){var c=a[0];var f=a[1];var e=c[f]();this.__cache[d]=e;return e}if(car.Bootstrap.DEBUG){car.Bootstrap.warn(d+" is not a valid key. Please see the API-doc of car.core.Environment for a list of predefined keys.");car.Bootstrap.trace(this)}},_getClassNameFromEnvKey:function(e){var d=this._checksMap;if(d[e]!=undefined){var a=d[e];var c=a.lastIndexOf(".");if(c>-1){var g=a.slice(0,c);var f=a.slice(c+1);var b=car.Bootstrap.getByName(g);if(b!=undefined){return[b,f]}}}return[undefined,undefined]},getAsync:function(e,h,c){var f=this;if(this.__cache[e]!=undefined){window.setTimeout(function(){h.call(c,f.__cache[e])},0);return}var b=this._asyncChecks[e];if(b){b(function(i){f.__cache[e]=i;h.call(c,i)});return}var a=this._getClassNameFromEnvKey(e);if(a[0]!=undefined){var d=a[0];var g=a[1];d[g](function(i){f.__cache[e]=i;h.call(c,i)});return}if(car.Bootstrap.DEBUG){car.Bootstrap.warn(e+" is not a valid key. Please see the API-doc of car.core.Environment for a list of predefined keys.");car.Bootstrap.trace(this)}},select:function(b,a){return this.__pickFromValues(this.get(b),a)},selectAsync:function(c,b,a){this.getAsync(c,function(d){var e=this.__pickFromValues(c,b);e.call(a,d)},this)},__pickFromValues:function(c,a){var e=a[c];if(a.hasOwnProperty(c)){return e}for(var f in a){if(f.indexOf("|")!=-1){var d=f.split("|");for(var b=0;b<d.length;b++){if(d[b]==c){return a[f]}}}}if(a["default"]!==undefined){return a["default"]}if(car.Bootstrap.DEBUG){throw new Error('No match for variant "'+c+'" ('+(typeof c)+" type) in variants ["+car.Bootstrap.getKeysAsString(a)+'] found, and no default ("default") given')}},filter:function(c){var b=[];for(var a in c){if(this.get(a)){b.push(c[a])}}return b},invalidateCacheKey:function(a){delete this.__cache[a]},add:function(b,a){if(this._checks[b]==undefined){if(a instanceof Function){this._checks[b]=a}else{this._checks[b]=this.__createCheck(a)}}},addAsync:function(b,a){if(this._checks[b]==undefined){this._asyncChecks[b]=a}},getChecks:function(){return this._checks},getAsyncChecks:function(){return this._asyncChecks},_initDefaultQxValues:function(){this.add("true",function(){return true});this.add("car.allowUrlSettings",function(){return false});this.add("car.allowUrlVariants",function(){return false});this.add("car.debug.property.level",function(){return 0});this.add("car.debug",function(){return false});this.add("car.aspects",function(){return false});this.add("car.dynlocale",function(){return false});this.add("car.mobile.emulatetouch",function(){return false});this.add("car.mobile.nativescroll",function(){return false});this.add("car.blankpage",function(){return"car/static/blank.html"});this.add("car.dynamicmousewheel",function(){return false});this.add("car.debug.databinding",function(){return false});this.add("car.debug.dispose",function(){return false});this.add("car.optimization.basecalls",function(){return false});this.add("car.optimization.comments",function(){return false});this.add("car.optimization.privates",function(){return false});this.add("car.optimization.strings",function(){return false});this.add("car.optimization.variables",function(){return false});this.add("car.optimization.variants",function(){return false});this.add("module.databinding",function(){return false});this.add("module.logger",function(){return false});this.add("module.property",function(){return true});this.add("module.events",function(){return true})},__importFromGenerator:function(){if(car&&car.$$environment){for(var a in car.$$environment){var b=car.$$environment[a];this._checks[a]=this.__createCheck(b)}}},__importFromUrl:function(){if(window.document&&window.document.location){var e=window.document.location.search.slice(1).split("&");for(var c=0;c<e.length;c++){var a=e[c].split(":");if(a.length!=3||a[0]!="qxenv"){continue}var b=a[1];var d=decodeURIComponent(a[2]);if(d=="true"){d=true}else{if(d=="false"){d=false}else{if(/^(\d|\.)+$/.test(d)){d=parseFloat(d)}}}this._checks[b]=this.__createCheck(d)}}},__createCheck:function(a){return car.Bootstrap.bind(function(b){return b},null,a)}},defer:function(a){a._initDefaultQxValues();a.__importFromGenerator();if(a.get("car.allowUrlSettings")===true){a.__importFromUrl()}}});car.Bootstrap.define("car.Mixin",{statics:{define:function(c,b){if(b){if(b.include&&!(car.Bootstrap.getClass(b.include)==="Array")){b.include=[b.include]}if(car.core.Environment.get("car.debug")){this.__validateConfig(c,b)}var a=b.statics?b.statics:{};car.Bootstrap.setDisplayNames(a,c);for(var d in a){if(a[d] instanceof Function){a[d].$$mixin=a}}if(b.construct){a.$$constructor=b.construct;car.Bootstrap.setDisplayName(b.construct,c,"constructor")}if(b.include){a.$$includes=b.include}if(b.properties){a.$$properties=b.properties}if(b.members){a.$$members=b.members;car.Bootstrap.setDisplayNames(b.members,c+".prototype")}for(var d in a.$$members){if(a.$$members[d] instanceof Function){a.$$members[d].$$mixin=a}}if(b.events){a.$$events=b.events}if(b.destruct){a.$$destructor=b.destruct;car.Bootstrap.setDisplayName(b.destruct,c,"destruct")}}else{var a={}}a.$$type="Mixin";a.name=c;a.toString=this.genericToString;a.basename=car.Bootstrap.createNamespace(c,a);this.$$registry[c]=a;return a},checkCompatibility:function(c){var e=this.flatten(c);var d=e.length;if(d<2){return true}var f={};var a={};var j={};var h;for(var b=0;b<d;b++){h=e[b];for(var g in h.events){if(j[g]){throw new Error('Conflict between mixin "'+h.name+'" and "'+j[g]+'" in member "'+g+'"!')}j[g]=h.name}for(var g in h.properties){if(f[g]){throw new Error('Conflict between mixin "'+h.name+'" and "'+f[g]+'" in property "'+g+'"!')}f[g]=h.name}for(var g in h.members){if(a[g]){throw new Error('Conflict between mixin "'+h.name+'" and "'+a[g]+'" in member "'+g+'"!')}a[g]=h.name}}return true},isCompatible:function(a,b){var c=car.util.OOUtil.getMixins(b);c.push(a);return car.Mixin.checkCompatibility(c)},getByName:function(a){return this.$$registry[a]},isDefined:function(a){return this.getByName(a)!==undefined},getTotalNumber:function(){return car.Bootstrap.objectGetLength(this.$$registry)},flatten:function(b){if(!b){return[]}var d=b.concat();for(var c=0,a=b.length;c<a;c++){if(b[c].$$includes){d.push.apply(d,this.flatten(b[c].$$includes))}}return d},genericToString:function(){return"[Mixin "+this.name+"]"},$$registry:{},__allowedKeys:car.core.Environment.select("car.debug",{"true":{include:"object",statics:"object",members:"object",properties:"object",events:"object",destruct:"function",construct:"function"},"default":null}),__validateConfig:car.core.Environment.select("car.debug",{"true":function(e,d){var j=this.__allowedKeys;for(var g in d){if(!j[g]){throw new Error('The configuration key "'+g+'" in mixin "'+e+'" is not allowed!')}if(d[g]==null){throw new Error('Invalid key "'+g+'" in mixin "'+e+'"! The value is undefined/null!')}if(j[g]!==null&&typeof d[g]!==j[g]){throw new Error('Invalid type of key "'+g+'" in mixin "'+e+'"! The type of the key must be "'+j[g]+'"!')}}var h=["statics","members","properties","events"];for(var f=0,c=h.length;f<c;f++){var g=h[f];if(d[g]!==undefined&&(["Array","RegExp","Date"].indexOf(car.Bootstrap.getClass(d[g]))!=-1||d[g].classname!==undefined)){throw new Error('Invalid key "'+g+'" in mixin "'+e+'"! The value needs to be a map!')}}if(d.include){for(var f=0,b=d.include,c=b.length;f<c;f++){if(b[f]==null){throw new Error("Includes of mixins must be mixins. The include number '"+(f+1)+"' in mixin '"+e+"'is undefined/null!")}if(b[f].$$type!=="Mixin"){throw new Error("Includes of mixins must be mixins. The include number '"+(f+1)+"' in mixin '"+e+"'is not a mixin!")}}this.checkCompatibility(d.include)}},"default":function(){}})}});car.Bootstrap.define("car.Interface",{statics:{define:function(b,a){if(a){if(a.extend&&!(car.Bootstrap.getClass(a.extend)==="Array")){a.extend=[a.extend]}if(car.core.Environment.get("car.debug")){this.__validateConfig(b,a)}var c=a.statics?a.statics:{};if(a.extend){c.$$extends=a.extend}if(a.properties){c.$$properties=a.properties}if(a.members){c.$$members=a.members}if(a.events){c.$$events=a.events}}else{var c={}}c.$$type="Interface";c.name=b;c.toString=this.genericToString;c.basename=car.Bootstrap.createNamespace(b,c);car.Interface.$$registry[b]=c;return c},getByName:function(a){return this.$$registry[a]},isDefined:function(a){return this.getByName(a)!==undefined},getTotalNumber:function(){return car.Bootstrap.objectGetLength(this.$$registry)},flatten:function(d){if(!d){return[]}var c=d.concat();for(var b=0,a=d.length;b<a;b++){if(d[b].$$extends){c.push.apply(c,this.flatten(d[b].$$extends))}}return c},__assertMembers:function(c,g,f,a){var d=f.$$members;if(d){for(var h in d){if(car.Bootstrap.isFunction(d[h])){var b=this.__isPropertyMethod(g,h);var e=b||car.Bootstrap.isFunction(c[h]);if(!e){throw new Error('Implementation of method "'+h+'" is missing in class "'+g.classname+'" required by interface "'+f.name+'"')}var i=a===true&&!b&&!car.util.OOUtil.hasInterface(g,f);if(i){c[h]=this.__wrapInterfaceMember(f,c[h],h,d[h])}}else{if(typeof c[h]===undefined){if(typeof c[h]!=="function"){throw new Error('Implementation of member "'+h+'" is missing in class "'+g.classname+'" required by interface "'+f.name+'"')}}}}}},__isPropertyMethod:function(d,b){var c=b.match(/^(is|toggle|get|set|reset)(.*)$/);if(!c){return false}var a=car.Bootstrap.firstLow(c[2]);var e=car.util.OOUtil.getPropertyDefinition(d,a);if(!e){return false}var f=c[0]=="is"||c[0]=="toggle";if(f){return car.util.OOUtil.getPropertyDefinition(d,a).check=="Boolean"}return true},__assertProperties:function(a,c){if(c.$$properties){for(var b in c.$$properties){if(!car.util.OOUtil.getPropertyDefinition(a,b)){throw new Error('The property "'+b+'" is not supported by Class "'+a.classname+'"!')}}}},__assertEvents:function(a,c){if(c.$$events){for(var b in c.$$events){if(!car.util.OOUtil.supportsEvent(a,b)){throw new Error('The event "'+b+'" is not supported by Class "'+a.classname+'"!')}}}},assertObject:function(c,f){var b=c.constructor;this.__assertMembers(c,b,f,false);this.__assertProperties(b,f);this.__assertEvents(b,f);var e=f.$$extends;if(e){for(var d=0,a=e.length;d<a;d++){this.assertObject(c,e[d])}}},assert:function(b,f,d){this.__assertMembers(b.prototype,b,f,d);this.__assertProperties(b,f);this.__assertEvents(b,f);var e=f.$$extends;if(e){for(var c=0,a=e.length;c<a;c++){this.assert(b,e[c],d)}}},genericToString:function(){return"[Interface "+this.name+"]"},$$registry:{},__wrapInterfaceMember:car.core.Environment.select("car.debug",{"true":function(e,a,b,d){function c(){d.apply(this,arguments);return a.apply(this,arguments)}a.wrapper=c;return c},"default":function(){}}),__allowedKeys:car.core.Environment.select("car.debug",{"true":{extend:"object",statics:"object",members:"object",properties:"object",events:"object"},"default":null}),__validateConfig:car.core.Environment.select("car.debug",{"true":function(e,d){if(car.core.Environment.get("car.debug")){var j=this.__allowedKeys;for(var g in d){if(j[g]===undefined){throw new Error('The configuration key "'+g+'" in class "'+e+'" is not allowed!')}if(d[g]==null){throw new Error("Invalid key '"+g+"' in interface '"+e+"'! The value is undefined/null!")}if(j[g]!==null&&typeof d[g]!==j[g]){throw new Error('Invalid type of key "'+g+'" in interface "'+e+'"! The type of the key must be "'+j[g]+'"!')}}var h=["statics","members","properties","events"];for(var f=0,c=h.length;f<c;f++){var g=h[f];if(d[g]!==undefined&&(["Array","RegExp","Date"].indexOf(car.Bootstrap.getClass(d[g]))!=-1||d[g].classname!==undefined)){throw new Error('Invalid key "'+g+'" in interface "'+e+'"! The value needs to be a map!')}}if(d.extend){for(var f=0,b=d.extend,c=b.length;f<c;f++){if(b[f]==null){throw new Error("Extends of interfaces must be interfaces. The extend number '"+f+1+"' in interface '"+e+"' is undefined/null!")}if(b[f].$$type!=="Interface"){throw new Error("Extends of interfaces must be interfaces. The extend number '"+f+1+"' in interface '"+e+"' is not an interface!")}}}if(d.statics){for(var g in d.statics){if(g.toUpperCase()!==g){throw new Error('Invalid key "'+g+'" in interface "'+e+'"! Static constants must be all uppercase.')}switch(typeof d.statics[g]){case"boolean":case"string":case"number":break;default:throw new Error('Invalid key "'+g+'" in interface "'+e+'"! Static constants must be all of a primitive type.')}}}}},"default":function(){}})}});car.Bootstrap.define("car.util.OOUtil",{statics:{classIsDefined:function(a){return car.Bootstrap.getByName(a)!==undefined},getPropertyDefinition:function(b,a){while(b){if(b.$$properties&&b.$$properties[a]){return b.$$properties[a]}b=b.superclass}return null},hasProperty:function(b,a){return !!car.util.OOUtil.getPropertyDefinition(b,a)},getEventType:function(b,a){var b=b.constructor;while(b.superclass){if(b.$$events&&b.$$events[a]!==undefined){return b.$$events[a]}b=b.superclass}return null},supportsEvent:function(b,a){return !!car.util.OOUtil.getEventType(b,a)},getByInterface:function(b,e){var d,c,a;while(b){if(b.$$implements){d=b.$$flatImplements;for(c=0,a=d.length;c<a;c++){if(d[c]===e){return b}}}b=b.superclass}return null},hasInterface:function(a,b){return !!car.util.OOUtil.getByInterface(a,b)},getMixins:function(a){var b=[];while(a){if(a.$$includes){b.push.apply(b,a.$$flatIncludes)}a=a.superclass}return b}}});car.Bootstrap.define("car.core.Property",{statics:{__gatherDependency:function(){if(car.core.Environment.get("module.events")){car.event.type.Data;car.event.dispatch.Direct}},__checks:{Boolean:"car.core.Assert.assertBoolean(value, msg) || true",String:"car.core.Assert.assertString(value, msg) || true",Number:"car.core.Assert.assertNumber(value, msg) || true",Integer:"car.core.Assert.assertInteger(value, msg) || true",PositiveNumber:"car.core.Assert.assertPositiveNumber(value, msg) || true",PositiveInteger:"car.core.Assert.assertPositiveInteger(value, msg) || true",Error:"car.core.Assert.assertInstance(value, Error, msg) || true",RegExp:"car.core.Assert.assertInstance(value, RegExp, msg) || true",Object:"car.core.Assert.assertObject(value, msg) || true",Array:"car.core.Assert.assertArray(value, msg) || true",Map:"car.core.Assert.assertMap(value, msg) || true",Function:"car.core.Assert.assertFunction(value, msg) || true",Date:"car.core.Assert.assertInstance(value, Date, msg) || true",Node:"value !== null && value.nodeType !== undefined",Element:"value !== null && value.nodeType === 1 && value.attributes",Document:"value !== null && value.nodeType === 9 && value.documentElement",Window:"value !== null && value.document",Event:"value !== null && value.type !== undefined",Class:'value !== null && value.$$type === "Class"',Mixin:'value !== null && value.$$type === "Mixin"',Interface:'value !== null && value.$$type === "Interface"',Theme:'value !== null && value.$$type === "Theme"',Color:"car.lang.Type.isString(value) && car.util.ColorUtil.isValidPropertyValue(value)",Decorator:"value !== null && car.theme.manager.Decoration.getInstance().isValidPropertyValue(value)",Font:"value !== null && car.theme.manager.Font.getInstance().isDynamic(value)"},__dereference:{Node:true,Element:true,Document:true,Window:true,Event:true},$$inherit:"inherit",$$store:{runtime:{},user:{},theme:{},inherit:{},init:{},useinit:{}},$$method:{get:{},set:{},reset:{},init:{},refresh:{},setRuntime:{},resetRuntime:{},setThemed:{},resetThemed:{}},$$allowedKeys:{name:"string",dereference:"boolean",inheritable:"boolean",nullable:"boolean",themeable:"boolean",refine:"boolean",init:null,apply:"string",event:"string",check:null,transform:"string",deferredInit:"boolean",validate:null},$$allowedGroupKeys:{name:"string",group:"object",mode:"string",themeable:"boolean"},$$inheritable:{},__executeOptimizedRefresh:function(b){var c=this.__getInheritablesOfClass(b);if(!c.length){var a=function(){}}else{a=this.__createRefresher(c)}b.prototype.$$refreshInheritables=a},__getInheritablesOfClass:function(b){var d=[];while(b){var c=b.$$properties;if(c){for(var a in this.$$inheritable){if(c[a]&&c[a].inheritable){d.push(a)}}}b=b.superclass}return d},__createRefresher:function(g){var c=this.$$store.inherit;var h=this.$$store.init;var e=this.$$method.refresh;var f=["var parent = this.getLayoutParent();","if (!parent) return;"];for(var d=0,a=g.length;d<a;d++){var b=g[d];f.push("var value = parent.",c[b],";","if (value===undefined) value = parent.",h[b],";","this.",e[b],"(value);")}return new Function(f.join(""))},attachRefreshInheritables:function(a){a.prototype.$$refreshInheritables=function(){car.core.Property.__executeOptimizedRefresh(a);return this.$$refreshInheritables()}},attachMethods:function(c,b,a){a.group?this.__attachGroupMethods(c,a,b):this.__attachPropertyMethods(c,a,b)},__attachGroupMethods:function(n,f,b){var e=car.Bootstrap.firstUp(b);var j=n.prototype;var d=f.themeable===true;if(car.core.Environment.get("car.debug")){if(car.core.Environment.get("car.debug.property.level")>1){car.Bootstrap.debug("Generating property group: "+b)}}var h=[];var o=[];if(d){var r=[];var m=[]}var c="var a=arguments[0] instanceof Array?arguments[0]:arguments;";h.push(c);if(d){r.push(c)}if(f.mode=="shorthand"){var p="a=car.lang.Array.fromShortHand(car.lang.Array.fromArguments(a));";h.push(p);if(d){r.push(p)}}for(var k=0,q=f.group,g=q.length;k<g;k++){if(car.core.Environment.get("car.debug")){if(!this.$$method.set[q[k]]||!this.$$method.reset[q[k]]){throw new Error("Cannot create property group '"+b+"' including non-existing property '"+q[k]+"'!")}}h.push("this.",this.$$method.set[q[k]],"(a[",k,"]);");o.push("this.",this.$$method.reset[q[k]],"();");if(d){if(car.core.Environment.get("car.debug")){if(!this.$$method.setThemed[q[k]]){throw new Error("Cannot add the non themable property '"+q[k]+"' to the themable property group '"+b+"'")}}r.push("this.",this.$$method.setThemed[q[k]],"(a[",k,"]);");m.push("this.",this.$$method.resetThemed[q[k]],"();")}}this.$$method.set[b]="set"+e;j[this.$$method.set[b]]=new Function(h.join(""));this.$$method.reset[b]="reset"+e;j[this.$$method.reset[b]]=new Function(o.join(""));if(d){this.$$method.setThemed[b]="setThemed"+e;j[this.$$method.setThemed[b]]=new Function(r.join(""));this.$$method.resetThemed[b]="resetThemed"+e;j[this.$$method.resetThemed[b]]=new Function(m.join(""))}},__attachPropertyMethods:function(e,d,c){var g=car.Bootstrap.firstUp(c);var b=e.prototype;if(car.core.Environment.get("car.debug")){if(car.core.Environment.get("car.debug.property.level")>1){car.Bootstrap.debug("Generating property wrappers: "+c)}}if(d.dereference===undefined&&typeof d.check==="string"){d.dereference=this.__shouldBeDereferenced(d.check)}var f=this.$$method;var a=this.$$store;a.runtime[c]="$$runtime_"+c;a.user[c]="$$user_"+c;a.theme[c]="$$theme_"+c;a.init[c]="$$init_"+c;a.inherit[c]="$$inherit_"+c;a.useinit[c]="$$useinit_"+c;f.get[c]="get"+g;b[f.get[c]]=function(){return car.core.Property.executeOptimizedGetter(this,e,c,"get")};f.set[c]="set"+g;b[f.set[c]]=function(h){return car.core.Property.executeOptimizedSetter(this,e,c,"set",arguments)};f.reset[c]="reset"+g;b[f.reset[c]]=function(){return car.core.Property.executeOptimizedSetter(this,e,c,"reset")};if(d.inheritable||d.apply||d.event||d.deferredInit){f.init[c]="init"+g;b[f.init[c]]=function(h){return car.core.Property.executeOptimizedSetter(this,e,c,"init",arguments)}}if(d.inheritable){f.refresh[c]="refresh"+g;b[f.refresh[c]]=function(h){return car.core.Property.executeOptimizedSetter(this,e,c,"refresh",arguments)}}f.setRuntime[c]="setRuntime"+g;b[f.setRuntime[c]]=function(h){return car.core.Property.executeOptimizedSetter(this,e,c,"setRuntime",arguments)};f.resetRuntime[c]="resetRuntime"+g;b[f.resetRuntime[c]]=function(){return car.core.Property.executeOptimizedSetter(this,e,c,"resetRuntime")};if(d.themeable){f.setThemed[c]="setThemed"+g;b[f.setThemed[c]]=function(h){return car.core.Property.executeOptimizedSetter(this,e,c,"setThemed",arguments)};f.resetThemed[c]="resetThemed"+g;b[f.resetThemed[c]]=function(){return car.core.Property.executeOptimizedSetter(this,e,c,"resetThemed")}}if(d.check==="Boolean"){b["toggle"+g]=new Function("return this."+f.set[c]+"(!this."+f.get[c]+"())");b["is"+g]=new Function("return this."+f.get[c]+"()")}},__shouldBeDereferenced:function(a){return !!this.__dereference[a]},__shouldBeDereferencedOld:function(a){return this.__dereference[a]||car.util.OOUtil.classIsDefined(a)||(car.Interface&&car.Interface.isDefined(a))},__errors:{0:"Could not change or apply init value after constructing phase!",1:"Requires exactly one argument!",2:"Undefined value is not allowed!",3:"Does not allow any arguments!",4:"Null value is not allowed!",5:"Is invalid!"},error:function(e,g,c,a,b){var d=e.constructor.classname;var f="Error in property "+c+" of class "+d+" in method "+this.$$method[a][c]+" with incoming value '"+b+"': ";throw new Error(f+(this.__errors[g]||"Unknown reason: "+g))},__unwrapFunctionFromCode:function(a,c,e,g,h,d){var b=this.$$method[g][e];if(car.core.Environment.get("car.debug")){if(car.core.Environment.get("car.debug.property.level")>1){car.Bootstrap.debug("Code["+this.$$method[g][e]+"]: "+h.join(""))}try{c[b]=new Function("value",h.join(""))}catch(f){throw new Error("Malformed generated code to unwrap method: "+this.$$method[g][e]+"\n"+h.join(""))}}else{c[b]=new Function("value",h.join(""))}if(car.core.Environment.get("car.aspects")){c[b]=car.core.Aspect.wrap(a.classname+"."+b,c[b],"property")}car.Bootstrap.setDisplayName(c[b],a.classname+".prototype",b);if(d===undefined){return a[b]()}else{if(car.core.Environment.get("car.debug")){return a[b].apply(a,d)}else{return a[b](d[0])}}},executeOptimizedGetter:function(a,f,e,g){var d=f.$$properties[e];var c=f.prototype;var h=[];var b=this.$$store;h.push("if(this.",b.runtime[e],"!==undefined)");h.push("return this.",b.runtime[e],";");if(d.inheritable){h.push("else if(this.",b.inherit[e],"!==undefined)");h.push("return this.",b.inherit[e],";");h.push("else ")}h.push("if(this.",b.user[e],"!==undefined)");h.push("return this.",b.user[e],";");if(d.themeable){h.push("else if(this.",b.theme[e],"!==undefined)");h.push("return this.",b.theme[e],";")}if(d.deferredInit&&d.init===undefined){h.push("else if(this.",b.init[e],"!==undefined)");h.push("return this.",b.init[e],";")}h.push("else ");if(d.init!==undefined){if(d.inheritable){h.push("var init=this.",b.init[e],";");if(d.nullable){h.push("if(init==car.core.Property.$$inherit)init=null;")}else{if(d.init!==undefined){h.push("return this.",b.init[e],";")}else{h.push('if(init==car.core.Property.$$inherit)throw new Error("Inheritable property ',e," of an instance of ",f.classname,' is not (yet) ready!");')}}h.push("return init;")}else{h.push("return this.",b.init[e],";")}}else{if(d.inheritable||d.nullable){h.push("return null;")}else{h.push('throw new Error("Property ',e," of an instance of ",f.classname,' is not (yet) ready!");')}}return this.__unwrapFunctionFromCode(a,c,e,g,h)},executeOptimizedSetter:function(k,g,a,e,h){var d=g.$$properties[a];var f=g.prototype;var b=[];var i=e==="set"||e==="setThemed"||e==="setRuntime"||(e==="init"&&d.init===undefined);var c=d.apply||d.event||d.inheritable;var j=this.__getStore(e,a);this.__emitSetterPreConditions(b,d,a,e,i);if(i){this.__emitIncomingValueTransformation(b,g,d,a)}if(c){this.__emitOldNewComparison(b,i,j,e)}if(d.inheritable){b.push("var inherit=prop.$$inherit;")}if(car.core.Environment.get("car.debug")){if(i){this.__emitIncomingValueValidation(b,d,g,a,e)}}if(!c){this.__emitStoreValue(b,a,e,i)}else{this.__emitStoreComputedAndOldValue(b,d,a,e,i)}if(d.inheritable){this.__emitStoreInheritedPropertyValue(b,d,a,e)}else{if(c){this.__emitNormalizeUndefinedValues(b,d,a,e)}}if(c){this.__emitCallCallback(b,d,a);if(d.inheritable&&f._getChildren){this.__emitRefreshChildrenValue(b,a)}}if(i){b.push("return value;")}return this.__unwrapFunctionFromCode(k,f,a,e,b,h)},__getStore:function(c,b){if(c==="setRuntime"||c==="resetRuntime"){var a=this.$$store.runtime[b]}else{if(c==="setThemed"||c==="resetThemed"){a=this.$$store.theme[b]}else{if(c==="init"){a=this.$$store.init[b]}else{a=this.$$store.user[b]}}}return a},__emitSetterPreConditions:function(e,b,a,c,d){if(car.core.Environment.get("car.debug")){e.push("var prop=car.core.Property;");if(c==="init"){e.push('if(this.$$initialized)prop.error(this,0,"',a,'","',c,'",value);')}if(c==="refresh"){}else{if(d){e.push('if(arguments.length!==1)prop.error(this,1,"',a,'","',c,'",value);');e.push('if(value===undefined)prop.error(this,2,"',a,'","',c,'",value);')}else{e.push('if(arguments.length!==0)prop.error(this,3,"',a,'","',c,'",value);')}}}else{if(!b.nullable||b.check||b.inheritable){e.push("var prop=car.core.Property;")}if(c==="set"){e.push('if(value===undefined)prop.error(this,2,"',a,'","',c,'",value);')}}},__emitIncomingValueTransformation:function(d,c,b,a){if(b.transform){d.push("value=this.",b.transform,"(value);")}if(b.validate){if(typeof b.validate==="string"){d.push("this.",b.validate,"(value);")}else{if(b.validate instanceof Function){d.push(c.classname,".$$properties.",a);d.push(".validate.call(this, value);")}}}},__emitOldNewComparison:function(e,d,b,c){var a=(c==="reset"||c==="resetThemed"||c==="resetRuntime");if(d){e.push("if(this.",b,"===value)return value;")}else{if(a){e.push("if(this.",b,"===undefined)return;")}}},__emitIncomingValueValidation:car.core.Environment.select("car.debug",{"true":function(e,c,b,a,d){if(!c.nullable){e.push('if(value===null)prop.error(this,4,"',a,'","',d,'",value);')}if(c.check!==undefined){e.push("var msg = \"Invalid incoming value for property '"+a+"' of class '"+b.classname+"'\";");if(c.nullable){e.push("if(value!==null)")}if(c.inheritable){e.push("if(value!==inherit)")}e.push("if(");if(this.__checks[c.check]!==undefined){e.push("!(",this.__checks[c.check],")")}else{if(car.Class.isDefined(c.check)){e.push('car.core.Assert.assertInstance(value, car.Class.getByName("',c.check,'"), msg)')}else{if(car.Interface&&car.Interface.isDefined(c.check)){e.push('car.core.Assert.assertInterface(value, car.Interface.getByName("',c.check,'"), msg)')}else{if(typeof c.check==="function"){e.push("!",b.classname,".$$properties.",a);e.push(".check.call(this, value)")}else{if(typeof c.check==="string"){e.push("!(",c.check,")")}else{if(c.check instanceof Array){e.push("car.core.Assert.assertInArray(value, ",b.classname,".$$properties.",a,".check, msg)")}else{throw new Error("Could not add check to property "+a+" of class "+b.classname)}}}}}}e.push(')prop.error(this,5,"',a,'","',d,'",value);')}},"false":undefined}),__emitStoreValue:function(d,a,b,c){if(b==="setRuntime"){d.push("this.",this.$$store.runtime[a],"=value;")}else{if(b==="resetRuntime"){d.push("if(this.",this.$$store.runtime[a],"!==undefined)");d.push("delete this.",this.$$store.runtime[a],";")}else{if(b==="set"){d.push("this.",this.$$store.user[a],"=value;")}else{if(b==="reset"){d.push("if(this.",this.$$store.user[a],"!==undefined)");d.push("delete this.",this.$$store.user[a],";")}else{if(b==="setThemed"){d.push("this.",this.$$store.theme[a],"=value;")}else{if(b==="resetThemed"){d.push("if(this.",this.$$store.theme[a],"!==undefined)");d.push("delete this.",this.$$store.theme[a],";")}else{if(b==="init"&&c){d.push("this.",this.$$store.init[a],"=value;")}}}}}}}},__emitStoreComputedAndOldValue:function(e,b,a,c,d){if(b.inheritable){e.push("var computed, old=this.",this.$$store.inherit[a],";")}else{e.push("var computed, old;")}e.push("if(this.",this.$$store.runtime[a],"!==undefined){");if(c==="setRuntime"){e.push("computed=this.",this.$$store.runtime[a],"=value;")}else{if(c==="resetRuntime"){e.push("delete this.",this.$$store.runtime[a],";");e.push("if(this.",this.$$store.user[a],"!==undefined)");e.push("computed=this.",this.$$store.user[a],";");e.push("else if(this.",this.$$store.theme[a],"!==undefined)");e.push("computed=this.",this.$$store.theme[a],";");e.push("else if(this.",this.$$store.init[a],"!==undefined){");e.push("computed=this.",this.$$store.init[a],";");e.push("this.",this.$$store.useinit[a],"=true;");e.push("}")}else{e.push("old=computed=this.",this.$$store.runtime[a],";");if(c==="set"){e.push("this.",this.$$store.user[a],"=value;")}else{if(c==="reset"){e.push("delete this.",this.$$store.user[a],";")}else{if(c==="setThemed"){e.push("this.",this.$$store.theme[a],"=value;")}else{if(c==="resetThemed"){e.push("delete this.",this.$$store.theme[a],";")}else{if(c==="init"&&d){e.push("this.",this.$$store.init[a],"=value;")}}}}}}}e.push("}");e.push("else if(this.",this.$$store.user[a],"!==undefined){");if(c==="set"){if(!b.inheritable){e.push("old=this.",this.$$store.user[a],";")}e.push("computed=this.",this.$$store.user[a],"=value;")}else{if(c==="reset"){if(!b.inheritable){e.push("old=this.",this.$$store.user[a],";")}e.push("delete this.",this.$$store.user[a],";");e.push("if(this.",this.$$store.runtime[a],"!==undefined)");e.push("computed=this.",this.$$store.runtime[a],";");e.push("if(this.",this.$$store.theme[a],"!==undefined)");e.push("computed=this.",this.$$store.theme[a],";");e.push("else if(this.",this.$$store.init[a],"!==undefined){");e.push("computed=this.",this.$$store.init[a],";");e.push("this.",this.$$store.useinit[a],"=true;");e.push("}")}else{if(c==="setRuntime"){e.push("computed=this.",this.$$store.runtime[a],"=value;")}else{if(b.inheritable){e.push("computed=this.",this.$$store.user[a],";")}else{e.push("old=computed=this.",this.$$store.user[a],";")}}if(c==="setThemed"){e.push("this.",this.$$store.theme[a],"=value;")}else{if(c==="resetThemed"){e.push("delete this.",this.$$store.theme[a],";")}else{if(c==="init"&&d){e.push("this.",this.$$store.init[a],"=value;")}}}}}e.push("}");if(b.themeable){e.push("else if(this.",this.$$store.theme[a],"!==undefined){");if(!b.inheritable){e.push("old=this.",this.$$store.theme[a],";")}if(c==="setRuntime"){e.push("computed=this.",this.$$store.runtime[a],"=value;")}else{if(c==="set"){e.push("computed=this.",this.$$store.user[a],"=value;")}else{if(c==="setThemed"){e.push("computed=this.",this.$$store.theme[a],"=value;")}else{if(c==="resetThemed"){e.push("delete this.",this.$$store.theme[a],";");e.push("if(this.",this.$$store.init[a],"!==undefined){");e.push("computed=this.",this.$$store.init[a],";");e.push("this.",this.$$store.useinit[a],"=true;");e.push("}")}else{if(c==="init"){if(d){e.push("this.",this.$$store.init[a],"=value;")}e.push("computed=this.",this.$$store.theme[a],";")}else{if(c==="refresh"){e.push("computed=this.",this.$$store.theme[a],";")}}}}}}e.push("}")}e.push("else if(this.",this.$$store.useinit[a],"){");if(!b.inheritable){e.push("old=this.",this.$$store.init[a],";")}if(c==="init"){if(d){e.push("computed=this.",this.$$store.init[a],"=value;")}else{e.push("computed=this.",this.$$store.init[a],";")}}else{if(c==="set"||c==="setRuntime"||c==="setThemed"||c==="refresh"){e.push("delete this.",this.$$store.useinit[a],";");if(c==="setRuntime"){e.push("computed=this.",this.$$store.runtime[a],"=value;")}else{if(c==="set"){e.push("computed=this.",this.$$store.user[a],"=value;")}else{if(c==="setThemed"){e.push("computed=this.",this.$$store.theme[a],"=value;")}else{if(c==="refresh"){e.push("computed=this.",this.$$store.init[a],";")}}}}}}e.push("}");if(c==="set"||c==="setRuntime"||c==="setThemed"||c==="init"){e.push("else{");if(c==="setRuntime"){e.push("computed=this.",this.$$store.runtime[a],"=value;")}else{if(c==="set"){e.push("computed=this.",this.$$store.user[a],"=value;")}else{if(c==="setThemed"){e.push("computed=this.",this.$$store.theme[a],"=value;")}else{if(c==="init"){if(d){e.push("computed=this.",this.$$store.init[a],"=value;")}else{e.push("computed=this.",this.$$store.init[a],";")}e.push("this.",this.$$store.useinit[a],"=true;")}}}}e.push("}")}},__emitStoreInheritedPropertyValue:function(d,b,a,c){d.push("if(computed===undefined||computed===inherit){");if(c==="refresh"){d.push("computed=value;")}else{d.push("var pa=this.getLayoutParent();if(pa)computed=pa.",this.$$store.inherit[a],";")}d.push("if((computed===undefined||computed===inherit)&&");d.push("this.",this.$$store.init[a],"!==undefined&&");d.push("this.",this.$$store.init[a],"!==inherit){");d.push("computed=this.",this.$$store.init[a],";");d.push("this.",this.$$store.useinit[a],"=true;");d.push("}else{");d.push("delete this.",this.$$store.useinit[a],";}");d.push("}");d.push("if(old===computed)return value;");d.push("if(computed===inherit){");d.push("computed=undefined;delete this.",this.$$store.inherit[a],";");d.push("}");d.push("else if(computed===undefined)");d.push("delete this.",this.$$store.inherit[a],";");d.push("else this.",this.$$store.inherit[a],"=computed;");d.push("var backup=computed;");if(b.init!==undefined&&c!=="init"){d.push("if(old===undefined)old=this.",this.$$store.init[a],";")}else{d.push("if(old===undefined)old=null;")}d.push("if(computed===undefined||computed==inherit)computed=null;")},__emitNormalizeUndefinedValues:function(d,b,a,c){if(c!=="set"&&c!=="setRuntime"&&c!=="setThemed"){d.push("if(computed===undefined)computed=null;")}d.push("if(old===computed)return value;");if(b.init!==undefined&&c!=="init"){d.push("if(old===undefined)old=this.",this.$$store.init[a],";")}else{d.push("if(old===undefined)old=null;")}},__emitCallCallback:function(c,b,a){if(b.apply){c.push("this.",b.apply,'(computed, old, "',a,'");')}if(b.event){c.push("var reg=car.event.Registration;","if(reg.hasListener(this, '",b.event,"')){","reg.fireEvent(this, '",b.event,"', car.event.type.Data, [computed, old]",")}")}},__emitRefreshChildrenValue:function(b,a){b.push("var a=this._getChildren();if(a)for(var i=0,l=a.length;i<l;i++){");b.push("if(a[i].",this.$$method.refresh[a],")a[i].",this.$$method.refresh[a],"(backup);");b.push("}")}},defer:function(c){var a=navigator.userAgent.indexOf("MSIE 6.0")!=-1;var b=navigator.userAgent.indexOf("rv:1.8.1")!=-1;if(a||b){c.__shouldBeDereferenced=c.__shouldBeDereferencedOld}}});car.Bootstrap.define("car.Class",{statics:{__Property:car.core.Environment.get("module.property")?car.core.Property:null,define:function(d,c){if(!c){var c={}}if(c.include&&!(car.Bootstrap.getClass(c.include)==="Array")){c.include=[c.include]}if(c.implement&&!(car.Bootstrap.getClass(c.implement)==="Array")){c.implement=[c.implement]}var h=false;if(!c.hasOwnProperty("extend")&&!c.type){c.type="static";h=true}if(car.core.Environment.get("car.debug")){try{this.__validateConfig(d,c)}catch(g){if(h){g.message='Assumed static class because no "extend" key was found. '+g.message}throw g}}var b=this.__createClass(d,c.type,c.extend,c.statics,c.construct,c.destruct,c.include);if(c.extend){if(c.properties){this.__addProperties(b,c.properties,true)}if(c.members){this.__addMembers(b,c.members,true,true,false)}if(c.events){this.__addEvents(b,c.events,true)}if(c.include){for(var f=0,a=c.include.length;f<a;f++){this.__addMixin(b,c.include[f],false)}}}if(c.environment){for(var e in c.environment){car.core.Environment.add(e,c.environment[e])}}if(c.implement){for(var f=0,a=c.implement.length;f<a;f++){this.__addInterface(b,c.implement[f])}}if(car.core.Environment.get("car.debug")){this.__validateAbstractInterfaces(b)}if(c.defer){c.defer.self=b;c.defer(b,b.prototype,{add:function(j,i){var k={};k[j]=i;car.Class.__addProperties(b,k,true)}})}return b},undefine:function(a){delete this.$$registry[a];var d=a.split(".");var f=[window];for(var b=0;b<d.length;b++){f.push(f[b][d[b]])}for(var b=f.length-1;b>=1;b--){var e=f[b];var c=f[b-1];if(car.Bootstrap.isFunction(e)||car.Bootstrap.objectGetLength(e)===0){delete c[d[b-1]]}else{break}}},isDefined:car.util.OOUtil.classIsDefined,getTotalNumber:function(){return car.Bootstrap.objectGetLength(this.$$registry)},getByName:car.Bootstrap.getByName,include:function(b,a){if(car.core.Environment.get("car.debug")){if(!a){throw new Error("The mixin to include into class '"+b.classname+"' is undefined/null!")}car.Mixin.isCompatible(a,b)}car.Class.__addMixin(b,a,false)},patch:function(b,a){if(car.core.Environment.get("car.debug")){if(!a){throw new Error("The mixin to patch class '"+b.classname+"' is undefined/null!")}car.Mixin.isCompatible(a,b)}car.Class.__addMixin(b,a,true)},isSubClassOf:function(a,b){if(!a){return false}if(a==b){return true}if(a.prototype instanceof b){return true}return false},getPropertyDefinition:car.util.OOUtil.getPropertyDefinition,getProperties:function(a){var b=[];while(a){if(a.$$properties){b.push.apply(b,car.Bootstrap.getKeys(a.$$properties))}a=a.superclass}return b},getByProperty:function(b,a){while(b){if(b.$$properties&&b.$$properties[a]){return b}b=b.superclass}return null},hasProperty:car.util.OOUtil.hasProperty,getEventType:car.util.OOUtil.getEventType,supportsEvent:car.util.OOUtil.supportsEvent,hasOwnMixin:function(b,a){return b.$$includes&&b.$$includes.indexOf(a)!==-1},getByMixin:function(c,b){var e,d,a;while(c){if(c.$$includes){e=c.$$flatIncludes;for(d=0,a=e.length;d<a;d++){if(e[d]===b){return c}}}c=c.superclass}return null},getMixins:car.util.OOUtil.getMixins,hasMixin:function(b,a){return !!this.getByMixin(b,a)},hasOwnInterface:function(a,b){return a.$$implements&&a.$$implements.indexOf(b)!==-1},getByInterface:car.util.OOUtil.getByInterface,getInterfaces:function(a){var b=[];while(a){if(a.$$implements){b.push.apply(b,a.$$flatImplements)}a=a.superclass}return b},hasInterface:car.util.OOUtil.hasInterface,implementsInterface:function(c,d){var a=c.constructor;if(this.hasInterface(a,d)){return true}try{car.Interface.assertObject(c,d);return true}catch(b){}try{car.Interface.assert(a,d,false);return true}catch(b){}return false},getInstance:function(){if(!this.$$instance){this.$$allowconstruct=true;this.$$instance=new this;delete this.$$allowconstruct}return this.$$instance},genericToString:function(){return"[Class "+this.classname+"]"},$$registry:car.Bootstrap.$$registry,__allowedKeys:car.core.Environment.select("car.debug",{"true":{type:"string",extend:"function",implement:"object",include:"object",construct:"function",statics:"object",properties:"object",members:"object",environment:"object",events:"object",defer:"function",destruct:"function"},"default":null}),__staticAllowedKeys:car.core.Environment.select("car.debug",{"true":{type:"string",statics:"object",environment:"object",defer:"function"},"default":null}),__validateConfig:car.core.Environment.select("car.debug",{"true":function(b,c){if(c.type&&!(c.type==="static"||c.type==="abstract"||c.type==="singleton")){throw new Error('Invalid type "'+c.type+'" definition for class "'+b+'"!')}if(c.type&&c.type!=="static"&&!c.extend){throw new Error('Invalid config in class "'+b+'"! Every non-static class has to extend at least the "car.core.Object" class.')}var h=c.type==="static"?this.__staticAllowedKeys:this.__allowedKeys;for(var k in c){if(!h[k]){throw new Error('The configuration key "'+k+'" in class "'+b+'" is not allowed!')}if(c[k]==null){throw new Error('Invalid key "'+k+'" in class "'+b+'"! The value is undefined/null!')}if(typeof c[k]!==h[k]){throw new Error('Invalid type of key "'+k+'" in class "'+b+'"! The type of the key must be "'+h[k]+'"!')}}var g=["statics","properties","members","environment","settings","variants","events"];for(var e=0,d=g.length;e<d;e++){var k=g[e];if(c[k]!==undefined&&(c[k].$$hash!==undefined||!car.Bootstrap.isObject(c[k]))){throw new Error('Invalid key "'+k+'" in class "'+b+'"! The value needs to be a map!')}}if(c.include){if(car.Bootstrap.getClass(c.include)==="Array"){for(var e=0,j=c.include,d=j.length;e<d;e++){if(j[e]==null||j[e].$$type!=="Mixin"){throw new Error('The include definition in class "'+b+'" contains an invalid mixin at position '+e+": "+j[e])}}}else{throw new Error('Invalid include definition in class "'+b+'"! Only mixins and arrays of mixins are allowed!')}}if(c.implement){if(car.Bootstrap.getClass(c.implement)==="Array"){for(var e=0,j=c.implement,d=j.length;e<d;e++){if(j[e]==null||j[e].$$type!=="Interface"){throw new Error('The implement definition in class "'+b+'" contains an invalid interface at position '+e+": "+j[e])}}}else{throw new Error('Invalid implement definition in class "'+b+'"! Only interfaces and arrays of interfaces are allowed!')}}if(c.include){try{car.Mixin.checkCompatibility(c.include)}catch(f){throw new Error('Error in include definition of class "'+b+'"! '+f.message)}}if(c.environment){for(var k in c.environment){if(k.substr(0,k.indexOf("."))!=b.substr(0,b.indexOf("."))){throw new Error('Forbidden environment setting "'+k+'" found in "'+b+'". It is forbidden to define a environment setting for an external namespace!')}}}if(c.settings){for(var k in c.settings){if(k.substr(0,k.indexOf("."))!=b.substr(0,b.indexOf("."))){throw new Error('Forbidden setting "'+k+'" found in "'+b+'". It is forbidden to define a default setting for an external namespace!')}}}if(c.variants){for(var k in c.variants){if(k.substr(0,k.indexOf("."))!=b.substr(0,b.indexOf("."))){throw new Error('Forbidden variant "'+k+'" found in "'+b+'". It is forbidden to define a variant for an external namespace!')}}}},"default":function(){}}),__validateAbstractInterfaces:car.core.Environment.select("car.debug",{"true":function(a){var d=a.superclass;while(d){if(d.$$classtype!=="abstract"){break}var c=d.$$implements;if(c){for(var b=0;b<c.length;b++){car.Interface.assert(a,c[b],true)}}d=d.superclass}},"default":function(){}}),__createClass:function(b,m,j,o,q,c,g){var f;if(!j&&car.core.Environment.get("car.aspects")==false){f=o||{};car.Bootstrap.setDisplayNames(f,b)}else{var f={};if(j){if(!q){q=this.__createDefaultConstructor()}if(this.__needsConstructorWrapper(j,g)){f=this.__wrapConstructor(q,b,m)}else{f=q}if(m==="singleton"){f.getInstance=this.getInstance}car.Bootstrap.setDisplayName(q,b,"constructor")}if(o){car.Bootstrap.setDisplayNames(o,b);var p;for(var e=0,n=car.Bootstrap.getKeys(o),d=n.length;e<d;e++){p=n[e];var h=o[p];if(car.core.Environment.get("car.aspects")){if(h instanceof Function){h=car.core.Aspect.wrap(b+"."+p,h,"static")}f[p]=h}else{f[p]=h}}}}var k=b?car.Bootstrap.createNamespace(b,f):"";f.name=f.classname=b;f.basename=k;f.$$type="Class";if(m){f.$$classtype=m}if(!f.hasOwnProperty("toString")){f.toString=this.genericToString}if(j){car.Bootstrap.extendClass(f,q,j,b,k);if(c){if(car.core.Environment.get("car.aspects")){c=car.core.Aspect.wrap(b,c,"destructor")}f.$$destructor=c;car.Bootstrap.setDisplayName(c,b,"destruct")}}this.$$registry[b]=f;return f},__addEvents:function(a,c,d){if(car.core.Environment.get("car.debug")){if(typeof c!=="object"||car.Bootstrap.getClass(c)==="Array"){throw new Error(a.classname+": the events must be defined as map!")}for(var b in c){if(typeof c[b]!=="string"){throw new Error(a.classname+"/"+b+": the event value needs to be a string with the class name of the event object which will be fired.")}}if(a.$$events&&d!==true){for(var b in c){if(a.$$events[b]!==undefined&&a.$$events[b]!==c[b]){throw new Error(a.classname+"/"+b+": the event value/type cannot be changed from "+a.$$events[b]+" to "+c[b])}}}}if(a.$$events){for(var b in c){a.$$events[b]=c[b]}}else{a.$$events=c}},__addProperties:function(c,d,g){if(!car.core.Environment.get("module.property")){throw new Error("Property module disabled.")}var b;if(g===undefined){g=false}var f=c.prototype;for(var a in d){b=d[a];if(car.core.Environment.get("car.debug")){this.__validateProperty(c,a,b,g)}b.name=a;if(!b.refine){if(c.$$properties===undefined){c.$$properties={}}c.$$properties[a]=b}if(b.init!==undefined){c.prototype["$$init_"+a]=b.init}if(b.event!==undefined){if(!car.core.Environment.get("module.events")){throw new Error("Events module not enabled.")}var e={};e[b.event]="car.event.type.Data";this.__addEvents(c,e,g)}if(b.inheritable){this.__Property.$$inheritable[a]=true;if(!f.$$refreshInheritables){this.__Property.attachRefreshInheritables(c)}}if(!b.refine){this.__Property.attachMethods(c,a,b)}}},__validateProperty:car.core.Environment.select("car.debug",{"true":function(d,c,b,h){if(!car.core.Environment.get("module.property")){throw new Error("Property module disabled.")}var a=this.hasProperty(d,c);if(a){var f=this.getPropertyDefinition(d,c);if(b.refine&&f.init===undefined){throw new Error("Could not refine an init value if there was previously no init value defined. Property '"+c+"' of class '"+d.classname+"'.")}}if(!a&&b.refine){throw new Error("Could not refine non-existent property: '"+c+"' of class: '"+d.classname+"'!")}if(a&&!h){throw new Error("Class "+d.classname+" already has a property: "+c+"!")}if(a&&h){if(!b.refine){throw new Error('Could not refine property "'+c+'" without a "refine" flag in the property definition! This class: '+d.classname+", original class: "+this.getByProperty(d,c).classname+".")}for(var e in b){if(e!=="init"&&e!=="refine"){throw new Error("Class "+d.classname+" could not refine property: "+c+"! Key: "+e+" could not be refined!")}}}var g=b.group?this.__Property.$$allowedGroupKeys:this.__Property.$$allowedKeys;for(var e in b){if(g[e]===undefined){throw new Error('The configuration key "'+e+'" of property "'+c+'" in class "'+d.classname+'" is not allowed!')}if(b[e]===undefined){throw new Error('Invalid key "'+e+'" of property "'+c+'" in class "'+d.classname+'"! The value is undefined: '+b[e])}if(g[e]!==null&&typeof b[e]!==g[e]){throw new Error('Invalid type of key "'+e+'" of property "'+c+'" in class "'+d.classname+'"! The type of the key must be "'+g[e]+'"!')}}if(b.transform!=null){if(!(typeof b.transform=="string")){throw new Error('Invalid transform definition of property "'+c+'" in class "'+d.classname+'"! Needs to be a String.')}}if(b.check!=null){if(!car.Bootstrap.isString(b.check)&&!car.Bootstrap.isArray(b.check)&&!car.Bootstrap.isFunction(b.check)){throw new Error('Invalid check definition of property "'+c+'" in class "'+d.classname+'"! Needs to be a String, Array or Function.')}}},"default":null}),__addMembers:function(k,f,d,b,c){var j=k.prototype;var n,h;car.Bootstrap.setDisplayNames(f,k.classname+".prototype");for(var g=0,m=car.Bootstrap.getKeys(f),e=m.length;g<e;g++){n=m[g];h=f[n];if(car.core.Environment.get("car.debug")){if(j[n]!==undefined&&n.charAt(0)=="_"&&n.charAt(1)=="_"){throw new Error('Overwriting private member "'+n+'" of Class "'+k.classname+'" is not allowed!')}if(d!==true&&j.hasOwnProperty(n)){throw new Error('Overwriting member "'+n+'" of Class "'+k.classname+'" is not allowed!')}}if(b!==false&&h instanceof Function&&h.$$type==null){if(c==true){h=this.__mixinMemberWrapper(h,j[n])}else{if(j[n]){h.base=j[n]}h.self=k}if(car.core.Environment.get("car.aspects")){h=car.core.Aspect.wrap(k.classname+"."+n,h,"member")}}j[n]=h}},__mixinMemberWrapper:function(b,a){if(a){return function(){var d=b.base;b.base=a;var c=b.apply(this,arguments);b.base=d;return c}}else{return b}},__addInterface:function(a,c){if(car.core.Environment.get("car.debug")){if(!a||!c){throw new Error("Incomplete parameters!")}if(this.hasOwnInterface(a,c)){throw new Error('Interface "'+c.name+'" is already used by Class "'+a.classname+"!")}if(a.$$classtype!=="abstract"){car.Interface.assert(a,c,true)}}var b=car.Interface.flatten([c]);if(a.$$implements){a.$$implements.push(c);a.$$flatImplements.push.apply(a.$$flatImplements,b)}else{a.$$implements=[c];a.$$flatImplements=b}},__retrospectWrapConstruct:function(h){var d=h.classname;var c=this.__wrapConstructor(h,d,h.$$classtype);for(var g=0,j=car.Bootstrap.getKeys(h),e=j.length;g<e;g++){k=j[g];c[k]=h[k]}c.prototype=h.prototype;var f=h.prototype;for(var g=0,j=car.Bootstrap.getKeys(f),e=j.length;g<e;g++){k=j[g];var b=f[k];if(b&&b.self==h){b.self=c}}for(var k in this.$$registry){var m=this.$$registry[k];if(!m){continue}if(m.base==h){m.base=c}if(m.superclass==h){m.superclass=c}if(m.$$original){if(m.$$original.base==h){m.$$original.base=c}if(m.$$original.superclass==h){m.$$original.superclass=c}}}car.Bootstrap.createNamespace(d,c);this.$$registry[d]=c;return c},__addMixin:function(c,b,h){if(car.core.Environment.get("car.debug")){if(!c||!b){throw new Error("Incomplete parameters!")}}if(this.hasMixin(c,b)){return}var e=c.$$original;if(b.$$constructor&&!e){c=this.__retrospectWrapConstruct(c)}var g=car.Mixin.flatten([b]);var f;for(var d=0,a=g.length;d<a;d++){f=g[d];if(f.$$events){this.__addEvents(c,f.$$events,h)}if(f.$$properties){this.__addProperties(c,f.$$properties,h)}if(f.$$members){this.__addMembers(c,f.$$members,h,h,h)}}if(c.$$includes){c.$$includes.push(b);c.$$flatIncludes.push.apply(c.$$flatIncludes,g)}else{c.$$includes=[b];c.$$flatIncludes=g}},__createDefaultConstructor:function(){function a(){a.base.apply(this,arguments)}return a},__createEmptyFunction:function(){return function(){}},__needsConstructorWrapper:function(f,b){if(car.core.Environment.get("car.debug")){return true}if(f&&f.$$includes){var c=f.$$flatIncludes;for(var e=0,a=c.length;e<a;e++){if(c[e].$$constructor){return true}}}if(b){var d=car.Mixin.flatten(b);for(var e=0,a=d.length;e<a;e++){if(d[e].$$constructor){return true}}}return false},__wrapConstructor:function(a,b,d){var e=function(){var j=e;if(car.core.Environment.get("car.debug")){if(!(this instanceof j)){throw new Error("Please initialize '"+b+"' objects using the new keyword!")}if(d==="abstract"){if(this.classname===b){throw new Error("The class ',"+b+"' is abstract! It is not possible to instantiate it.")}}else{if(d==="singleton"){if(!j.$$allowconstruct){throw new Error("The class '"+b+"' is a singleton! It is not possible to instantiate it directly. Use the static getInstance() method instead.")}}}}var h=j.$$original.apply(this,arguments);if(j.$$includes){var g=j.$$flatIncludes;for(var k=0,f=g.length;k<f;k++){if(g[k].$$constructor){g[k].$$constructor.apply(this,arguments)}}}if(car.core.Environment.get("car.debug")){if(this.classname===b){this.$$initialized=true}}return h};if(car.core.Environment.get("car.aspects")){var c=car.core.Aspect.wrap(b,e,"constructor");e.$$original=a;e.constructor=c;e=c}e.$$original=a;a.wrapper=e;return e}},defer:function(){if(car.core.Environment.get("car.aspects")){for(var b in car.Bootstrap.$$registry){var c=car.Bootstrap.$$registry[b];for(var a in c){if(c[a] instanceof Function){c[a]=car.core.Aspect.wrap(b+"."+a,c[a],"static")}}}}}});car.Class.define("car.util.DisposeUtil",{statics:{disposeObjects:function(f,a,e){var c;for(var d=0,b=a.length;d<b;d++){c=a[d];if(f[c]==null||!f.hasOwnProperty(c)){continue}if(!car.core.ObjectRegistry.inShutDown){if(f[c].dispose){if(!e&&f[c].constructor.$$instance){throw new Error("The object stored in key "+c+" is a singleton! Please use disposeSingleton instead.")}else{f[c].dispose()}}else{throw new Error("Has no disposable object under key: "+c+"!")}}f[c]=null}},disposeArray:function(f,e){var d=f[e];if(!d){return}if(car.core.ObjectRegistry.inShutDown){f[e]=null;return}try{var c;for(var b=d.length-1;b>=0;b--){c=d[b];if(c){c.dispose()}}}catch(a){throw new Error("The array field: "+e+" of object: "+f+" has non disposable entries: "+a)}d.length=0;f[e]=null},disposeMap:function(f,e){var d=f[e];if(!d){return}if(car.core.ObjectRegistry.inShutDown){f[e]=null;return}try{var c;for(var b in d){c=d[b];if(d.hasOwnProperty(b)&&c){c.dispose()}}}catch(a){throw new Error("The map field: "+e+" of object: "+f+" has non disposable entries: "+a)}f[e]=null},disposeTriggeredBy:function(a,c){var b=c.dispose;c.dispose=function(){b.call(c);a.dispose()}},destroyContainer:function(c){if(car.core.Environment.get("car.debug")){car.core.Assert.assertQxWidget(c,"First argument must be a container widget!");car.core.Assert.assertTrue(this.__isChildrenContainer(c),"Container must be a instance of car.ui.container.Composite or car.ui.container.Scroll or car.ui.container.Resizer or car.ui.container.SlideBar or car.ui.container.Stack!")}var b=[];this._collectContainerChildren(c,b);var a=b.length;for(var d=a-1;d>=0;d--){b[d].destroy()}c.destroy()},_collectContainerChildren:function(b,a){var d=b.getChildren();for(var c=0;c<d.length;c++){var e=d[c];a.push(e);if(this.__isChildrenContainer(e)){this._collectContainerChildren(e,a)}}},__isChildrenContainer:function(d){var c=[car.ui.container.Composite,car.ui.container.Scroll,car.ui.container.SlideBar,car.ui.container.Stack];for(var b=0,a=c.length;b<a;b++){if(typeof c[b]!=="undefined"&&car.Class.isSubClassOf(d.constructor,c[b])){return true}}return false}}});car.Bootstrap.define("car.lang.String",{statics:{__unicodeLetters:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",__unicodeFirstLetterInWordRegexp:null,__stringsMap:{},camelCase:function(b){var a=this.__stringsMap[b];if(!a){a=b.replace(/\-([a-z])/g,function(c,d){return d.toUpperCase()});this.__stringsMap[b]=a}return a},hyphenate:function(b){var a=this.__stringsMap[b];if(!a){a=b.replace(/[A-Z]/g,function(c){return("-"+c.charAt(0).toLowerCase())});this.__stringsMap[b]=a}return a},capitalize:function(a){if(this.__unicodeFirstLetterInWordRegexp===null){var b="\\u";this.__unicodeFirstLetterInWordRegexp=new RegExp("(^|[^"+this.__unicodeLetters.replace(/[0-9A-F]{4}/g,function(c){return b+c})+"])["+this.__unicodeLetters.replace(/[0-9A-F]{4}/g,function(c){return b+c})+"]","g")}return a.replace(this.__unicodeFirstLetterInWordRegexp,function(c){return c.toUpperCase()})},clean:function(a){return this.trim(a.replace(/\s+/g," "))},trimLeft:function(a){return a.replace(/^\s+/,"")},trimRight:function(a){return a.replace(/\s+$/,"")},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},startsWith:function(a,b){return a.indexOf(b)===0},endsWith:function(a,b){return a.substring(a.length-b.length,a.length)===b},repeat:function(b,a){return b.length>0?new Array(a+1).join(b):""},pad:function(d,b,a){var c=b-d.length;if(c>0){if(typeof a==="undefined"){a="0"}return this.repeat(a,c)+d}else{return d}},firstUp:car.Bootstrap.firstUp,firstLow:car.Bootstrap.firstLow,contains:function(b,a){return b.indexOf(a)!=-1},format:function(c,a){var d=c;var b=a.length;while(b--){d=d.replace(new RegExp("%"+(b+1),"g"),a[b]+"")}return d},escapeRegexpChars:function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},toArray:function(a){return a.split(/\B|\b/g)},stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},stripScripts:function(d,b){var a="";var c=d.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(){a+=arguments[1]+"\n";return""});if(b===true){car.lang.Function.globalEval(a)}return c}}});car.Bootstrap.define("car.lang.Array",{statics:{toArray:function(a,b){return this.cast(a,Array,b)},cast:function(c,e,f){if(c.constructor===e){return c}if(car.data&&car.data.IListData){if(car.Class&&car.Class.hasInterface(c,car.data.IListData)){var c=c.toArray()}}var b=new e;if((car.core.Environment.get("engine.name")=="mshtml")){if(c.item){for(var d=f||0,a=c.length;d<a;d++){b.push(c[d])}return b}}if(Object.prototype.toString.call(c)==="[object Array]"&&f==null){b.push.apply(b,c)}else{b.push.apply(b,Array.prototype.slice.call(c,f||0))}return b},fromArguments:function(a,b){return Array.prototype.slice.call(a,b||0)},fromCollection:function(d){if((car.core.Environment.get("engine.name")=="mshtml")){if(d.item){var a=[];for(var c=0,b=d.length;c<b;c++){a[c]=d[c]}return a}}return Array.prototype.slice.call(d,0)},fromShortHand:function(c){var b=c.length;var a=car.lang.Array.clone(c);switch(b){case 1:a[1]=a[2]=a[3]=a[0];break;case 2:a[2]=a[0];case 3:a[3]=a[1]}return a},clone:function(a){return a.concat()},insertAt:function(a,c,b){a.splice(b,0,c);return a},insertBefore:function(a,d,c){var b=a.indexOf(c);if(b==-1){a.push(d)}else{a.splice(b,0,d)}return a},insertAfter:function(a,d,c){var b=a.indexOf(c);if(b==-1||b==(a.length-1)){a.push(d)}else{a.splice(b+1,0,d)}return a},removeAt:function(a,b){return a.splice(b,1)[0]},removeAll:function(a){a.length=0;return this},append:function(b,a){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertArray(b,"The first parameter must be an array.");car.core.Assert&&car.core.Assert.assertArray(a,"The second parameter must be an array.")}Array.prototype.push.apply(b,a);return b},exclude:function(d,b){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertArray(d,"The first parameter must be an array.");car.core.Assert&&car.core.Assert.assertArray(b,"The second parameter must be an array.")}for(var e=0,a=b.length,c;e<a;e++){c=d.indexOf(b[e]);if(c!=-1){d.splice(c,1)}}return d},indexOf:function(a,d,e,b){if(e==null){e=0}if(b==null){b=a.length-1}for(var c=e;c<=b;c++){if(a[c]==d){return c}}return -1},remove:function(a,c){var b=this.indexOf(a,c);if(b!=-1){a.splice(b,1);return c}},contains:function(a,b){return a.indexOf(b)!==-1},equals:function(b,a){var d=b.length;if(d!==a.length){return false}for(var c=0;c<d;c++){if(b[c]!==a[c]){return false}}return true},sum:function(b){var a=0;for(var d=0,c=b.length;d<c;d++){a+=b[d]}return a},max:function(c){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertArray(c,"Parameter must be an array.")}var d,b=c.length,a=c[0];for(d=1;d<b;d++){if(c[d]>a){a=c[d]}}return a===undefined?null:a},min:function(c){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertArray(c,"Parameter must be an array.")}var d,b=c.length,a=c[0];for(d=1;d<b;d++){if(c[d]<a){a=c[d]}}return a===undefined?null:a},unique:function(h){var l=[],c={},e={},d={};var n,k=0;var o="car"+car.lang.Date.now();var b=false,a=false,p=false;for(var g=0,j=h.length;g<j;g++){n=h[g];if(n===null){if(!b){b=true;l.push(n)}}else{if(n===undefined){}else{if(n===false){if(!a){a=true;l.push(n)}}else{if(n===true){if(!p){p=true;l.push(n)}}else{if(typeof n==="string"){if(!c[n]){c[n]=1;l.push(n)}}else{if(typeof n==="number"){if(!e[n]){e[n]=1;l.push(n)}}else{var f=n[o];if(f==null){f=n[o]=k++}if(!d[f]){d[f]=n;l.push(n)}}}}}}}}for(var f in d){try{delete d[f][o]}catch(m){try{d[f][o]=null}catch(m){throw new Error("Cannot clean-up map entry doneObjects["+f+"]["+o+"]")}}}return l}}});car.Bootstrap.define("car.lang.Type",{statics:{getClass:car.Bootstrap.getClass,isString:car.Bootstrap.isString,isArray:car.Bootstrap.isArray,isObject:car.Bootstrap.isObject,isFunction:car.Bootstrap.isFunction,isRegExp:function(a){return this.getClass(a)=="RegExp"},isNumber:function(a){return(a!==null&&(this.getClass(a)=="Number"||a instanceof Number))},isBoolean:function(a){return(a!==null&&(this.getClass(a)=="Boolean"||a instanceof Boolean))},isDate:function(a){return(a!==null&&(this.getClass(a)=="Date"||a instanceof Date))},isError:function(a){return(a!==null&&(this.getClass(a)=="Error"||a instanceof Error))}}});car.Bootstrap.define("car.lang.Object",{statics:{empty:function(b){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(b,"Invalid argument 'map'")}for(var a in b){if(b.hasOwnProperty(a)){delete b[a]}}},isEmpty:function(b){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(b,"Invalid argument 'map'")}for(var a in b){return false}return true},hasMinLength:function(d,a){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(d,"Invalid argument 'map'");car.core.Assert&&car.core.Assert.assertInteger(a,"Invalid argument 'minLength'")}if(a<=0){return true}var c=0;for(var b in d){if((++c)>=a){return true}}return false},getLength:car.Bootstrap.objectGetLength,getKeys:car.Bootstrap.getKeys,getKeysAsString:car.Bootstrap.getKeysAsString,getValues:function(e){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(e,"Invalid argument 'map'")}var a=[];var d=this.getKeys(e);for(var c=0,b=d.length;c<b;c++){a.push(e[d[c]])}return a},mergeWith:car.Bootstrap.objectMergeWith,carefullyMergeWith:function(b,a){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(b,"Invalid argument 'target'");car.core.Assert&&car.core.Assert.assertMap(a,"Invalid argument 'source'")}return car.lang.Object.mergeWith(b,a,false)},merge:function(d,b){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(d,"Invalid argument 'target'")}var a=arguments.length;for(var c=1;c<a;c++){car.lang.Object.mergeWith(d,arguments[c])}return d},clone:function(d,a){if(car.lang.Type.isObject(d)){var e={};for(var c in d){if(a){e[c]=car.lang.Object.clone(d[c],a)}else{e[c]=d[c]}}return e}else{if(car.lang.Type.isArray(d)){var e=[];for(var b=0;b<d.length;b++){if(a){e[b]=car.lang.Object.clone(d[b])}else{e[b]=d[b]}}return e}}return d},invert:function(c){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(c,"Invalid argument 'map'")}var a={};for(var b in c){a[c[b].toString()]=b}return a},getKeyFromValue:function(c,b){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(c,"Invalid argument 'map'")}for(var a in c){if(c.hasOwnProperty(a)&&c[a]===b){return a}}return null},contains:function(b,a){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(b,"Invalid argument 'map'")}return this.getKeyFromValue(b,a)!==null},select:function(a,b){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertMap(b,"Invalid argument 'map'")}return b[a]},fromArray:function(d){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertArray(d,"Invalid argument 'array'")}var c={};for(var b=0,a=d.length;b<a;b++){if(car.core.Environment.get("car.debug")){switch(typeof d[b]){case"object":case"function":case"undefined":throw new Error("Could not convert complex objects like "+d[b]+" at array index "+b+" to map syntax")}}c[d[b].toString()]=true}return c},toUriParameter:function(f,c){var b,e=[];for(b in f){if(f.hasOwnProperty(b)){var d=f[b];if(d instanceof Array){for(var a=0;a<d.length;a++){this.__toUriParameter(b,d[a],e,c)}}else{this.__toUriParameter(b,d,e,c)}}}return e.join("&")},__toUriParameter:function(b,d,e,a){var c=window.encodeURIComponent;if(a){e.push(c(b).replace(/%20/g,"+")+"="+c(d).replace(/%20/g,"+"))}else{e.push(c(b)+"="+c(d))}}}});car.Bootstrap.define("car.lang.Function",{statics:{getCaller:function(a){return a.caller?a.caller.callee:a.callee.caller},getName:function(d){if(d.displayName){return d.displayName}if(d.$$original||d.wrapper||d.classname){return d.classname+".constructor()"}if(d.$$mixin){for(var c in d.$$mixin.$$members){if(d.$$mixin.$$members[c]==d){return d.$$mixin.name+".prototype."+c+"()"}}for(var c in d.$$mixin){if(d.$$mixin[c]==d){return d.$$mixin.name+"."+c+"()"}}}if(d.self){var a=d.self.constructor;if(a){for(var c in a.prototype){if(a.prototype[c]==d){return a.classname+".prototype."+c+"()"}}for(var c in a){if(a[c]==d){return a.classname+"."+c+"()"}}}}var b=d.toString().match(/function\s*(\w*)\s*\(.*/);if(b&&b.length>=1&&b[1]){return b[1]+"()"}return"anonymous()"},globalEval:function(data){if(window.execScript){return window.execScript(data)}else{return eval.call(window,data)}},empty:function(){},returnTrue:function(){return true},returnFalse:function(){return false},returnNull:function(){return null},returnThis:function(){return this},returnZero:function(){return 0},create:function(b,a){if(car.core.Environment.get("car.debug")){car.core.Assert&&car.core.Assert.assertFunction(b,"Invalid parameter 'func'.")}if(!a){return b}if(!(a.self||a.args||a.delay!=null||a.periodical!=null||a.attempt)){return b}return function(f){if(car.core.Environment.get("car.debug")){if(car.core&&car.core.Object&&a.self&&a.self instanceof car.core.Object){car.core.Assert&&car.core.Assert.assertFalse(a.self.isDisposed(),"Trying to call a bound function with a disposed object as context: "+a.self.toString()+" :: "+car.lang.Function.getName(b))}}var d=car.lang.Array.fromArguments(arguments);if(a.args){d=a.args.concat(d)}if(a.delay||a.periodical){var g=function(){return b.apply(a.self||this,d)};if(a.delay){return window.setTimeout(g,a.delay)}if(a.periodical){return window.setInterval(g,a.periodical)}}else{if(a.attempt){var c=false;try{c=b.apply(a.self||this,d)}catch(e){}return c}else{return b.apply(a.self||this,d)}}}},bind:function(c,b,a){return this.create(c,{self:b,args:arguments.length>2?car.lang.Array.fromArguments(arguments,2):null})},curry:function(b,a){return this.create(b,{args:arguments.length>1?car.lang.Array.fromArguments(arguments,1):null})},listener:function(d,c,b){if(arguments.length<3){return function(e){return d.call(c||this,e||window.event)}}else{var a=car.lang.Array.fromArguments(arguments,2);return function(f){var e=[f||window.event];e.push.apply(e,a);d.apply(c||this,e)}}},attempt:function(c,b,a){return this.create(c,{self:b,attempt:true,args:arguments.length>2?car.lang.Array.fromArguments(arguments,2):null})()},delay:function(d,c,b,a){return this.create(d,{delay:c,self:b,args:arguments.length>3?car.lang.Array.fromArguments(arguments,3):null})()},periodical:function(d,c,b,a){return this.create(d,{periodical:c,self:b,args:arguments.length>3?car.lang.Array.fromArguments(arguments,3):null})()}}});car.Bootstrap.define("car.bom.Event",{statics:{addNativeListener:function(d,b,c,a){if(d.addEventListener){d.addEventListener(b,c,!!a)}else{if(d.attachEvent){d.attachEvent("on"+b,c)}else{if(typeof d["on"+b]!="undefined"){d["on"+b]=c}else{if(car.core.Environment.get("car.debug")){car.log.Logger.warn("No method available to add native listener to "+d)}}}}},removeNativeListener:function(f,b,c,a){if(f.removeEventListener){f.removeEventListener(b,c,!!a)}else{if(f.detachEvent){try{f.detachEvent("on"+b,c)}catch(d){if(d.number!==-2146828218){throw d}}}else{if(typeof f["on"+b]!="undefined"){f["on"+b]=null}else{if(car.core.Environment.get("car.debug")){car.log.Logger.warn("No method available to remove native listener from "+f)}}}}},getTarget:function(a){return a.target||a.srcElement},getRelatedTarget:function(a){if(a.relatedTarget!==undefined){if((car.core.Environment.get("engine.name")=="gecko")){try{a.relatedTarget&&a.relatedTarget.nodeType}catch(a){return null}}return a.relatedTarget}else{if(a.fromElement!==undefined&&a.type==="mouseover"){return a.fromElement}else{if(a.toElement!==undefined){return a.toElement}else{return null}}}},preventDefault:function(b){if(b.preventDefault){b.preventDefault()}else{try{b.keyCode=0}catch(a){}b.returnValue=false}},stopPropagation:function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}},fire:function(c,b){if(document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent(b,true,true);return !c.dispatchEvent(a)}else{var a=document.createEventObject();return c.fireEvent("on"+b,a)}},supportsEvent:function(d,c){var b="on"+c;var a=(b in d);if(!a){a=typeof d[b]=="function";if(!a&&d.setAttribute){d.setAttribute(b,"return;");a=typeof d[b]=="function";d.removeAttribute(b)}}return a}}});car.Bootstrap.define("car.bom.Style",{statics:{VENDOR_PREFIXES:["Webkit","Moz","O","ms","Khtml"],getPropertyName:function(c){var e=document.documentElement.style;if(e[c]!==undefined){return c}for(var d=0,b=this.VENDOR_PREFIXES.length;d<b;d++){var a=this.VENDOR_PREFIXES[d]+car.lang.String.firstUp(c);if(e[a]!==undefined){return a}}return null},getAppliedStyle:function(e,g,j,c){var b=(c!==false)?[null].concat(this.VENDOR_PREFIXES):[null];for(var f=0,d=b.length;f<d;f++){var a=b[f]?"-"+b[f].toLowerCase()+"-"+j:j;try{e.style[g]=a;if(typeof e.style[g]=="string"&&e.style[g]!==""){return a}}catch(h){}}return null}}});car.Bootstrap.define("car.bom.client.Engine",{statics:{getVersion:function(){var c=window.navigator.userAgent;var a="";if(car.bom.client.Engine.__isOpera()){if(/Opera[\s\/]([0-9]+)\.([0-9])([0-9]*)/.test(c)){if(c.indexOf("Version/")!=-1){var b=c.match(/Version\/(\d+)\.(\d+)/);a=b[1]+"."+b[2].charAt(0)+"."+b[2].substring(1,b[2].length)}else{a=RegExp.$1+"."+RegExp.$2;if(RegExp.$3!=""){a+="."+RegExp.$3}}}}else{if(car.bom.client.Engine.__isWebkit()){if(/AppleWebKit\/([^ ]+)/.test(c)){a=RegExp.$1;var d=RegExp("[^\\.0-9]").exec(a);if(d){a=a.slice(0,d.index)}}}else{if(car.bom.client.Engine.__isGecko()||car.bom.client.Engine.__isMaple()){if(/rv\:([^\);]+)(\)|;)/.test(c)){a=RegExp.$1}}else{if(car.bom.client.Engine.__isMshtml()){if(/MSIE\s+([^\);]+)(\)|;)/.test(c)){a=RegExp.$1;if(a<8&&/Trident\/([^\);]+)(\)|;)/.test(c)){if(RegExp.$1=="4.0"){a="8.0"}else{if(RegExp.$1=="5.0"){a="9.0"}}}}}else{var e=window.qxFail;if(e&&typeof e==="function"){a=e().FULLVERSION}else{a="1.9.0.0";car.Bootstrap.warn("Unsupported client: "+c+"! Assumed gecko version 1.9.0.0 (Firefox 3.0).")}}}}}return a},getName:function(){var a;if(car.bom.client.Engine.__isOpera()){a="opera"}else{if(car.bom.client.Engine.__isWebkit()){a="webkit"}else{if(car.bom.client.Engine.__isGecko()||car.bom.client.Engine.__isMaple()){a="gecko"}else{if(car.bom.client.Engine.__isMshtml()){a="mshtml"}else{var b=window.qxFail;if(b&&typeof b==="function"){a=b().NAME}else{a="gecko";car.Bootstrap.warn("Unsupported client: "+window.navigator.userAgent+"! Assumed gecko version 1.9.0.0 (Firefox 3.0).")}}}}}return a},__isOpera:function(){return window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]"},__isWebkit:function(){return window.navigator.userAgent.indexOf("AppleWebKit/")!=-1},__isMaple:function(){return window.navigator.userAgent.indexOf("Maple")!=-1},__isGecko:function(){return window.controllers&&window.navigator.product==="Gecko"&&window.navigator.userAgent.indexOf("Maple")==-1},__isMshtml:function(){return window.navigator.cpuClass&&/MSIE\s+([^\);]+)(\)|;)/.test(window.navigator.userAgent)}},defer:function(a){car.core.Environment.add("engine.version",a.getVersion);car.core.Environment.add("engine.name",a.getName)}});car.Bootstrap.define("car.bom.client.Browser",{statics:{getName:function(){var e=navigator.userAgent;var d=new RegExp("("+car.bom.client.Browser.__agents+")(/| )([0-9]+.[0-9])");var b=e.match(d);if(!b){return""}var a=b[1].toLowerCase();var c=car.bom.client.Engine.getName();if(c==="webkit"){if(a==="android"){a="mobile chrome"}else{if(e.indexOf("Mobile Safari")!==-1||e.indexOf("Mobile/")!==-1){a="mobile safari"}}}else{if(c==="mshtml"){if(a==="msie"){a="ie";if(car.bom.client.OperatingSystem.getVersion()==="ce"){a="iemobile"}}}else{if(c==="opera"){if(a==="opera mobi"){a="operamobile"}else{if(a==="opera mini"){a="operamini"}}}else{if(c==="gecko"){if(e.indexOf("Maple")!==-1){a="maple"}}}}}return a},getVersion:function(){var e=navigator.userAgent;var d=new RegExp("("+car.bom.client.Browser.__agents+")(/| )([0-9]+.[0-9])");var c=e.match(d);if(!c){return""}var b=c[1].toLowerCase();var a=c[3];if(e.match(/Version(\/| )([0-9]+\.[0-9])/)){a=RegExp.$2}if(car.bom.client.Engine.getName()=="mshtml"){a=car.bom.client.Engine.getVersion();if(b==="msie"&&car.bom.client.OperatingSystem.getVersion()=="ce"){a="5.0"}}if(car.bom.client.Browser.getName()=="maple"){d=new RegExp("(Maple )([0-9]+.[0-9]+.[0-9]*)");c=e.match(d);if(!c){return""}a=c[2]}return a},getDocumentMode:function(){if(document.documentMode){return document.documentMode}return 0},getQuirksMode:function(){if(car.bom.client.Engine.getName()=="mshtml"&&parseFloat(car.bom.client.Engine.getVersion())>=8){return car.bom.client.Engine.DOCUMENT_MODE===5}else{return document.compatMode!=="CSS1Compat"}},__agents:{webkit:"AdobeAIR|Titanium|Fluid|Chrome|Android|Epiphany|Konqueror|iCab|OmniWeb|Maxthon|Pre|Mobile Safari|Safari",gecko:"prism|Fennec|Camino|Kmeleon|Galeon|Netscape|SeaMonkey|Namoroka|Firefox",mshtml:"IEMobile|Maxthon|MSIE",opera:"Opera Mini|Opera Mobi|Opera"}[car.bom.client.Engine.getName()]},defer:function(a){car.core.Environment.add("browser.name",a.getName),car.core.Environment.add("browser.version",a.getVersion),car.core.Environment.add("browser.documentmode",a.getDocumentMode),car.core.Environment.add("browser.quirksmode",a.getQuirksMode)}});car.Class.define("car.event.Manager",{extend:Object,construct:function(c,b){this.__window=c;this.__windowId=car.core.ObjectRegistry.toHashCode(c);this.__registration=b;if(c.car!==car){var a=this;car.bom.Event.addNativeListener(c,"unload",car.event.GlobalError.observeMethod(function(){car.bom.Event.removeNativeListener(c,"unload",arguments.callee);a.dispose()}))}this.__listeners={};this.__handlers={};this.__dispatchers={};this.__handlerCache={}},statics:{__lastUnique:0,getNextUniqueId:function(){return(this.__lastUnique++)+""}},members:{__registration:null,__listeners:null,__dispatchers:null,__disposeWrapper:null,__handlers:null,__handlerCache:null,__window:null,__windowId:null,getWindow:function(){return this.__window},getWindowId:function(){return this.__windowId},getHandler:function(a){var b=this.__handlers[a.classname];if(b){return b}return this.__handlers[a.classname]=new a(this)},getDispatcher:function(a){var b=this.__dispatchers[a.classname];if(b){return b}return this.__dispatchers[a.classname]=new a(this,this.__registration)},getListeners:function(f,d,b){var a=f.$$hash||car.core.ObjectRegistry.toHashCode(f);var c=this.__listeners[a];if(!c){return null}var e=d+(b?"|capture":"|bubble");var g=c[e];return g?g.concat():null},getAllListeners:function(){return this.__listeners},serializeListeners:function(f){var a=f.$$hash||car.core.ObjectRegistry.toHashCode(f);var c=this.__listeners[a];var n=[];if(c){var j,h,m,b,k;for(var g in c){j=g.indexOf("|");h=g.substring(0,j);m=g.charAt(j+1)=="c";b=c[g];for(var e=0,d=b.length;e<d;e++){k=b[e];n.push({self:k.context,handler:k.handler,type:h,capture:m})}}}return n},toggleAttachedEvents:function(e,d){var a=e.$$hash||car.core.ObjectRegistry.toHashCode(e);var c=this.__listeners[a];if(c){var h,g,i,b;for(var f in c){h=f.indexOf("|");g=f.substring(0,h);i=f.charCodeAt(h+1)===99;b=c[f];if(d){this.__registerAtHandler(e,g,i)}else{this.__unregisterAtHandler(e,g,i)}}}},hasListener:function(f,d,b){if(car.core.Environment.get("car.debug")){if(f==null){car.log.Logger.trace(this);throw new Error("Invalid object: "+f)}}var a=f.$$hash||car.core.ObjectRegistry.toHashCode(f);var c=this.__listeners[a];if(!c){return false}var e=d+(b?"|capture":"|bubble");var g=c[e];return !!(g&&g.length>0)},importListeners:function(f,g){if(car.core.Environment.get("car.debug")){if(f==null){car.log.Logger.trace(this);throw new Error("Invalid object: "+f)}}var a=f.$$hash||car.core.ObjectRegistry.toHashCode(f);var c=this.__listeners[a]={};var e=car.event.Manager;for(var d in g){var i=g[d];var h=i.type+(i.capture?"|capture":"|bubble");var b=c[h];if(!b){b=c[h]=[];this.__registerAtHandler(f,i.type,i.capture)}b.push({handler:i.listener,context:i.self,unique:i.unique||(e.__lastUnique++)+""})}},addListener:function(g,i,d,l,k){if(car.core.Environment.get("car.debug")){var c="Failed to add event listener for type '"+i+"' to the target '"+g.classname+"': ";car.core.Assert.assertObject(g,c+"Invalid Target.");car.core.Assert.assertString(i,c+"Invalid event type.");car.core.Assert.assertFunction(d,c+"Invalid callback function");if(k!==undefined){car.core.Assert.assertBoolean(k,"Invalid capture flag.")}}var a=g.$$hash||car.core.ObjectRegistry.toHashCode(g);var e=this.__listeners[a];if(!e){e=this.__listeners[a]={}}var h=i+(k?"|capture":"|bubble");var b=e[h];if(!b){b=e[h]=[]}if(b.length===0){this.__registerAtHandler(g,i,k)}var f=(car.event.Manager.__lastUnique++)+"";var j={handler:d,context:l,unique:f};b.push(j);return h+"|"+f},findHandler:function(k,m){var o=false,c=false,r=false,g=false;var q;if(k.nodeType===1){o=true;q="DOM_"+k.tagName.toLowerCase()+"_"+m}else{if(k.nodeType===9){g=true;q="DOCUMENT_"+m}else{if(k==this.__window){c=true;q="WIN_"+m}else{if(k.classname){r=true;q="QX_"+k.classname+"_"+m}else{q="UNKNOWN_"+k+"_"+m}}}}var a=this.__handlerCache;if(a[q]){return a[q]}var e=this.__registration.getHandlers();var b=car.event.IEventHandler;var j,p,h,n;for(var f=0,d=e.length;f<d;f++){j=e[f];h=j.SUPPORTED_TYPES;if(h&&!h[m]){continue}n=j.TARGET_CHECK;if(n){var s=false;if(o&&((n&b.TARGET_DOMNODE)!=0)){s=true}else{if(c&&((n&b.TARGET_WINDOW)!=0)){s=true}else{if(r&&((n&b.TARGET_OBJECT)!=0)){s=true}else{if(g&&((n&b.TARGET_DOCUMENT)!=0)){s=true}}}}if(!s){continue}}p=this.getHandler(e[f]);if(j.IGNORE_CAN_HANDLE||p.canHandleEvent(k,m)){a[q]=p;return p}}return null},__registerAtHandler:function(d,c,a){var b=this.findHandler(d,c);if(b){b.registerEvent(d,c,a);return}if(car.core.Environment.get("car.debug")){car.log.Logger.warn(this,"There is no event handler for the event '"+c+"' on target '"+d+"'!")}},removeListener:function(h,k,d,o,n){if(car.core.Environment.get("car.debug")){var c="Failed to remove event listener for type '"+k+"' from the target '"+h.classname+"': ";car.core.Assert.assertObject(h,c+"Invalid Target.");car.core.Assert.assertString(k,c+"Invalid event type.");car.core.Assert.assertFunction(d,c+"Invalid callback function");if(o!==undefined){car.core.Assert.assertObject(o,"Invalid context for callback.")}if(n!==undefined){car.core.Assert.assertBoolean(n,"Invalid capture flag.")}}var a=h.$$hash||car.core.ObjectRegistry.toHashCode(h);var e=this.__listeners[a];if(!e){return false}var j=k+(n?"|capture":"|bubble");var b=e[j];if(!b){return false}var m;for(var g=0,f=b.length;g<f;g++){m=b[g];if(m.handler===d&&m.context===o){car.lang.Array.removeAt(b,g);if(b.length==0){this.__unregisterAtHandler(h,k,n)}return true}}return false},removeListenerById:function(j,b){if(car.core.Environment.get("car.debug")){var d="Failed to remove event listener for id '"+b+"' from the target '"+j.classname+"': ";car.core.Assert.assertObject(j,d+"Invalid Target.");car.core.Assert.assertString(b,d+"Invalid id type.")}var n=b.split("|");var m=n[0];var p=n[1].charCodeAt(0)==99;var g=n[2];var a=j.$$hash||car.core.ObjectRegistry.toHashCode(j);var e=this.__listeners[a];if(!e){return false}var k=m+(p?"|capture":"|bubble");var c=e[k];if(!c){return false}var o;for(var h=0,f=c.length;h<f;h++){o=c[h];if(o.unique===g){car.lang.Array.removeAt(c,h);if(c.length==0){this.__unregisterAtHandler(j,m,p)}return true}}return false},removeAllListeners:function(g){var a=g.$$hash||car.core.ObjectRegistry.toHashCode(g);var d=this.__listeners[a];if(!d){return false}var c,e,b;for(var f in d){if(d[f].length>0){c=f.split("|");e=c[0];b=c[1]==="capture";this.__unregisterAtHandler(g,e,b)}}delete this.__listeners[a];return true},deleteAllListeners:function(a){delete this.__listeners[a]},__unregisterAtHandler:function(d,c,a){var b=this.findHandler(d,c);if(b){b.unregisterEvent(d,c,a);return}if(car.core.Environment.get("car.debug")){car.log.Logger.warn(this,"There is no event handler for the event '"+c+"' on target '"+d+"'!")}},dispatchEvent:function(g,a){if(car.core.Environment.get("car.debug")){var b="Could not dispatch event '"+a+"' on target '"+g.classname+"': ";car.core.Assert.assertNotUndefined(g,b+"Invalid event target.");car.core.Assert.assertNotNull(g,b+"Invalid event target.");car.core.Assert.assertInstance(a,car.event.type.Event,b+"Invalid event object.")}var j=a.getType();if(!a.getBubbles()&&!this.hasListener(g,j)){car.event.Pool.getInstance().poolObject(a);return true}if(!a.getTarget()){a.setTarget(g)}var d=this.__registration.getDispatchers();var k;var h=false;for(var e=0,c=d.length;e<c;e++){k=this.getDispatcher(d[e]);if(k.canDispatchEvent(g,a,j)){k.dispatchEvent(g,a,j);h=true;break}}if(!h){if(car.core.Environment.get("car.debug")){car.log.Logger.error(this,"No dispatcher can handle event of type "+j+" on "+g)}return true}var f=a.getDefaultPrevented();car.event.Pool.getInstance().poolObject(a);return !f},dispose:function(){this.__registration.removeManager(this);car.util.DisposeUtil.disposeMap(this,"__handlers");car.util.DisposeUtil.disposeMap(this,"__dispatchers");this.__listeners=this.__window=this.__disposeWrapper=null;this.__registration=this.__handlerCache=null}}});car.Class.define("car.event.Registration",{statics:{__managers:{},getManager:function(c){if(c==null){if(car.core.Environment.get("car.debug")){car.log.Logger.error("car.event.Registration.getManager(null) was called!");car.log.Logger.trace(this)}c=window}else{if(c.nodeType){c=car.dom.Node.getWindow(c)}else{if(!car.dom.Node.isWindow(c)){c=window}}}var b=c.$$hash||car.core.ObjectRegistry.toHashCode(c);var a=this.__managers[b];if(!a){a=new car.event.Manager(c,this);this.__managers[b]=a}return a},removeManager:function(a){var b=a.getWindowId();delete this.__managers[b]},addListener:function(e,c,d,b,a){return this.getManager(e).addListener(e,c,d,b,a)},removeListener:function(e,c,d,b,a){return this.getManager(e).removeListener(e,c,d,b,a)},removeListenerById:function(a,b){return this.getManager(a).removeListenerById(a,b)},removeAllListeners:function(a){return this.getManager(a).removeAllListeners(a)},deleteAllListeners:function(b){var a=b.$$hash;if(a){this.getManager(b).deleteAllListeners(a)}},hasListener:function(c,b,a){return this.getManager(c).hasListener(c,b,a)},serializeListeners:function(a){return this.getManager(a).serializeListeners(a)},createEvent:function(c,b,a){if(car.core.Environment.get("car.debug")){if(arguments.length>1&&b===undefined){throw new Error("Create event of type "+c+" with undefined class. Please use null to explicit fallback to default event type!")}}if(b==null){b=car.event.type.Event}var d=car.event.Pool.getInstance().getObject(b);a?d.init.apply(d,a):d.init();if(c){d.setType(c)}return d},dispatchEvent:function(b,a){return this.getManager(b).dispatchEvent(b,a)},fireEvent:function(e,d,c,b){if(car.core.Environment.get("car.debug")){if(arguments.length>2&&c===undefined&&b!==undefined){throw new Error("Create event of type "+d+" with undefined class. Please use null to explicit fallback to default event type!")}var f="Could not fire event '"+d+"' on target '"+(e?e.classname:"undefined")+"': ";car.core.Assert.assertNotUndefined(e,f+"Invalid event target.");car.core.Assert.assertNotNull(e,f+"Invalid event target.")}var a=this.createEvent(d,c||null,b);return this.getManager(e).dispatchEvent(e,a)},fireNonBubblingEvent:function(f,d,c,b){if(car.core.Environment.get("car.debug")){if(arguments.length>2&&c===undefined&&b!==undefined){throw new Error("Create event of type "+d+" with undefined class. Please use null to explicit fallback to default event type!")}}var e=this.getManager(f);if(!e.hasListener(f,d,false)){return true}var a=this.createEvent(d,c||null,b);return e.dispatchEvent(f,a)},PRIORITY_FIRST:-32000,PRIORITY_NORMAL:0,PRIORITY_LAST:32000,__handlers:[],addHandler:function(a){if(car.core.Environment.get("car.debug")){car.core.Assert.assertInterface(a,car.event.IEventHandler,"Invalid event handler.")}this.__handlers.push(a);this.__handlers.sort(function(d,c){return d.PRIORITY-c.PRIORITY})},getHandlers:function(){return this.__handlers},__dispatchers:[],addDispatcher:function(b,a){if(car.core.Environment.get("car.debug")){car.core.Assert.assertInterface(b,car.event.IEventDispatcher,"Invalid event dispatcher!")}this.__dispatchers.push(b);this.__dispatchers.sort(function(d,c){return d.PRIORITY-c.PRIORITY})},getDispatchers:function(){return this.__dispatchers}}});car.Mixin.define("car.core.MEvents",{members:{__Registration:car.event.Registration,addListener:function(c,d,b,a){if(!this.$$disposed){return this.__Registration.addListener(this,c,d,b,a)}return null},addListenerOnce:function(c,d,b,a){var e=function(f){this.removeListener(c,e,this,a);d.call(b||this,f)};return this.addListener(c,e,this,a)},removeListener:function(c,d,b,a){if(!this.$$disposed){return this.__Registration.removeListener(this,c,d,b,a)}return false},removeListenerById:function(a){if(!this.$$disposed){return this.__Registration.removeListenerById(this,a)}return false},hasListener:function(b,a){return this.__Registration.hasListener(this,b,a)},dispatchEvent:function(a){if(!this.$$disposed){return this.__Registration.dispatchEvent(this,a)}return true},fireEvent:function(c,b,a){if(!this.$$disposed){return this.__Registration.fireEvent(this,c,b,a)}return true},fireNonBubblingEvent:function(c,b,a){if(!this.$$disposed){return this.__Registration.fireNonBubblingEvent(this,c,b,a)}return true},fireDataEvent:function(b,c,d,a){if(!this.$$disposed){if(d===undefined){d=null}return this.__Registration.fireNonBubblingEvent(this,b,car.event.type.Data,[c,d,!!a])}return true}}});car.Mixin.define("car.core.MProperty",{members:{set:function(b,a){var d=car.core.Property.$$method.set;if(car.Bootstrap.isString(b)){if(!this[d[b]]){if(this["set"+car.Bootstrap.firstUp(b)]!=undefined){this["set"+car.Bootstrap.firstUp(b)](a);return this}if(car.core.Environment.get("car.debug")){car.Bootstrap.error(new Error("No such property: "+b));return this}}return this[d[b]](a)}else{for(var c in b){if(!this[d[c]]){if(this["set"+car.Bootstrap.firstUp(c)]!=undefined){this["set"+car.Bootstrap.firstUp(c)](b[c]);continue}if(car.core.Environment.get("car.debug")){car.Bootstrap.error(new Error("No such property: "+c));return this}}this[d[c]](b[c])}return this}},get:function(b){var a=car.core.Property.$$method.get;if(!this[a[b]]){if(this["get"+car.Bootstrap.firstUp(b)]!=undefined){return this["get"+car.Bootstrap.firstUp(b)]()}if(car.core.Environment.get("car.debug")){car.Bootstrap.error(new Error("No such property: "+b));return this}}return this[a[b]]()},reset:function(b){var a=car.core.Property.$$method.reset;if(!this[a[b]]){if(this["reset"+car.Bootstrap.firstUp(b)]!=undefined){this["reset"+car.Bootstrap.firstUp(b)]();return}if(car.core.Environment.get("car.debug")){car.Bootstrap.error(new Error("No such property: "+b));return}}this[a[b]]()}}});car.Class.define("car.core.ObjectRegistry",{statics:{inShutDown:false,__registry:{},__nextHash:0,__freeHashes:[],__postId:"",__stackTraces:{},register:function(d){var b=this.__registry;if(!b){return}var c=d.$$hash;if(c==null){var a=this.__freeHashes;if(a.length>0&&!car.core.Environment.get("car.debug.dispose")){c=a.pop()}else{c=(this.__nextHash++)+this.__postId}d.$$hash=c;if(car.core.Environment.get("car.debug.dispose")){if(car.dev&&car.dev.Debug&&car.dev.Debug.disposeProfilingActive){this.__stackTraces[c]=car.dev.StackTrace.getStackTrace()}}}if(car.core.Environment.get("car.debug")){if(!d.dispose){throw new Error("Invalid object: "+d)}}b[c]=d},unregister:function(d){var c=d.$$hash;if(c==null){return}var a=this.__registry;if(a&&a[c]){delete a[c];this.__freeHashes.push(c)}try{delete d.$$hash}catch(b){if(d.removeAttribute){d.removeAttribute("$$hash")}}},toHashCode:function(c){if(car.core.Environment.get("car.debug")){if(c==null){throw new Error("Invalid object: "+c)}}var b=c.$$hash;if(b!=null){return b}var a=this.__freeHashes;if(a.length>0){b=a.pop()}else{b=(this.__nextHash++)+this.__postId}return c.$$hash=b},clearHashCode:function(c){if(car.core.Environment.get("car.debug")){if(c==null){throw new Error("Invalid object: "+c)}}var b=c.$$hash;if(b!=null){this.__freeHashes.push(b);try{delete c.$$hash}catch(a){if(c.removeAttribute){c.removeAttribute("$$hash")}}}},fromHashCode:function(a){return this.__registry[a]||null},shutdown:function(){this.inShutDown=true;var b=this.__registry;var c=[];for(var g in b){c.push(g)}c.sort(function(i,h){return parseInt(h,10)-parseInt(i,10)});var f,e=0,a=c.length;while(true){try{for(;e<a;e++){g=c[e];f=b[g];if(f&&f.dispose){f.dispose()}}}catch(d){car.Bootstrap.error(this,"Could not dispose object "+f.toString()+": "+d,d);if(e!==a){e++;continue}}break}car.Bootstrap.debug(this,"Disposed "+a+" objects");delete this.__registry},getRegistry:function(){return this.__registry},getNextHash:function(){return this.__nextHash},getPostId:function(){return this.__postId},getStackTraces:function(){return this.__stackTraces}},defer:function(c){if(window&&window.top){var b=window.top.frames;for(var a=0;a<b.length;a++){if(b[a]===window){c.__postId="-"+(a+1);return}}}c.__postId="-0"}});car.Class.define("car.core.Object",{extend:Object,include:car.core.Environment.filter({"module.events":car.core.MEvents,"module.property":car.core.MProperty}),construct:function(){car.core.ObjectRegistry.register(this)},statics:{$$type:"Object"},members:{__Property:car.core.Environment.get("module.property")?car.core.Property:null,toHashCode:function(){return this.$$hash},toString:function(){return this.classname+"["+this.$$hash+"]"},base:function(b,a){if(car.core.Environment.get("car.debug")){if(!car.Bootstrap.isFunction(b.callee.base)){throw new Error("Cannot call super class. Method is not derived: "+b.callee.displayName)}}if(arguments.length===1){return b.callee.base.call(this)}else{return b.callee.base.apply(this,Array.prototype.slice.call(arguments,1))}},self:function(a){return a.callee.self},clone:function(){if(!car.core.Environment.get("module.property")){throw new Error("Cloning only possible with properties.")}var d=this.constructor;var h=new d;var f=car.Class.getProperties(d);var b=this.__Property.$$store.user;var g=this.__Property.$$method.set;var c;for(var e=0,a=f.length;e<a;e++){c=f[e];if(this.hasOwnProperty(b[c])){h[g[c]](this[b[c]])}}return h},__userData:null,setUserData:function(a,b){if(!this.__userData){this.__userData={}}this.__userData[a]=b},getUserData:function(a){if(!this.__userData){return null}var b=this.__userData[a];return b===undefined?null:b},isDisposed:function(){return this.$$disposed||false},dispose:function(){if(this.$$disposed){return}this.$$disposed=true;this.$$instance=null;this.$$allowconstruct=null;if(car.core.Environment.get("car.debug")){if(car.core.Environment.get("car.debug.dispose.level")>2){car.Bootstrap.debug(this,"Disposing "+this.classname+"["+this.toHashCode()+"]")}}var d=this.constructor;var b;while(d.superclass){if(d.$$destructor){d.$$destructor.call(this)}if(d.$$includes){b=d.$$flatIncludes;for(var f=0,a=b.length;f<a;f++){if(b[f].$$destructor){b[f].$$destructor.call(this)}}}d=d.superclass}if(this.__removePropertyReferences){this.__removePropertyReferences()}if(car.core.Environment.get("car.debug")){if(car.core.Environment.get("car.debug.dispose.level")>0){var e,g;for(e in this){g=this[e];if(g!==null&&typeof g==="object"&&!(car.Bootstrap.isString(g))){if(this.constructor.prototype[e]!=null){continue}var h=navigator.userAgent.indexOf("rv:1.8.1")!=-1;var c=navigator.userAgent.indexOf("MSIE 6.0")!=-1;if(h||c){if(g instanceof car.core.Object||car.core.Environment.get("car.debug.dispose.level")>1){car.Bootstrap.warn(this,"Missing destruct definition for '"+e+"' in "+this.classname+"["+this.toHashCode()+"]: "+g);delete this[e]}}else{if(car.core.Environment.get("car.debug.dispose.level")>1){car.Bootstrap.warn(this,"Missing destruct definition for '"+e+"' in "+this.classname+"["+this.toHashCode()+"]: "+g);delete this[e]}}}}}}},__removePropertyReferences:null,__removePropertyReferencesOld:function(){var c=car.Class.getProperties(this.constructor);for(var b=0,a=c.length;b<a;b++){delete this["$$user_"+c[b]]}},_disposeObjects:function(a){car.util.DisposeUtil.disposeObjects(this,arguments)},_disposeSingletonObjects:function(a){car.util.DisposeUtil.disposeObjects(this,arguments,true)},_disposeArray:function(a){car.util.DisposeUtil.disposeArray(this,a)},_disposeMap:function(a){car.util.DisposeUtil.disposeMap(this,a)}},environment:{"car.debug.dispose.level":0},defer:function(d,b){var a=navigator.userAgent.indexOf("MSIE 6.0")!=-1;var c=navigator.userAgent.indexOf("rv:1.8.1")!=-1;if(a||c){b.__removePropertyReferences=b.__removePropertyReferencesOld}},destruct:function(){if(car.core.Environment.get("module.events")){if(!car.core.ObjectRegistry.inShutDown){car.event.Registration.removeAllListeners(this)}else{car.event.Registration.deleteAllListeners(this)}}car.core.ObjectRegistry.unregister(this);this.__userData=null;if(car.core.Environment.get("module.property")){var d=this.constructor;var f;var h=this.__Property.$$store;var i=h.user;var e=h.theme;var b=h.inherit;var g=h.useinit;var c=h.init;while(d){f=d.$$properties;if(f){for(var a in f){if(f[a].dereference){this[i[a]]=this[e[a]]=this[b[a]]=this[g[a]]=this[c[a]]=undefined}}}d=d.superclass}}}});car.Class.define("car.util.ObjectPool",{extend:car.core.Object,construct:function(a){this.base(arguments);this.__pool={};if(a!=null){this.setSize(a)}},properties:{size:{check:"Integer",init:Infinity}},members:{__pool:null,getObject:function(a){if(this.$$disposed){return new a}if(!a){throw new Error("Class needs to be defined!")}var c=null;var b=this.__pool[a.classname];if(b){c=b.pop()}if(c){c.$$pooled=false}else{c=new a}return c},poolObject:function(c){if(!this.__pool){return}var b=c.classname;var a=this.__pool[b];if(c.$$pooled){throw new Error("Object is already pooled: "+c)}if(!a){this.__pool[b]=a=[]}if(a.length>this.getSize()){if(c.destroy){c.destroy()}else{c.dispose()}return}c.$$pooled=true;a.push(c)}},destruct:function(){var c=this.__pool;var e,d,b,a;for(e in c){d=c[e];for(b=0,a=d.length;b<a;b++){d[b].dispose()}}delete this.__pool}});car.Class.define("car.event.Pool",{extend:car.util.ObjectPool,type:"singleton",construct:function(){this.base(arguments,30)}});car.Class.define("car.event.type.Event",{extend:car.core.Object,statics:{CAPTURING_PHASE:1,AT_TARGET:2,BUBBLING_PHASE:3},members:{init:function(b,a){if(car.core.Environment.get("car.debug")){if(b!==undefined){car.core.Assert.assertBoolean(b,"Invalid argument value 'canBubble'.")}if(a!==undefined){car.core.Assert.assertBoolean(a,"Invalid argument value 'cancelable'.")}}this._type=null;this._target=null;this._currentTarget=null;this._relatedTarget=null;this._originalTarget=null;this._stopPropagation=false;this._preventDefault=false;this._bubbles=!!b;this._cancelable=!!a;this._timeStamp=(new Date()).getTime();this._eventPhase=null;return this},clone:function(a){if(a){var b=a}else{var b=car.event.Pool.getInstance().getObject(this.constructor)}b._type=this._type;b._target=this._target;b._currentTarget=this._currentTarget;b._relatedTarget=this._relatedTarget;b._originalTarget=this._originalTarget;b._stopPropagation=this._stopPropagation;b._bubbles=this._bubbles;b._preventDefault=this._preventDefault;b._cancelable=this._cancelable;return b},stop:function(){if(this._bubbles){this.stopPropagation()}if(this._cancelable){this.preventDefault()}},stopPropagation:function(){if(car.core.Environment.get("car.debug")){this.assertTrue(this._bubbles,"Cannot stop propagation on a non bubbling event: "+this.getType())}this._stopPropagation=true},getPropagationStopped:function(){return !!this._stopPropagation},preventDefault:function(){if(car.core.Environment.get("car.debug")){this.assertTrue(this._cancelable,"Cannot prevent default action on a non cancelable event: "+this.getType())}this._preventDefault=true},getDefaultPrevented:function(){return !!this._preventDefault},getType:function(){return this._type},setType:function(a){this._type=a},getEventPhase:function(){return this._eventPhase},setEventPhase:function(a){this._eventPhase=a},getTimeStamp:function(){return this._timeStamp},getTarget:function(){return this._target},setTarget:function(a){this._target=a},getCurrentTarget:function(){return this._currentTarget||this._target},setCurrentTarget:function(a){this._currentTarget=a},getRelatedTarget:function(){return this._relatedTarget},setRelatedTarget:function(a){this._relatedTarget=a},getOriginalTarget:function(){return this._originalTarget},setOriginalTarget:function(a){this._originalTarget=a},getBubbles:function(){return this._bubbles},setBubbles:function(a){this._bubbles=a},isCancelable:function(){return this._cancelable},setCancelable:function(a){this._cancelable=a}},destruct:function(){this._target=this._currentTarget=this._relatedTarget=this._originalTarget=null}});car.Class.define("car.event.type.Native",{extend:car.event.type.Event,members:{init:function(a,e,c,d,b){this.base(arguments,d,b);this._target=e||car.bom.Event.getTarget(a);this._relatedTarget=c||car.bom.Event.getRelatedTarget(a);if(a.timeStamp){this._timeStamp=a.timeStamp}this._native=a;this._returnValue=null;return this},clone:function(a){var c=this.base(arguments,a);var b={};c._native=this._cloneNativeEvent(this._native,b);c._returnValue=this._returnValue;return c},_cloneNativeEvent:function(a,b){b.preventDefault=car.lang.Function.empty;return b},preventDefault:function(){this.base(arguments);car.bom.Event.preventDefault(this._native)},getNativeEvent:function(){return this._native},setReturnValue:function(a){this._returnValue=a},getReturnValue:function(){return this._returnValue}},destruct:function(){this._native=this._returnValue=null}});car.Class.define("car.event.type.Dom",{extend:car.event.type.Native,statics:{SHIFT_MASK:1,CTRL_MASK:2,ALT_MASK:4,META_MASK:8},members:{_cloneNativeEvent:function(a,b){var b=this.base(arguments,a,b);b.shiftKey=a.shiftKey;b.ctrlKey=a.ctrlKey;b.altKey=a.altKey;b.metaKey=a.metaKey;return b},getModifiers:function(){var b=0;var a=this._native;if(a.shiftKey){b|=car.event.type.Dom.SHIFT_MASK}if(a.ctrlKey){b|=car.event.type.Dom.CTRL_MASK}if(a.altKey){b|=car.event.type.Dom.ALT_MASK}if(a.metaKey){b|=car.event.type.Dom.META_MASK}return b},isCtrlPressed:function(){return this._native.ctrlKey},isShiftPressed:function(){return this._native.shiftKey},isAltPressed:function(){return this._native.altKey},isMetaPressed:function(){return this._native.metaKey},isCtrlOrCommandPressed:function(){if(car.core.Environment.get("os.name")=="osx"&&car.core.Environment.get("engine.name")!="opera"){return this._native.metaKey}else{return this._native.ctrlKey}}}});car.Class.define("car.event.type.Mouse",{extend:car.event.type.Dom,members:{_cloneNativeEvent:function(a,b){var b=this.base(arguments,a,b);b.button=a.button;b.clientX=a.clientX;b.clientY=a.clientY;b.pageX=a.pageX;b.pageY=a.pageY;b.screenX=a.screenX;b.screenY=a.screenY;b.wheelDelta=a.wheelDelta;b.wheelDeltaX=a.wheelDeltaX;b.wheelDeltaY=a.wheelDeltaY;b.detail=a.detail;b.axis=a.axis;b.wheelX=a.wheelX;b.wheelY=a.wheelY;b.HORIZONTAL_AXIS=a.HORIZONTAL_AXIS;b.srcElement=a.srcElement;b.target=a.target;return b},__buttonsDom2EventModel:{0:"left",2:"right",1:"middle"},__buttonsMshtmlEventModel:{1:"left",2:"right",4:"middle"},stop:function(){this.stopPropagation()},getButton:function(){switch(this._type){case"contextmenu":return"right";case"click":if(car.core.Environment.get("browser.name")==="ie"&&car.core.Environment.get("browser.documentmode")<9){return"left"}default:if(this._native.target!==undefined){return this.__buttonsDom2EventModel[this._native.button]||"none"}else{return this.__buttonsMshtmlEventModel[this._native.button]||"none"}}},isLeftPressed:function(){return this.getButton()==="left"},isMiddlePressed:function(){return this.getButton()==="middle"},isRightPressed:function(){return this.getButton()==="right"},getRelatedTarget:function(){return this._relatedTarget},getViewportLeft:function(){return this._native.clientX},getViewportTop:function(){return this._native.clientY},getDocumentLeft:function(){if(this._native.pageX!==undefined){return this._native.pageX}else{var a=car.dom.Node.getWindow(this._native.srcElement);return this._native.clientX+car.bom.Viewport.getScrollLeft(a)}},getDocumentTop:function(){if(this._native.pageY!==undefined){return this._native.pageY}else{var a=car.dom.Node.getWindow(this._native.srcElement);return this._native.clientY+car.bom.Viewport.getScrollTop(a)}},getScreenLeft:function(){return this._native.screenX},getScreenTop:function(){return this._native.screenY}}});car.Interface.define("car.event.IEventDispatcher",{members:{canDispatchEvent:function(c,b,a){this.assertInstance(b,car.event.type.Event);this.assertString(a)},dispatchEvent:function(c,b,a){this.assertInstance(b,car.event.type.Event);this.assertString(a)}}});car.Class.define("car.event.dispatch.AbstractBubbling",{extend:car.core.Object,implement:car.event.IEventDispatcher,type:"abstract",construct:function(a){this._manager=a},members:{_getParent:function(a){throw new Error("Missing implementation")},canDispatchEvent:function(c,b,a){return b.getBubbles()},dispatchEvent:function(u,p,d){var h=u;var l=this._manager;var n,a;var b;var e,c;var v;var f=[];n=l.getListeners(u,d,true);a=l.getListeners(u,d,false);if(n){f.push(n)}if(a){f.push(a)}var h=this._getParent(u);var m=[];var s=[];var g=[];var t=[];while(h!=null){n=l.getListeners(h,d,true);if(n){g.push(n);t.push(h)}a=l.getListeners(h,d,false);if(a){m.push(a);s.push(h)}h=this._getParent(h)}p.setEventPhase(car.event.type.Event.CAPTURING_PHASE);for(var q=g.length-1;q>=0;q--){v=t[q];p.setCurrentTarget(v);b=g[q];for(var o=0,r=b.length;o<r;o++){e=b[o];c=e.context||v;if(car.core.Environment.get("car.debug")){if(c&&c.isDisposed&&c.isDisposed()){this.warn("The context object '"+c+"' for the event '"+d+"' of '"+v+"'is already disposed.")}}e.handler.call(c,p)}if(p.getPropagationStopped()){return}}p.setEventPhase(car.event.type.Event.AT_TARGET);p.setCurrentTarget(u);for(var q=0,k=f.length;q<k;q++){b=f[q];for(var o=0,r=b.length;o<r;o++){e=b[o];c=e.context||u;if(car.core.Environment.get("car.debug")){if(c&&c.isDisposed&&c.isDisposed()){this.warn("The context object '"+c+"' for the event '"+d+"' of '"+u+"'is already disposed.")}}e.handler.call(c,p)}if(p.getPropagationStopped()){return}}p.setEventPhase(car.event.type.Event.BUBBLING_PHASE);for(var q=0,k=m.length;q<k;q++){v=s[q];p.setCurrentTarget(v);b=m[q];for(var o=0,r=b.length;o<r;o++){e=b[o];c=e.context||v;if(car.core.Environment.get("car.debug")){if(c&&c.isDisposed&&c.isDisposed()){this.warn("The context object '"+c+"' for the event '"+d+"' of '"+v+"'is already disposed.")}}e.handler.call(c,p)}if(p.getPropagationStopped()){return}}}}});car.Class.define("car.event.dispatch.MouseCapture",{extend:car.event.dispatch.AbstractBubbling,construct:function(b,a){this.base(arguments,b);this.__window=b.getWindow();this.__registration=a;b.addListener(this.__window,"blur",this.releaseCapture,this);b.addListener(this.__window,"focus",this.releaseCapture,this);b.addListener(this.__window,"scroll",this.releaseCapture,this)},statics:{PRIORITY:car.event.Registration.PRIORITY_FIRST},members:{__registration:null,__captureElement:null,__containerCapture:true,__window:null,_getParent:function(a){return a.parentNode},canDispatchEvent:function(c,b,a){return !!(this.__captureEvents[a])},dispatchEvent:function(c,b,a){if(a=="click"){b.stopPropagation();this.releaseCapture();return}this.base(arguments,c,b,a)},__captureEvents:{mouseup:1,mousedown:1,click:1,dblclick:1,mousemove:1,mouseout:1,mouseover:1},activateCapture:function(b,c){var c=c!==false;if(this.__captureElement===b&&this.__containerCapture==c){return}if(this.__captureElement){this.releaseCapture()}this.nativeSetCapture(b,c);if(this.hasNativeCapture){var a=this;car.bom.Event.addNativeListener(b,"losecapture",function(){car.bom.Event.removeNativeListener(b,"losecapture",arguments.callee);a.releaseCapture()})}this.__containerCapture=c;this.__captureElement=b;this.__registration.fireEvent(b,"capture",car.event.type.Event,[true,false])},getCaptureElement:function(){return this.__captureElement},releaseCapture:function(){var a=this.__captureElement;if(!a){return}this.__captureElement=null;this.__registration.fireEvent(a,"losecapture",car.event.type.Event,[true,false]);this.nativeReleaseCapture(a)},hasNativeCapture:car.core.Environment.get("engine.name")=="mshtml",nativeSetCapture:car.core.Environment.select("engine.name",{mshtml:function(a,b){a.setCapture(b!==false)},"default":car.lang.Function.empty}),nativeReleaseCapture:car.core.Environment.select("engine.name",{mshtml:function(a){a.releaseCapture()},"default":car.lang.Function.empty})},destruct:function(){this.__captureElement=this.__window=this.__registration=null},defer:function(a){car.event.Registration.addDispatcher(a)}});car.Class.define("car.event.dispatch.Direct",{extend:car.core.Object,implement:car.event.IEventDispatcher,construct:function(a){this._manager=a},statics:{PRIORITY:car.event.Registration.PRIORITY_LAST},members:{canDispatchEvent:function(c,b,a){return !b.getBubbles()},dispatchEvent:function(g,a,h){if(car.core.Environment.get("car.debug")){if(g instanceof car.core.Object){var d=car.Class.getEventType(g.constructor,h);var e=car.Class.getByName(d);if(!e){this.error("The event type '"+h+"' declared in the class '"+g.constructor+" is not an available class': "+d)}else{if(!(a instanceof e)){this.error("Expected event type to be instanceof '"+d+"' but found '"+a.classname+"'")}}}}a.setEventPhase(car.event.type.Event.AT_TARGET);var j=this._manager.getListeners(g,h,false);if(j){for(var f=0,c=j.length;f<c;f++){var b=j[f].context||g;if(car.core.Environment.get("car.debug")){if(b&&b.isDisposed&&b.isDisposed()){this.warn("The context object '"+b+"' for the event '"+h+"' of '"+g+"'is already disposed.")}}j[f].handler.call(b,a)}}}},defer:function(a){car.event.Registration.addDispatcher(a)}});car.Interface.define("car.event.IEventHandler",{statics:{TARGET_DOMNODE:1,TARGET_WINDOW:2,TARGET_OBJECT:4,TARGET_DOCUMENT:8},members:{canHandleEvent:function(b,a){},registerEvent:function(c,b,a){},unregisterEvent:function(c,b,a){}}});car.Class.define("car.event.handler.Object",{extend:car.core.Object,implement:car.event.IEventHandler,statics:{PRIORITY:car.event.Registration.PRIORITY_LAST,SUPPORTED_TYPES:null,TARGET_CHECK:car.event.IEventHandler.TARGET_OBJECT,IGNORE_CAN_HANDLE:false},members:{canHandleEvent:function(b,a){return car.Class.supportsEvent(b.constructor,a)},registerEvent:function(c,b,a){},unregisterEvent:function(c,b,a){}},defer:function(a){car.event.Registration.addHandler(a)}});car.Class.define("car.event.handler.Focus",{extend:car.core.Object,implement:car.event.IEventHandler,construct:function(a){this.base(arguments);this._manager=a;this._window=a.getWindow();this._document=this._window.document;this._root=this._document.documentElement;this._body=this._document.body;this._initObserver()},properties:{active:{apply:"_applyActive",nullable:true},focus:{apply:"_applyFocus",nullable:true}},statics:{PRIORITY:car.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{focus:1,blur:1,focusin:1,focusout:1,activate:1,deactivate:1},IGNORE_CAN_HANDLE:true,FOCUSABLE_ELEMENTS:car.core.Environment.select("engine.name",{"mshtml|gecko":{a:1,body:1,button:1,frame:1,iframe:1,img:1,input:1,object:1,select:1,textarea:1},"opera|webkit":{button:1,input:1,select:1,textarea:1}})},members:{__onNativeMouseDownWrapper:null,__onNativeMouseUpWrapper:null,__onNativeFocusWrapper:null,__onNativeBlurWrapper:null,__onNativeDragGestureWrapper:null,__onNativeSelectStartWrapper:null,__onNativeFocusInWrapper:null,__onNativeFocusOutWrapper:null,__previousFocus:null,__previousActive:null,canHandleEvent:function(b,a){},registerEvent:function(c,b,a){},unregisterEvent:function(c,b,a){},focus:function(b){if((car.core.Environment.get("engine.name")=="mshtml")){window.setTimeout(function(){try{b.focus();var d=car.bom.Selection.get(b);if(d.length==0){var e=b.createTextRange();e.moveStart("character",b.value.length);e.collapse();e.select()}}catch(c){}},0)}else{try{b.focus()}catch(a){}}this.setFocus(b);this.setActive(b)},activate:function(a){this.setActive(a)},blur:function(b){try{b.blur()}catch(a){}if(this.getActive()===b){this.resetActive()}if(this.getFocus()===b){this.resetFocus()}},deactivate:function(a){if(this.getActive()===a){this.resetActive()}},tryActivate:function(a){var b=this.__findActivatableElement(a);if(b){this.setActive(b)}},__fireEvent:function(f,e,d,b){var c=car.event.Registration;var a=c.createEvent(d,car.event.type.Focus,[f,e,b]);c.dispatchEvent(f,a)},_windowFocused:true,__doWindowBlur:function(){if(this._windowFocused){this._windowFocused=false;this.__fireEvent(this._window,null,"blur",false)}},__doWindowFocus:function(){if(!this._windowFocused){this._windowFocused=true;this.__fireEvent(this._window,null,"focus",false)}},_initObserver:car.core.Environment.select("engine.name",{gecko:function(){this.__onNativeMouseDownWrapper=car.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=car.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusWrapper=car.lang.Function.listener(this.__onNativeFocus,this);this.__onNativeBlurWrapper=car.lang.Function.listener(this.__onNativeBlur,this);this.__onNativeDragGestureWrapper=car.lang.Function.listener(this.__onNativeDragGesture,this);car.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,true);car.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,true);car.bom.Event.addNativeListener(this._window,"focus",this.__onNativeFocusWrapper,true);car.bom.Event.addNativeListener(this._window,"blur",this.__onNativeBlurWrapper,true);car.bom.Event.addNativeListener(this._window,"draggesture",this.__onNativeDragGestureWrapper,true)},mshtml:function(){this.__onNativeMouseDownWrapper=car.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=car.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusInWrapper=car.lang.Function.listener(this.__onNativeFocusIn,this);this.__onNativeFocusOutWrapper=car.lang.Function.listener(this.__onNativeFocusOut,this);this.__onNativeSelectStartWrapper=car.lang.Function.listener(this.__onNativeSelectStart,this);car.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper);car.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper);car.bom.Event.addNativeListener(this._document,"focusin",this.__onNativeFocusInWrapper);car.bom.Event.addNativeListener(this._document,"focusout",this.__onNativeFocusOutWrapper);car.bom.Event.addNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper)},webkit:function(){this.__onNativeMouseDownWrapper=car.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=car.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusOutWrapper=car.lang.Function.listener(this.__onNativeFocusOut,this);this.__onNativeFocusWrapper=car.lang.Function.listener(this.__onNativeFocus,this);this.__onNativeBlurWrapper=car.lang.Function.listener(this.__onNativeBlur,this);this.__onNativeSelectStartWrapper=car.lang.Function.listener(this.__onNativeSelectStart,this);car.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,true);car.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,true);car.bom.Event.addNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper,false);car.bom.Event.addNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,true);car.bom.Event.addNativeListener(this._window,"focus",this.__onNativeFocusWrapper,true);car.bom.Event.addNativeListener(this._window,"blur",this.__onNativeBlurWrapper,true)},opera:function(){this.__onNativeMouseDownWrapper=car.lang.Function.listener(this.__onNativeMouseDown,this);this.__onNativeMouseUpWrapper=car.lang.Function.listener(this.__onNativeMouseUp,this);this.__onNativeFocusInWrapper=car.lang.Function.listener(this.__onNativeFocusIn,this);this.__onNativeFocusOutWrapper=car.lang.Function.listener(this.__onNativeFocusOut,this);car.bom.Event.addNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,true);car.bom.Event.addNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,true);car.bom.Event.addNativeListener(this._window,"DOMFocusIn",this.__onNativeFocusInWrapper,true);car.bom.Event.addNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,true)}}),_stopObserver:car.core.Environment.select("engine.name",{gecko:function(){car.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,true);car.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,true);car.bom.Event.removeNativeListener(this._window,"focus",this.__onNativeFocusWrapper,true);car.bom.Event.removeNativeListener(this._window,"blur",this.__onNativeBlurWrapper,true);car.bom.Event.removeNativeListener(this._window,"draggesture",this.__onNativeDragGestureWrapper,true)},mshtml:function(){car.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper);car.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper);car.bom.Event.removeNativeListener(this._document,"focusin",this.__onNativeFocusInWrapper);car.bom.Event.removeNativeListener(this._document,"focusout",this.__onNativeFocusOutWrapper);car.bom.Event.removeNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper)},webkit:function(){car.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,true);car.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,true);car.bom.Event.removeNativeListener(this._document,"selectstart",this.__onNativeSelectStartWrapper,false);car.bom.Event.removeNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,true);car.bom.Event.removeNativeListener(this._window,"focus",this.__onNativeFocusWrapper,true);car.bom.Event.removeNativeListener(this._window,"blur",this.__onNativeBlurWrapper,true)},opera:function(){car.bom.Event.removeNativeListener(this._document,"mousedown",this.__onNativeMouseDownWrapper,true);car.bom.Event.removeNativeListener(this._document,"mouseup",this.__onNativeMouseUpWrapper,true);car.bom.Event.removeNativeListener(this._window,"DOMFocusIn",this.__onNativeFocusInWrapper,true);car.bom.Event.removeNativeListener(this._window,"DOMFocusOut",this.__onNativeFocusOutWrapper,true)}}),__onNativeDragGesture:car.core.Environment.select("engine.name",{gecko:function(a){var b=car.bom.Event.getTarget(a);if(!this.__isSelectable(b)){car.bom.Event.preventDefault(a)}},"default":null}),__onNativeFocusIn:car.core.Environment.select("engine.name",{mshtml:function(b){this.__doWindowFocus();var c=car.bom.Event.getTarget(b);var a=this.__findFocusableElement(c);if(a){this.setFocus(a)}this.tryActivate(c)},opera:function(a){var b=car.bom.Event.getTarget(a);if(b==this._document||b==this._window){this.__doWindowFocus();if(this.__previousFocus){this.setFocus(this.__previousFocus);delete this.__previousFocus}if(this.__previousActive){this.setActive(this.__previousActive);delete this.__previousActive}}else{this.setFocus(b);this.tryActivate(b);if(!this.__isSelectable(b)){b.selectionStart=0;b.selectionEnd=0}}},"default":null}),__onNativeFocusOut:car.core.Environment.select("engine.name",{mshtml:function(b){var a=car.bom.Event.getRelatedTarget(b);if(a==null){this.__doWindowBlur();this.resetFocus();this.resetActive()}},webkit:function(a){var b=car.bom.Event.getTarget(a);if(b===this.getFocus()){this.resetFocus()}if(b===this.getActive()){this.resetActive()}},opera:function(a){var b=car.bom.Event.getTarget(a);if(b==this._document){this.__doWindowBlur();this.__previousFocus=this.getFocus();this.__previousActive=this.getActive();this.resetFocus();this.resetActive()}else{if(b===this.getFocus()){this.resetFocus()}if(b===this.getActive()){this.resetActive()}}},"default":null}),__onNativeBlur:car.core.Environment.select("engine.name",{gecko:function(a){var b=car.bom.Event.getTarget(a);if(b===this._window||b===this._document){this.__doWindowBlur();this.resetActive();this.resetFocus()}},webkit:function(a){var b=car.bom.Event.getTarget(a);if(b===this._window||b===this._document){this.__doWindowBlur();this.__previousFocus=this.getFocus();this.__previousActive=this.getActive();this.resetActive();this.resetFocus()}},"default":null}),__onNativeFocus:car.core.Environment.select("engine.name",{gecko:function(a){var b=car.bom.Event.getTarget(a);if(b===this._window||b===this._document){this.__doWindowFocus();b=this._body}this.setFocus(b);this.tryActivate(b)},webkit:function(a){var b=car.bom.Event.getTarget(a);if(b===this._window||b===this._document){this.__doWindowFocus();if(this.__previousFocus){this.setFocus(this.__previousFocus);delete this.__previousFocus}if(this.__previousActive){this.setActive(this.__previousActive);delete this.__previousActive}}else{this.setFocus(b);this.tryActivate(b)}},"default":null}),__onNativeMouseDown:car.core.Environment.select("engine.name",{mshtml:function(c){var d=car.bom.Event.getTarget(c);var a=this.__findFocusableElement(d);if(a){if(!this.__isSelectable(d)){d.unselectable="on";try{document.selection.empty()}catch(b){}try{a.focus()}catch(b){}}}else{car.bom.Event.preventDefault(c);if(!this.__isSelectable(d)){d.unselectable="on"}}},"webkit|gecko":function(b){var c=car.bom.Event.getTarget(b);var a=this.__findFocusableElement(c);if(a){this.setFocus(a)}else{car.bom.Event.preventDefault(b)}},opera:function(b){var d=car.bom.Event.getTarget(b);var a=this.__findFocusableElement(d);if(!this.__isSelectable(d)){car.bom.Event.preventDefault(b);if(a){var c=this.getFocus();if(c&&c.selectionEnd){c.selectionStart=0;c.selectionEnd=0;c.blur()}if(a){this.setFocus(a)}}}else{if(a){this.setFocus(a)}}},"default":null}),__onNativeMouseUp:car.core.Environment.select("engine.name",{mshtml:function(a){var b=car.bom.Event.getTarget(a);if(b.unselectable){b.unselectable="off"}this.tryActivate(this.__fixFocus(b))},gecko:function(a){var b=car.bom.Event.getTarget(a);while(b&&b.offsetWidth===undefined){b=b.parentNode}if(b){this.tryActivate(b)}},"webkit|opera":function(a){var b=car.bom.Event.getTarget(a);this.tryActivate(this.__fixFocus(b))},"default":null}),__fixFocus:car.core.Environment.select("engine.name",{"mshtml|webkit":function(a){var b=this.getFocus();if(b&&a!=b&&(b.nodeName.toLowerCase()==="input"||b.nodeName.toLowerCase()==="textarea")){a=b}return a},"default":function(a){return a}}),__onNativeSelectStart:car.core.Environment.select("engine.name",{"mshtml|webkit":function(a){var b=car.bom.Event.getTarget(a);if(!this.__isSelectable(b)){car.bom.Event.preventDefault(a)}},"default":null}),__isFocusable:function(b){var a=car.bom.element.Attribute.get(b,"tabIndex");if(a>=1){return true}var c=car.event.handler.Focus.FOCUSABLE_ELEMENTS;if(a>=0&&c[b.tagName]){return true}return false},__findFocusableElement:function(a){while(a&&a.nodeType===1){if(a.getAttribute("qxKeepFocus")=="on"){return null}if(this.__isFocusable(a)){return a}a=a.parentNode}return this._body},__findActivatableElement:function(a){var b=a;while(a&&a.nodeType===1){if(a.getAttribute("qxKeepActive")=="on"){return null}a=a.parentNode}return b},__isSelectable:function(b){while(b&&b.nodeType===1){var a=b.getAttribute("qxSelectable");if(a!=null){return a==="on"}b=b.parentNode}return true},_applyActive:function(b,a){if(a){this.__fireEvent(a,b,"deactivate",true)}if(b){this.__fireEvent(b,a,"activate",true)}},_applyFocus:function(b,a){if(a){this.__fireEvent(a,b,"focusout",true)}if(b){this.__fireEvent(b,a,"focusin",true)}if(a){this.__fireEvent(a,b,"blur",false)}if(b){this.__fireEvent(b,a,"focus",false)}}},destruct:function(){this._stopObserver();this._manager=this._window=this._document=this._root=this._body=this.__mouseActive=null},defer:function(c){car.event.Registration.addHandler(c);var b=c.FOCUSABLE_ELEMENTS;for(var a in b){b[a.toUpperCase()]=1}}});car.Class.define("car.event.handler.Mouse",{extend:car.core.Object,implement:car.event.IEventHandler,construct:function(a){this.base(arguments);this.__manager=a;this.__window=a.getWindow();this.__root=this.__window.document;this._initButtonObserver();this._initMoveObserver();this._initWheelObserver()},statics:{PRIORITY:car.event.Registration.PRIORITY_NORMAL,SUPPORTED_TYPES:{mousemove:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,click:1,dblclick:1,contextmenu:1,mousewheel:1},TARGET_CHECK:car.event.IEventHandler.TARGET_DOMNODE+car.event.IEventHandler.TARGET_DOCUMENT+car.event.IEventHandler.TARGET_WINDOW,IGNORE_CAN_HANDLE:true},members:{__onButtonEventWrapper:null,__onMoveEventWrapper:null,__onWheelEventWrapper:null,__lastEventType:null,__lastMouseDownTarget:null,__manager:null,__window:null,__root:null,canHandleEvent:function(b,a){},registerEvent:car.core.Environment.get("os.name")==="ios"?function(c,b,a){c["on"+b]=car.lang.Function.returnNull}:car.lang.Function.returnNull,unregisterEvent:car.core.Environment.get("os.name")==="ios"?function(c,b,a){c["on"+b]=undefined}:car.lang.Function.returnNull,__fireEvent:function(b,a,c){if(!c){c=car.bom.Event.getTarget(b)}if(c&&c.nodeType){car.event.Registration.fireEvent(c,a||b.type,a=="mousewheel"?car.event.type.MouseWheel:car.event.type.Mouse,[b,c,null,true,true])}car.event.Registration.fireEvent(this.__window,"useraction",car.event.type.Data,[a||b.type])},__getMouseWheelTarget:function(){var a=[this.__window,this.__root,this.__root.body];var d=this.__window;var c="DOMMouseScroll";for(var b=0;b<a.length;b++){if(car.bom.Event.supportsEvent(a[b],"mousewheel")){c="mousewheel";d=a[b];break}}return{type:c,target:d}},_initButtonObserver:function(){this.__onButtonEventWrapper=car.lang.Function.listener(this._onButtonEvent,this);var a=car.bom.Event;a.addNativeListener(this.__root,"mousedown",this.__onButtonEventWrapper);a.addNativeListener(this.__root,"mouseup",this.__onButtonEventWrapper);a.addNativeListener(this.__root,"click",this.__onButtonEventWrapper);a.addNativeListener(this.__root,"dblclick",this.__onButtonEventWrapper);a.addNativeListener(this.__root,"contextmenu",this.__onButtonEventWrapper)},_initMoveObserver:function(){this.__onMoveEventWrapper=car.lang.Function.listener(this._onMoveEvent,this);var a=car.bom.Event;a.addNativeListener(this.__root,"mousemove",this.__onMoveEventWrapper);a.addNativeListener(this.__root,"mouseover",this.__onMoveEventWrapper);a.addNativeListener(this.__root,"mouseout",this.__onMoveEventWrapper)},_initWheelObserver:function(){this.__onWheelEventWrapper=car.lang.Function.listener(this._onWheelEvent,this);var a=this.__getMouseWheelTarget();car.bom.Event.addNativeListener(a.target,a.type,this.__onWheelEventWrapper)},_stopButtonObserver:function(){var a=car.bom.Event;a.removeNativeListener(this.__root,"mousedown",this.__onButtonEventWrapper);a.removeNativeListener(this.__root,"mouseup",this.__onButtonEventWrapper);a.removeNativeListener(this.__root,"click",this.__onButtonEventWrapper);a.removeNativeListener(this.__root,"dblclick",this.__onButtonEventWrapper);a.removeNativeListener(this.__root,"contextmenu",this.__onButtonEventWrapper)},_stopMoveObserver:function(){var a=car.bom.Event;a.removeNativeListener(this.__root,"mousemove",this.__onMoveEventWrapper);a.removeNativeListener(this.__root,"mouseover",this.__onMoveEventWrapper);a.removeNativeListener(this.__root,"mouseout",this.__onMoveEventWrapper)},_stopWheelObserver:function(){var a=this.__getMouseWheelTarget();car.bom.Event.removeNativeListener(a.target,a.type,this.__onWheelEventWrapper)},_onMoveEvent:function(a){this.__fireEvent(a)},_onButtonEvent:function(b){var a=b.type;var c=car.bom.Event.getTarget(b);if(car.core.Environment.get("engine.name")=="gecko"||car.core.Environment.get("engine.name")=="webkit"){if(c&&c.nodeType==3){c=c.parentNode}}if(this.__rightClickFixPre){this.__rightClickFixPre(b,a,c)}if(this.__doubleClickFixPre){this.__doubleClickFixPre(b,a,c)}if(c){this.__fireEvent(b,a,c)}if(this.__rightClickFixPost){this.__rightClickFixPost(b,a,c)}if(this.__differentTargetClickFixPost){this.__differentTargetClickFixPost(b,a,c)}this.__lastEventType=a},_onWheelEvent:function(a){this.__fireEvent(a,"mousewheel")},__rightClickFixPre:car.core.Environment.select("engine.name",{webkit:function(b,a,c){if(parseFloat(car.core.Environment.get("engine.version"))<530){if(a=="contextmenu"){if(c){this.__fireEvent(b,"mouseup",c)}}}},"default":null}),__rightClickFixPost:car.core.Environment.select("engine.name",{opera:function(b,a,c){if(a=="mouseup"&&b.button==2){if(c){this.__fireEvent(b,"contextmenu",c)}}},"default":null}),__doubleClickFixPre:car.core.Environment.select("engine.name",{mshtml:function(b,a,c){if(b.target!==undefined){return}if(a=="mouseup"&&this.__lastEventType=="click"&&!!c){this.__fireEvent(b,"mousedown",c)}else{if(a=="dblclick"){this.__fireEvent(b,"click",c)}}},"default":null}),__differentTargetClickFixPost:car.core.Environment.select("engine.name",{mshtml:null,"default":function(b,a,c){switch(a){case"mousedown":this.__lastMouseDownTarget=c;break;case"mouseup":if(c!==this.__lastMouseDownTarget){var d=car.dom.Hierarchy.getCommonParent(c,this.__lastMouseDownTarget);if(d){this.__fireEvent(b,"click",d)}}}}})},destruct:function(){this._stopButtonObserver();this._stopMoveObserver();this._stopWheelObserver();this.__manager=this.__window=this.__root=this.__lastMouseDownTarget=null},defer:function(a){car.event.Registration.addHandler(a)}});car.Bootstrap.define("car.dom.Node",{statics:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12,getDocument:function(a){return a.nodeType===this.DOCUMENT?a:a.ownerDocument||a.document},getWindow:function(a){if(a.nodeType==null){return a}if(a.nodeType!==this.DOCUMENT){a=a.ownerDocument}return a.defaultView||a.parentWindow},getDocumentElement:function(a){return this.getDocument(a).documentElement},getBodyElement:function(a){return this.getDocument(a).body},isNode:function(a){return !!(a&&a.nodeType!=null)},isElement:function(a){return !!(a&&a.nodeType===this.ELEMENT)},isDocument:function(a){return !!(a&&a.nodeType===this.DOCUMENT)},isText:function(a){return !!(a&&a.nodeType===this.TEXT)},isWindow:function(a){return !!(a&&a.history&&a.location&&a.document)},isNodeName:function(a,b){if(!b||!a||!a.nodeName){return false}return b.toLowerCase()==car.dom.Node.getName(a)},getName:function(a){if(!a||!a.nodeName){return null}return a.nodeName.toLowerCase()},getText:function(f){if(!f||!f.nodeType){return null}switch(f.nodeType){case 1:var d,b=[],c=f.childNodes,e=c.length;for(d=0;d<e;d++){b[d]=this.getText(c[d])}return b.join("");case 2:case 3:case 4:return f.nodeValue}return null},isBlockNode:function(a){if(!car.dom.Node.isElement(a)){return false}a=car.dom.Node.getName(a);return/^(body|form|textarea|fieldset|ul|ol|dl|dt|dd|li|div|hr|p|h[1-6]|quote|pre|table|thead|tbody|tfoot|tr|td|th|iframe|address|blockquote)$/.test(a)}}});car.Bootstrap.define("car.dom.Element",{statics:{__initialAttributes:{onload:true,onpropertychange:true,oninput:true,onchange:true,name:true,type:true,checked:true,disabled:true},hasChild:function(a,b){return b.parentNode===a},hasChildren:function(a){return !!a.firstChild},hasChildElements:function(a){a=a.firstChild;while(a){if(a.nodeType===1){return true}a=a.nextSibling}return false},getParentElement:function(a){return a.parentNode},isInDom:function(c,e){if(!e){e=window}var d=e.document.getElementsByTagName(c.nodeName);for(var b=0,a=d.length;b<a;b++){if(d[b]===c){return true}}return false},insertAt:function(d,b,a){var c=b.childNodes[a];if(c){b.insertBefore(d,c)}else{b.appendChild(d)}return true},insertBegin:function(b,a){if(a.firstChild){this.insertBefore(b,a.firstChild)}else{a.appendChild(b)}},insertEnd:function(b,a){a.appendChild(b)},insertBefore:function(b,a){a.parentNode.insertBefore(b,a);return true},insertAfter:function(c,b){var a=b.parentNode;if(b==a.lastChild){a.appendChild(c)}else{return this.insertBefore(c,b.nextSibling)}return true},remove:function(a){if(!a.parentNode){return false}a.parentNode.removeChild(a);return true},removeChild:function(b,a){if(b.parentNode!==a){return false}a.removeChild(b);return true},removeChildAt:function(a,b){var c=b.childNodes[a];if(!c){return false}b.removeChild(c);return true},replaceChild:function(a,b){if(!b.parentNode){return false}b.parentNode.replaceChild(a,b);return true},replaceAt:function(b,a,c){var d=c.childNodes[a];if(!d){return false}c.replaceChild(b,d);return true},__helperElement:{},__allowMarkup:{},_allowCreationWithMarkup:function(c){if(!c){c=window}var a=c.location.href;if(car.dom.Element.__allowMarkup[a]==undefined){try{c.document.createElement("<INPUT TYPE='RADIO' NAME='RADIOTEST' VALUE='Second Choice'>");car.dom.Element.__allowMarkup[a]=true}catch(b){car.dom.Element.__allowMarkup[a]=false}}return car.dom.Element.__allowMarkup[a]},getHelperElement:function(c){if(!c){c=window}var a=c.location.href;if(!car.dom.Element.__helperElement[a]){var b=car.dom.Element.__helperElement[a]=c.document.createElement("div");if(car.core.Environment.get("engine.name")=="webkit"){b.style.display="none";c.document.body.appendChild(b)}}return car.dom.Element.__helperElement[a]},create:function(d,b,h){if(!h){h=window}if(!d){throw new Error("The tag name is missing!")}var c=this.__initialAttributes;var a="";for(var f in b){if(c[f]){a+=f+"='"+b[f]+"' "}}var e;if(a!=""){if(car.dom.Element._allowCreationWithMarkup(h)){e=h.document.createElement("<"+d+" "+a+">")}else{var g=car.dom.Element.getHelperElement(h);g.innerHTML="<"+d+" "+a+"></"+d+">";e=g.firstChild}}else{e=h.document.createElement(d)}for(var f in b){if(!c[f]){car.bom.element.Attribute.set(e,f,b[f])}}return e},empty:function(a){return a.innerHTML=""}}});car.Bootstrap.define("car.dom.Hierarchy",{statics:{getNodeIndex:function(b){var a=0;while(b&&(b=b.previousSibling)){a++}return a},getElementIndex:function(b){var a=0;var c=car.dom.Node.ELEMENT;while(b&&(b=b.previousSibling)){if(b.nodeType==c){a++}}return a},getNextElementSibling:function(a){while(a&&(a=a.nextSibling)&&!car.dom.Node.isElement(a)){continue}return a||null},getPreviousElementSibling:function(a){while(a&&(a=a.previousSibling)&&!car.dom.Node.isElement(a)){continue}return a||null},contains:function(a,c){if(car.core.Environment.get("html.element.contains")){if(car.dom.Node.isDocument(a)){var b=car.dom.Node.getDocument(c);return a&&b==a}else{if(car.dom.Node.isDocument(c)){return false}else{return a.contains(c)}}}else{if(car.core.Environment.get("html.element.compareDocumentPosition")){return !!(a.compareDocumentPosition(c)&16)}else{while(c){if(a==c){return true}c=c.parentNode}return false}}},isRendered:function(a){var b=a.ownerDocument||a.document;if(car.core.Environment.get("html.element.contains")){if(!a.parentNode||!a.offsetParent){return false}return b.body.contains(a)}else{if(car.core.Environment.get("html.element.compareDocumentPosition")){return !!(b.compareDocumentPosition(a)&16)}else{while(a){if(a==b.body){return true}a=a.parentNode}return false}}},isDescendantOf:function(b,a){return this.contains(a,b)},getCommonParent:function(c,b){if(c===b){return c}if(car.core.Environment.get("html.element.contains")){while(c&&car.dom.Node.isElement(c)){if(c.contains(b)){return c}c=c.parentNode}return null}else{var a=[];while(c||b){if(c){if(car.lang.Array.contains(a,c)){return c}a.push(c);c=c.parentNode}if(b){if(car.lang.Array.contains(a,b)){return b}a.push(b);b=b.parentNode}}return null}},getAncestors:function(a){return this._recursivelyCollect(a,"parentNode")},getChildElements:function(b){b=b.firstChild;if(!b){return[]}var a=this.getNextSiblings(b);if(b.nodeType===1){a.unshift(b)}return a},getDescendants:function(a){return car.lang.Array.fromCollection(a.getElementsByTagName("*"))},getFirstDescendant:function(a){a=a.firstChild;while(a&&a.nodeType!=1){a=a.nextSibling}return a},getLastDescendant:function(a){a=a.lastChild;while(a&&a.nodeType!=1){a=a.previousSibling}return a},getPreviousSiblings:function(a){return this._recursivelyCollect(a,"previousSibling")},getNextSiblings:function(a){return this._recursivelyCollect(a,"nextSibling")},_recursivelyCollect:function(a,c){var b=[];while(a=a[c]){if(a.nodeType==1){b.push(a)}}return b},getSiblings:function(a){return this.getPreviousSiblings(a).reverse().concat(this.getNextSiblings(a))},isEmpty:function(a){a=a.firstChild;while(a){if(a.nodeType===car.dom.Node.ELEMENT||a.nodeType===car.dom.Node.TEXT){return false}a=a.nextSibling}return true},cleanWhitespace:function(b){var c=b.firstChild;while(c){var a=c.nextSibling;if(c.nodeType==3&&!/\S/.test(c.nodeValue)){b.removeChild(c)}c=a}}}});car.Bootstrap.define("car.bom.element.BoxSizing",{statics:{__nativeBorderBox:{tags:{button:true,select:true},types:{search:true,button:true,submit:true,reset:true,checkbox:true,radio:true}},__usesNativeBorderBox:function(a){var b=this.__nativeBorderBox;return b.tags[a.tagName.toLowerCase()]||b.types[a.type]},compile:function(a){if(car.core.Environment.get("css.boxsizing")){var b=car.lang.String.hyphenate(car.core.Environment.get("css.boxsizing"));return b+":"+a+";"}else{if(car.core.Environment.get("car.debug")){car.log.Logger.warn(this,"This client does not support dynamic modification of the boxSizing property.");car.log.Logger.trace()}}},get:function(a){if(car.core.Environment.get("css.boxsizing")){return car.bom.element.Style.get(a,"boxSizing",null,false)||""}if(car.bom.Document.isStandardMode(car.dom.Node.getWindow(a))){if(!this.__usesNativeBorderBox(a)){return"content-box"}}return"border-box"},set:function(b,c){if(car.core.Environment.get("css.boxsizing")){try{b.style[car.core.Environment.get("css.boxsizing")]=c}catch(a){if(car.core.Environment.get("car.debug")){car.log.Logger.warn(this,"This client does not support the boxSizing value",c)}}}else{if(car.core.Environment.get("car.debug")){car.log.Logger.warn(this,"This client does not support dynamic modification of the boxSizing property.")}}},reset:function(a){this.set(a,"")}}});car.Bootstrap.define("car.bom.element.Location",{statics:{__style:function(b,a){return car.bom.element.Style.get(b,a,car.bom.element.Style.COMPUTED_MODE,false)},__num:function(b,a){return parseInt(car.bom.element.Style.get(b,a,car.bom.element.Style.COMPUTED_MODE,false),10)||0},__computeScroll:function(a){var d=0,c=0;var b=car.dom.Node.getWindow(a);d-=car.bom.Viewport.getScrollLeft(b);c-=car.bom.Viewport.getScrollTop(b);return{left:d,top:c}},__computeBody:car.core.Environment.select("engine.name",{mshtml:function(b){var e=car.dom.Node.getDocument(b);var a=e.body;var d=0;var c=0;d-=a.clientLeft+e.documentElement.clientLeft;c-=a.clientTop+e.documentElement.clientTop;if(!car.core.Environment.get("browser.quirksmode")){d+=this.__num(a,"borderLeftWidth");c+=this.__num(a,"borderTopWidth")}return{left:d,top:c}},webkit:function(b){var e=car.dom.Node.getDocument(b);var a=e.body;var d=a.offsetLeft;var c=a.offsetTop;if(parseFloat(car.core.Environment.get("engine.version"))<530.17){d+=this.__num(a,"borderLeftWidth");c+=this.__num(a,"borderTopWidth")}return{left:d,top:c}},gecko:function(b){var a=car.dom.Node.getDocument(b).body;var d=a.offsetLeft;var c=a.offsetTop;if(parseFloat(car.core.Environment.get("engine.version"))<1.9){d+=this.__num(a,"marginLeft");c+=this.__num(a,"marginTop")}if(car.bom.element.BoxSizing.get(a)!=="border-box"){d+=this.__num(a,"borderLeftWidth");c+=this.__num(a,"borderTopWidth")}return{left:d,top:c}},"default":function(b){var a=car.dom.Node.getDocument(b).body;var d=a.offsetLeft;var c=a.offsetTop;return{left:d,top:c}}}),__computeOffset:car.core.Environment.select("engine.name",{gecko:function(d){if(d.getBoundingClientRect){var c=d.getBoundingClientRect();var f=Math.round(c.left);var e=Math.round(c.top)}else{var f=0;var e=0;var a=car.dom.Node.getDocument(d).body;var b=car.bom.element.BoxSizing;if(b.get(d)!=="border-box"){f-=this.__num(d,"borderLeftWidth");e-=this.__num(d,"borderTopWidth")}while(d&&d!==a){f+=d.offsetLeft;e+=d.offsetTop;if(b.get(d)!=="border-box"){f+=this.__num(d,"borderLeftWidth");e+=this.__num(d,"borderTopWidth")}if(d.parentNode&&this.__style(d.parentNode,"overflow")!="visible"){f+=this.__num(d.parentNode,"borderLeftWidth");e+=this.__num(d.parentNode,"borderTopWidth")}d=d.offsetParent}}return{left:f,top:e}},"default":function(c){var f=car.dom.Node.getDocument(c);if(c.getBoundingClientRect){var b=c.getBoundingClientRect();var e=b.left;var d=b.top}else{var e=c.offsetLeft;var d=c.offsetTop;c=c.offsetParent;var a=f.body;while(c&&c!=a){e+=c.offsetLeft;d+=c.offsetTop;e+=this.__num(c,"borderLeftWidth");d+=this.__num(c,"borderTopWidth");c=c.offsetParent}}return{left:e,top:d}}}),get:function(d,f){if(d.tagName=="BODY"){var j=this.__getBodyLocation(d);var c=j.left;var h=j.top}else{var g=this.__computeBody(d);var e=this.__computeOffset(d);var i=this.__computeScroll(d);var c=e.left+g.left-i.left;var h=e.top+g.top-i.top}var k=c+d.offsetWidth;var b=h+d.offsetHeight;if(f){if(f=="padding"||f=="scroll"){var a=car.bom.element.Overflow.getX(d);if(a=="scroll"||a=="auto"){k+=d.scrollWidth-d.offsetWidth+this.__num(d,"borderLeftWidth")+this.__num(d,"borderRightWidth")}var l=car.bom.element.Overflow.getY(d);if(l=="scroll"||l=="auto"){b+=d.scrollHeight-d.offsetHeight+this.__num(d,"borderTopWidth")+this.__num(d,"borderBottomWidth")}}switch(f){case"padding":c+=this.__num(d,"paddingLeft");h+=this.__num(d,"paddingTop");k-=this.__num(d,"paddingRight");b-=this.__num(d,"paddingBottom");case"scroll":c-=d.scrollLeft;h-=d.scrollTop;k-=d.scrollLeft;b-=d.scrollTop;case"border":c+=this.__num(d,"borderLeftWidth");h+=this.__num(d,"borderTopWidth");k-=this.__num(d,"borderRightWidth");b-=this.__num(d,"borderBottomWidth");break;case"margin":c-=this.__num(d,"marginLeft");h-=this.__num(d,"marginTop");k+=this.__num(d,"marginRight");b+=this.__num(d,"marginBottom");break}}return{left:c,top:h,right:k,bottom:b}},__getBodyLocation:function(a){var c=a.offsetTop;var b=a.offsetLeft;if(car.core.Environment.get("engine.name")!=="mshtml"||!((parseFloat(car.core.Environment.get("engine.version"))<8||car.core.Environment.get("browser.documentmode")<8)&&!car.core.Environment.get("browser.quirksmode"))){c+=this.__num(a,"marginTop");b+=this.__num(a,"marginLeft")}if(car.core.Environment.get("engine.name")==="gecko"){c+=this.__num(a,"borderLeftWidth");b+=this.__num(a,"borderTopWidth")}return{left:b,top:c}},getLeft:function(a,b){return this.get(a,b).left},getTop:function(a,b){return this.get(a,b).top},getRight:function(a,b){return this.get(a,b).right},getBottom:function(a,b){return this.get(a,b).bottom},getRelative:function(b,a,f,d){var e=this.get(b,f);var c=this.get(a,d);return{left:e.left-c.left,top:e.top-c.top,right:e.right-c.right,bottom:e.bottom-c.bottom}},getPosition:function(a){return this.getRelative(a,this.getOffsetParent(a))},getOffsetParent:function(b){var c=b.offsetParent||document.body;var a=car.bom.element.Style;while(c&&(!/^body|html$/i.test(c.tagName)&&a.get(c,"position")==="static")){c=c.offsetParent}return c}}});car.Bootstrap.define("car.bom.element.Attribute",{statics:{__hints:{names:{"class":"className","for":"htmlFor",html:"innerHTML",text:car.core.Environment.get("html.element.textcontent")?"textContent":"innerText",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",datetime:"dateTime",accesskey:"accessKey",tabindex:"tabIndex",maxlength:"maxLength",readonly:"readOnly",longdesc:"longDesc",cellpadding:"cellPadding",cellspacing:"cellSpacing",frameborder:"frameBorder",usemap:"useMap"},runtime:{html:1,text:1},bools:{compact:1,nowrap:1,ismap:1,declare:1,noshade:1,checked:1,disabled:1,readOnly:1,multiple:1,selected:1,noresize:1,defer:1,allowTransparency:1},property:{$$html:1,$$widget:1,disabled:1,checked:1,readOnly:1,multiple:1,selected:1,value:1,maxLength:1,className:1,innerHTML:1,innerText:1,textContent:1,htmlFor:1,tabIndex:1},qxProperties:{$$widget:1,$$html:1},propertyDefault:{disabled:false,checked:false,readOnly:false,multiple:false,selected:false,value:"",className:"",innerHTML:"",innerText:"",textContent:"",htmlFor:"",tabIndex:0,maxLength:car.core.Environment.select("engine.name",{mshtml:2147483647,webkit:524288,"default":-1})},removeableProperties:{disabled:1,multiple:1,maxLength:1},original:{href:1,src:1,type:1}},compile:function(d){var b=[];var c=this.__hints.runtime;for(var a in d){if(!c[a]){b.push(a,"='",d[a],"'")}}return b.join("")},get:function(b,a){var d=this.__hints;var c;a=d.names[a]||a;if(car.core.Environment.get("engine.name")=="mshtml"&&parseInt(car.core.Environment.get("browser.documentmode"),10)<8&&d.original[a]){c=b.getAttribute(a,2)}else{if(d.property[a]){c=b[a];if(typeof d.propertyDefault[a]!=="undefined"&&c==d.propertyDefault[a]){if(typeof d.bools[a]==="undefined"){return null}else{return c}}}else{c=b.getAttribute(a)}}if(d.bools[a]){return !!c}return c},set:function(b,a,d){if(typeof d==="undefined"){return}var c=this.__hints;a=c.names[a]||a;if(c.bools[a]){d=!!d}if(c.property[a]&&(!(b[a]===undefined)||c.qxProperties[a])){if(d==null){if(c.removeableProperties[a]){b.removeAttribute(a);return}else{if(typeof c.propertyDefault[a]!=="undefined"){d=c.propertyDefault[a]}}}b[a]=d}else{if(d===true){b.setAttribute(a,a)}else{if(d===false||d===null){b.removeAttribute(a)}else{b.setAttribute(a,d)}}}},reset:function(b,a){this.set(b,a,null)}}});car.Bootstrap.define("car.bom.element.Style",{statics:{__detectVendorProperties:function(){var a={appearance:car.core.Environment.get("css.appearance"),userSelect:car.core.Environment.get("css.userselect"),textOverflow:car.core.Environment.get("css.textoverflow"),borderImage:car.core.Environment.get("css.borderimage"),"float":car.core.Environment.get("css.float"),userModify:car.core.Environment.get("css.usermodify"),boxSizing:car.core.Environment.get("css.boxsizing")};this.__cssNames={};for(var b in car.lang.Object.clone(a)){if(!a[b]){delete a[b]}else{this.__cssNames[b]=b=="float"?"float":car.lang.String.hyphenate(a[b])}}this.__styleNames=a},__getStyleName:function(a){var b=car.bom.Style.getPropertyName(a);if(b){this.__styleNames[a]=b}return b},__mshtmlPixel:{width:"pixelWidth",height:"pixelHeight",left:"pixelLeft",right:"pixelRight",top:"pixelTop",bottom:"pixelBottom"},__special:{},compile:function(f){var c=[];var b=this.__special;var e=this.__cssNames;var a,d;for(a in f){d=f[a];if(d==null){continue}a=e[a]||a;if(b[a]){c.push(b[a].compile(d))}else{c.push(car.lang.String.hyphenate(a),":",d,";")}}return c.join("")},setCss:function(a,b){if(car.core.Environment.get("engine.name")==="mshtml"&&parseInt(car.core.Environment.get("browser.documentmode"),10)<8){a.style.cssText=b}else{a.setAttribute("style",b)}},getCss:function(a){if(car.core.Environment.get("engine.name")==="mshtml"&&parseInt(car.core.Environment.get("browser.documentmode"),10)<8){return a.style.cssText.toLowerCase()}else{return a.getAttribute("style")}},isPropertySupported:function(a){return(this.__special[a]||this.__styleNames[a]||a in document.documentElement.style)},COMPUTED_MODE:1,CASCADED_MODE:2,LOCAL_MODE:3,set:function(b,a,c,d){if(car.core.Environment.get("car.debug")){car.core.Assert.assertElement(b,"Invalid argument 'element'");car.core.Assert.assertString(a,"Invalid argument 'name'");if(d!==undefined){car.core.Assert.assertBoolean(d,"Invalid argument 'smart'")}}a=this.__styleNames[a]||this.__getStyleName(a)||a;if(d!==false&&this.__special[a]){return this.__special[a].set(b,c)}else{b.style[a]=c!==null?c:""}},setStyles:function(c,i,h){if(car.core.Environment.get("car.debug")){car.core.Assert.assertElement(c,"Invalid argument 'element'");car.core.Assert.assertMap(i,"Invalid argument 'styles'");if(h!==undefined){car.core.Assert.assertBoolean(h,"Invalid argument 'smart'")}}var g=this.__styleNames;var d=this.__special;var b=c.style;for(var f in i){var e=i[f];var a=g[f]||this.__getStyleName(f)||f;if(e===undefined){if(h!==false&&d[a]){d[a].reset(c)}else{b[a]=""}}else{if(h!==false&&d[a]){d[a].set(c,e)}else{b[a]=e!==null?e:""}}}},reset:function(b,a,c){a=this.__styleNames[a]||this.__getStyleName(a)||a;if(c!==false&&this.__special[a]){return this.__special[a].reset(b)}else{b.style[a]=""}},get:car.core.Environment.select("engine.name",{mshtml:function(e,d,h,g){d=this.__styleNames[d]||this.__getStyleName(d)||d;if(g!==false&&this.__special[d]){return this.__special[d].get(e,h)}if(!e.currentStyle){return e.style[d]||""}switch(h){case this.LOCAL_MODE:return e.style[d]||"";case this.CASCADED_MODE:return e.currentStyle[d]||"";default:var c=e.currentStyle[d]||"";if(/^-?[\.\d]+(px)?$/i.test(c)){return c}var b=this.__mshtmlPixel[d];if(b){var a=e.style[d];e.style[d]=c||0;var f=e.style[b]+"px";e.style[d]=a;return f}if(/^-?[\.\d]+(em|pt|%)?$/i.test(c)){throw new Error("Untranslated computed property value: "+d+". Only pixel values work well across different clients.")}return c}},"default":function(b,a,f,e){a=this.__styleNames[a]||this.__getStyleName(a)||a;if(e!==false&&this.__special[a]){return this.__special[a].get(b,f)}switch(f){case this.LOCAL_MODE:return b.style[a]||"";case this.CASCADED_MODE:if(b.currentStyle){return b.currentStyle[a]||""}throw new Error("Cascaded styles are not supported in this browser!");default:var d=car.dom.Node.getDocument(b);var c=d.defaultView.getComputedStyle(b,null);return c?c[a]:""}}})},defer:function(a){a.__detectVendorProperties()}});car.Bootstrap.define("car.bom.Viewport",{statics:{getWidth:function(b){var b=b||window;var a=b.document;return car.bom.Document.isStandardMode(b)?a.documentElement.clientWidth:a.body.clientWidth},getHeight:function(b){var b=b||window;var a=b.document;return car.bom.Document.isStandardMode(b)?a.documentElement.clientHeight:a.body.clientHeight},getScrollLeft:function(b){var b=b?b:window;if(typeof b.pageXOffset!=="undefined"){return b.pageXOffset}var a=b.document;return a.documentElement.scrollLeft||a.body.scrollLeft},getScrollTop:function(b){var b=b?b:window;if(typeof b.pageYOffeset!=="undefined"){return b.pageYOffset}var a=b.document;return a.documentElement.scrollTop||a.body.scrollTop},__getOrientationNormalizer:function(c){var b=this.getWidth(c)>this.getHeight(c)?90:0;var a=c.orientation;if(a==null||Math.abs(a%180)==b){return{"-270":90,"-180":180,"-90":-90,"0":0,"90":90,"180":180,"270":-90}}else{return{"-270":180,"-180":-90,"-90":0,"0":90,"90":180,"180":-90,"270":0}}},__orientationNormalizer:null,getOrientation:function(b){var b=b||window.top;var a=b.orientation;if(a==null){a=this.getWidth(b)>this.getHeight(b)?90:0}else{if(this.__orientationNormalizer==null){this.__orientationNormalizer=this.__getOrientationNormalizer(b)}a=this.__orientationNormalizer[a]}return a},isLandscape:function(a){return this.getWidth(a)>=this.getHeight(a)},isPortrait:function(a){return this.getWidth(a)<this.getHeight(a)}}});car.Bootstrap.define("car.bom.Document",{statics:{isQuirksMode:car.core.Environment.select("engine.name",{mshtml:function(a){if(car.core.Environment.get("engine.version")>=8){return(a||window).document.documentMode===5}else{return(a||window).document.compatMode!=="CSS1Compat"}},webkit:function(b){if(document.compatMode===undefined){var a=(b||window).document.createElement("div");a.style.cssText="position:absolute;width:0;height:0;width:1";return a.style.width==="1px"?true:false}else{return(b||window).document.compatMode!=="CSS1Compat"}},"default":function(a){return(a||window).document.compatMode!=="CSS1Compat"}}),isStandardMode:function(a){return !this.isQuirksMode(a)},getWidth:function(d){var c=(d||window).document;var b=car.bom.Viewport.getWidth(d);var a=this.isStandardMode(d)?c.documentElement.scrollWidth:c.body.scrollWidth;return Math.max(a,b)},getHeight:function(d){var c=(d||window).document;var b=car.bom.Viewport.getHeight(d);var a=this.isStandardMode(d)?c.documentElement.scrollHeight:c.body.scrollHeight;return Math.max(a,b)}}});car.Class.define("car.bom.Element",{statics:{allowCreationWithMarkup:function(a){car.log.Logger.deprecatedMethodWarning(arguments.callee);return car.dom.Element._allowCreationWithMarkup(a)},getHelperElement:function(a){car.log.Logger.deprecatedMethodWarning(arguments.callee,"Use car.dom.Element.getHelperElement instead");return car.dom.Element.getHelperElement(a)},create:function(b,a,c){car.log.Logger.deprecatedMethodWarning(arguments.callee,"Use car.dom.Element.create instead");return car.dom.Element.create(b,a,c)},empty:function(a){car.log.Logger.deprecatedMethodWarning(arguments.callee,"Use car.dom.Element.empty instead");return car.dom.Element.empty(a)},addListener:function(c,d,e,b,a){return car.event.Registration.addListener(c,d,e,b,a)},removeListener:function(c,d,e,b,a){return car.event.Registration.removeListener(c,d,e,b,a)},removeListenerById:function(a,b){return car.event.Registration.removeListenerById(a,b)},hasListener:function(b,c,a){return car.event.Registration.hasListener(b,c,a)},focus:function(a){car.event.Registration.getManager(a).getHandler(car.event.handler.Focus).focus(a)},blur:function(a){car.event.Registration.getManager(a).getHandler(car.event.handler.Focus).blur(a)},activate:function(a){car.event.Registration.getManager(a).getHandler(car.event.handler.Focus).activate(a)},deactivate:function(a){car.event.Registration.getManager(a).getHandler(car.event.handler.Focus).deactivate(a)},capture:function(a,b){car.event.Registration.getManager(a).getDispatcher(car.event.dispatch.MouseCapture).activateCapture(a,b)},releaseCapture:function(a){car.event.Registration.getManager(a).getDispatcher(car.event.dispatch.MouseCapture).releaseCapture(a)},matchesSelector:function(b,a){if(a){return car.bom.Selector.query(a,b.parentNode).length>0}else{return false}},clone:function(g,r){var k;if(r||((car.core.Environment.get("engine.name")=="mshtml")&&!car.xml.Document.isXmlDocument(g))){var q=car.event.Registration.getManager(g);var o=car.dom.Hierarchy.getDescendants(g);o.push(g)}if((car.core.Environment.get("engine.name")=="mshtml")){for(var h=0,d=o.length;h<d;h++){q.toggleAttachedEvents(o[h],false)}}var k=g.cloneNode(true);if((car.core.Environment.get("engine.name")=="mshtml")){for(var h=0,d=o.length;h<d;h++){q.toggleAttachedEvents(o[h],true)}}if(r===true){var p=car.dom.Hierarchy.getDescendants(k);p.push(k);var a,b,m,c;for(var h=0,n=o.length;h<n;h++){m=o[h];a=q.serializeListeners(m);if(a.length>0){b=p[h];for(var e=0,f=a.length;e<f;e++){c=a[e];q.addListener(b,c.type,c.handler,c.self,c.capture)}}}}return k}}});car.Bootstrap.define("car.bom.Label",{statics:{__styles:{fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},__prepareText:function(){var a=this.__createMeasureElement(false);document.body.insertBefore(a,document.body.firstChild);return this._textElement=a},__prepareHtml:function(){var a=this.__createMeasureElement(true);document.body.insertBefore(a,document.body.firstChild);return this._htmlElement=a},__createMeasureElement:function(c){var e=car.dom.Element.create("div");var d=e.style;d.width=d.height="auto";d.left=d.top="-1000px";d.visibility="hidden";d.position="absolute";d.overflow="visible";d.display="block";if(c){d.whiteSpace="normal"}else{d.whiteSpace="nowrap";if(!car.core.Environment.get("css.textoverflow")&&car.core.Environment.get("html.xul")){var a=document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","label");var d=a.style;d.padding="0";d.margin="0";d.width="auto";for(var b in this.__styles){d[b]="inherit"}e.appendChild(a)}}return e},__getStyles:function(a){var b={};if(a){b.whiteSpace="normal"}else{if(!car.core.Environment.get("css.textoverflow")&&car.core.Environment.get("html.xul")){b.display="block"}else{b.overflow="hidden";b.whiteSpace="nowrap";b[car.core.Environment.get("css.textoverflow")]="ellipsis"}}return b},create:function(e,b,g){if(!g){g=window}var d=g.document.createElement("div");if(b){d.useHtml=true}else{if(!car.core.Environment.get("css.textoverflow")&&car.core.Environment.get("html.xul")){var f=g.document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","label");var c=f.style;c.cursor="inherit";c.color="inherit";c.overflow="hidden";c.maxWidth="100%";c.padding="0";c.margin="0";c.width="auto";for(var a in this.__styles){f.style[a]="inherit"}f.setAttribute("crop","end");d.appendChild(f)}else{car.bom.element.Style.setStyles(d,this.__getStyles(b))}}if(e){this.setValue(d,e)}return d},setValue:function(a,b){b=b||"";if(a.useHtml){a.innerHTML=b}else{if(!car.core.Environment.get("css.textoverflow")&&car.core.Environment.get("html.xul")){a.firstChild.setAttribute("value",b)}else{car.bom.element.Attribute.set(a,"text",b)}}},getValue:function(a){if(a.useHtml){return a.innerHTML}else{if(!car.core.Environment.get("css.textoverflow")&&car.core.Environment.get("html.xul")){return a.firstChild.getAttribute("value")||""}else{return car.bom.element.Attribute.get(a,"text")}}},getHtmlSize:function(d,c,b){var a=this._htmlElement||this.__prepareHtml();a.style.width=b!=undefined?b+"px":"auto";a.innerHTML=d;return this.__measureSize(a,c)},getTextSize:function(c,b){var a=this._textElement||this.__prepareText();if(!car.core.Environment.get("css.textoverflow")&&car.core.Environment.get("html.xul")){a.firstChild.setAttribute("value",c)}else{car.bom.element.Attribute.set(a,"text",c)}return this.__measureSize(a,b)},__measureSize:function(c,e){var d=this.__styles;if(!e){e={}}for(var b in d){c.style[b]=e[b]||""}var a=car.bom.element.Dimension.getSize(c);if((car.core.Environment.get("engine.name")=="gecko")){a.width++}if((car.core.Environment.get("engine.name")=="mshtml")&&parseFloat(car.core.Environment.get("engine.version"))>=9){a.width++}return a}}});car.Class.define("car.util.DeferredCallManager",{extend:car.core.Object,type:"singleton",construct:function(){this.__calls={};this.__timeoutWrapper=car.lang.Function.bind(this.__timeout,this);this.__hasCalls=false},members:{__timeoutId:null,__currentQueue:null,__calls:null,__hasCalls:null,__timeoutWrapper:null,schedule:function(b){if(this.__timeoutId==null){this.__timeoutId=window.setTimeout(this.__timeoutWrapper,0)}var a=b.toHashCode();if(this.__currentQueue&&this.__currentQueue[a]){return}this.__calls[a]=b;this.__hasCalls=true},cancel:function(b){var a=b.toHashCode();if(this.__currentQueue&&this.__currentQueue[a]){this.__currentQueue[a]=null;return}delete this.__calls[a];if(car.lang.Object.isEmpty(this.__calls)&&this.__timeoutId!=null){window.clearTimeout(this.__timeoutId);this.__timeoutId=null}},__timeout:function(){this.__timeoutId=null;while(this.__hasCalls){this.__currentQueue=car.lang.Object.clone(this.__calls);this.__calls={};this.__hasCalls=false;for(var a in this.__currentQueue){var b=this.__currentQueue[a];if(b){this.__currentQueue[a]=null;b.call()}}}this.__currentQueue=null}},destruct:function(){if(this.__timeoutId!=null){window.clearTimeout(this.__timeoutId)}this.__timeoutWrapper=this.__calls=null}});car.Class.define("car.util.DeferredCall",{extend:car.core.Object,construct:function(b,a){this.base(arguments);this.__callback=b;this.__context=a||null;this.__manager=car.util.DeferredCallManager.getInstance()},members:{__callback:null,__context:null,__manager:null,cancel:function(){this.__manager.cancel(this)},schedule:function(){this.__manager.schedule(this)},call:function(){if(car.core.Environment.get("car.debug")){var a=this.__context;if(a&&a.isDisposed&&a.isDisposed()){this.warn("The context object '"+a+"' of the defered call '"+this+"'is already disposed.")}}this.__context?this.__callback.apply(this.__context):this.__callback()}},destruct:function(){this.cancel();this.__context=this.__callback=this.__manager=null}});car.Class.define("car.html.Element",{extend:car.core.Object,construct:function(b,c,a){this.base(arguments);this.__nodeName=b||"div";this.__styleValues=c||null;this.__attribValues=a||null},statics:{DEBUG:false,_modified:{},_visibility:{},_scroll:{},_actions:[],__selection:{},_scheduleFlush:function(a){car.html.Element.__deferredCall.schedule()},flush:function(){var m;if(car.core.Environment.get("car.debug")){if(this.DEBUG){car.log.Logger.debug(this,"Flushing elements...")}}var d=this.__getFocusHandler();var q=d.getFocus();if(q&&this.__willBecomeInvisible(q)){d.blur(q)}var f=d.getActive();if(f&&this.__willBecomeInvisible(f)){car.bom.Element.deactivate(f)}var k=this.__getCaptureElement();if(k&&this.__willBecomeInvisible(k)){car.bom.Element.releaseCapture(k)}var e=[];var j=this._modified;for(var g in j){m=j[g];if(m.__willBeSeeable()||m.classname=="car.html.Iframe"){if(m.__element&&car.dom.Hierarchy.isRendered(m.__element)){e.push(m)}else{if(car.core.Environment.get("car.debug")){if(this.DEBUG){m.debug("Flush invisible element")}}m.__flush()}delete j[g]}}for(var u=0,p=e.length;u<p;u++){m=e[u];if(car.core.Environment.get("car.debug")){if(this.DEBUG){m.debug("Flush rendered element")}}m.__flush()}var v=this._visibility;for(var g in v){m=v[g];var b=m.__element;if(!b){delete v[g];continue}if(car.core.Environment.get("car.debug")){if(this.DEBUG){car.log.Logger.debug(this,"Switching visibility to: "+m.__visible)}}if(!m.$$disposed){b.style.visibility=m.__visible?"visible":"hidden"}delete v[g]}var a=this._scroll;for(var g in a){m=a[g];var w=m.__element;if(w&&w.offsetWidth){var n=true;if(m.__lazyScrollX!=null){m.__element.scrollLeft=m.__lazyScrollX;delete m.__lazyScrollX}if(m.__lazyScrollY!=null){m.__element.scrollTop=m.__lazyScrollY;delete m.__lazyScrollY}var t=m.__lazyScrollIntoViewX;if(t!=null){var h=t.element.getDomElement();if(h&&h.offsetWidth){car.bom.element.Scroll.intoViewX(h,w,t.align);delete m.__lazyScrollIntoViewX}else{n=false}}var s=m.__lazyScrollIntoViewY;if(s!=null){var h=s.element.getDomElement();if(h&&h.offsetWidth){car.bom.element.Scroll.intoViewY(h,w,s.align);delete m.__lazyScrollIntoViewY}else{n=false}}if(n){delete a[g]}}}var o={releaseCapture:1,blur:1,deactivate:1};for(var u=0;u<this._actions.length;u++){var r=this._actions[u];var b=r.element.__element;if(!b||!o[r.type]&&!r.element.__willBeSeeable()){continue}var c=r.args;c.unshift(b);car.bom.Element[r.type].apply(car.bom.Element,c)}this._actions=[];for(var g in this.__selection){var x=this.__selection[g];var w=x.element.__element;if(w){car.bom.Selection.set(w,x.start,x.end);delete this.__selection[g]}}},__getFocusHandler:function(){if(!this.__focusHandler){var a=car.event.Registration.getManager(window);this.__focusHandler=a.getHandler(car.event.handler.Focus)}return this.__focusHandler},__getCaptureElement:function(){if(!this.__mouseCapture){var a=car.event.Registration.getManager(window);this.__mouseCapture=a.getDispatcher(car.event.dispatch.MouseCapture)}return this.__mouseCapture.getCaptureElement()},__willBecomeInvisible:function(b){var a=car.core.ObjectRegistry.fromHashCode(b.$$element);return a&&!a.__willBeSeeable()}},members:{__nodeName:null,__element:null,__root:false,__included:true,__visible:true,__lazyScrollIntoViewX:null,__lazyScrollIntoViewY:null,__lazyScrollX:null,__lazyScrollY:null,__styleJobs:null,__attribJobs:null,__propertyJobs:null,__styleValues:null,__attribValues:null,__propertyValues:null,__eventValues:null,__children:null,__modifiedChildren:null,__parent:null,_scheduleChildrenUpdate:function(){if(this.__modifiedChildren){return}this.__modifiedChildren=true;car.html.Element._modified[this.$$hash]=this;car.html.Element._scheduleFlush("element")},_createDomElement:function(){return car.dom.Element.create(this.__nodeName)},__flush:function(){if(car.core.Environment.get("car.debug")){if(this.DEBUG){this.debug("Flush: "+this.getAttribute("id"))}}var c;var b=this.__children;if(b){c=b.length;var d;for(var a=0;a<c;a++){d=b[a];if(d.__visible&&d.__included&&!d.__element){d.__flush()}}}if(!this.__element){this.__element=this._createDomElement();this.__element.$$element=this.$$hash;this._copyData(false);if(b&&c>0){this._insertChildren()}}else{this._syncData();if(this.__modifiedChildren){this._syncChildren()}}delete this.__modifiedChildren},_insertChildren:function(){var b=this.__children;var c=b.length;var e;if(c>2){var d=document.createDocumentFragment();for(var a=0;a<c;a++){e=b[a];if(e.__element&&e.__included){d.appendChild(e.__element)}}this.__element.appendChild(d)}else{var d=this.__element;for(var a=0;a<c;a++){e=b[a];if(e.__element&&e.__included){d.appendChild(e.__element)}}}},_syncChildren:function(){var c=car.core.ObjectRegistry;var l=this.__children;var a=l.length;var f;var d;var h=this.__element;var j=h.childNodes;var e=0;var b;if(car.core.Environment.get("car.debug")){var k=0}for(var g=j.length-1;g>=0;g--){b=j[g];d=c.fromHashCode(b.$$element);if(!d||!d.__included||d.__parent!==this){h.removeChild(b);if(car.core.Environment.get("car.debug")){k++}}}for(var g=0;g<a;g++){f=l[g];if(f.__included){d=f.__element;b=j[e];if(!d){continue}if(d!=b){if(b){h.insertBefore(d,b)}else{h.appendChild(d)}if(car.core.Environment.get("car.debug")){k++}}e++}}if(car.core.Environment.get("car.debug")){if(car.html.Element.DEBUG){this.debug("Synced DOM with "+k+" operations")}}},_copyData:function(f){var d=this.__element;var e=this.__attribValues;if(e){var c=car.bom.element.Attribute;for(var b in e){c.set(d,b,e[b])}}var e=this.__styleValues;if(e){var a=car.bom.element.Style;if(f){a.setStyles(d,e)}else{a.setCss(d,a.compile(e))}}var e=this.__propertyValues;if(e){for(var b in e){this._applyProperty(b,e[b])}}var e=this.__eventValues;if(e){car.event.Registration.getManager(d).importListeners(d,e);delete this.__eventValues}},_syncData:function(){var f=this.__element;var d=car.bom.element.Attribute;var b=car.bom.element.Style;var a=this.__attribJobs;if(a){var h=this.__attribValues;if(h){var g;for(var c in a){g=h[c];if(g!==undefined){d.set(f,c,g)}else{d.reset(f,c)}}}this.__attribJobs=null}var a=this.__styleJobs;if(a){var h=this.__styleValues;if(h){var e={};for(var c in a){e[c]=h[c]}b.setStyles(f,e)}this.__styleJobs=null}var a=this.__propertyJobs;if(a){var h=this.__propertyValues;if(h){var g;for(var c in a){this._applyProperty(c,h[c])}}this.__propertyJobs=null}},__willBeSeeable:function(){var a=this;while(a){if(a.__root){return true}if(!a.__included||!a.__visible){return false}a=a.__parent}return false},__addChildHelper:function(a){if(a.__parent===this){throw new Error("Child is already in: "+a)}if(a.__root){throw new Error("Root elements could not be inserted into other ones.")}if(a.__parent){a.__parent.remove(a)}a.__parent=this;if(!this.__children){this.__children=[]}if(this.__element){this._scheduleChildrenUpdate()}},__removeChildHelper:function(a){if(a.__parent!==this){throw new Error("Has no child: "+a)}if(this.__element){this._scheduleChildrenUpdate()}delete a.__parent},__moveChildHelper:function(a){if(a.__parent!==this){throw new Error("Has no child: "+a)}if(this.__element){this._scheduleChildrenUpdate()}},getChildren:function(){return this.__children||null},getChild:function(a){var b=this.__children;return b&&b[a]||null},hasChildren:function(){var a=this.__children;return a&&a[0]!==undefined},indexOf:function(b){var a=this.__children;return a?a.indexOf(b):-1},hasChild:function(b){var a=this.__children;return a&&a.indexOf(b)!==-1},add:function(b){if(arguments[1]){for(var c=0,a=arguments.length;c<a;c++){this.__addChildHelper(arguments[c])}this.__children.push.apply(this.__children,arguments)}else{this.__addChildHelper(b);this.__children.push(b)}return this},addAt:function(b,a){this.__addChildHelper(b);car.lang.Array.insertAt(this.__children,b,a);return this},remove:function(d){var c=this.__children;if(!c){return}if(arguments[1]){var e;for(var b=0,a=arguments.length;b<a;b++){e=arguments[b];this.__removeChildHelper(e);car.lang.Array.remove(c,e)}}else{this.__removeChildHelper(d);car.lang.Array.remove(c,d)}return this},removeAt:function(a){var b=this.__children;if(!b){throw new Error("Has no children!")}var c=b[a];if(!c){throw new Error("Has no child at this position!")}this.__removeChildHelper(c);car.lang.Array.removeAt(this.__children,a);return this},removeAll:function(){var c=this.__children;if(c){for(var b=0,a=c.length;b<a;b++){this.__removeChildHelper(c[b])}c.length=0}return this},getParent:function(){return this.__parent||null},insertInto:function(b,a){b.__addChildHelper(this);if(a==null){b.__children.push(this)}else{car.lang.Array.insertAt(this.__children,this,a)}return this},insertBefore:function(a){var b=a.__parent;b.__addChildHelper(this);car.lang.Array.insertBefore(b.__children,this,a);return this},insertAfter:function(a){var b=a.__parent;b.__addChildHelper(this);car.lang.Array.insertAfter(b.__children,this,a);return this},moveTo:function(a){var b=this.__parent;b.__moveChildHelper(this);var c=b.__children.indexOf(this);if(c===a){throw new Error("Could not move to same index!")}else{if(c<a){a--}}car.lang.Array.removeAt(b.__children,c);car.lang.Array.insertAt(b.__children,this,a);return this},moveBefore:function(a){var b=this.__parent;return this.moveTo(b.__children.indexOf(a))},moveAfter:function(a){var b=this.__parent;return this.moveTo(b.__children.indexOf(a)+1)},free:function(){var a=this.__parent;if(!a){throw new Error("Has no parent to remove from.")}if(!a.__children){return}a.__removeChildHelper(this);car.lang.Array.remove(a.__children,this);return this},getDomElement:function(){return this.__element||null},getNodeName:function(){return this.__nodeName},setNodeName:function(a){this.__nodeName=a},setRoot:function(a){this.__root=a},useMarkup:function(a){if(this.__element){throw new Error("Could not overwrite existing element!")}if((car.core.Environment.get("engine.name")=="mshtml")){var b=document.createElement("div")}else{var b=car.dom.Element.getHelperElement()}b.innerHTML=a;this.useElement(b.firstChild);return this.__element},useElement:function(a){if(this.__element){throw new Error("Could not overwrite existing element!")}this.__element=a;this.__element.$$element=this.$$hash;this._copyData(true)},isFocusable:function(){var a=this.getAttribute("tabIndex");if(a>=1){return true}var b=car.event.handler.Focus.FOCUSABLE_ELEMENTS;if(a>=0&&b[this.__nodeName]){return true}return false},setSelectable:function(b){this.setAttribute("qxSelectable",b?"on":"off");var a=car.core.Environment.get("css.userselect");if(a){this.setStyle(a,b?"text":car.core.Environment.get("css.userselect.none"))}},isNativelyFocusable:function(){return !!car.event.handler.Focus.FOCUSABLE_ELEMENTS[this.__nodeName]},include:function(){if(this.__included){return}delete this.__included;if(this.__parent){this.__parent._scheduleChildrenUpdate()}return this},exclude:function(){if(!this.__included){return}this.__included=false;if(this.__parent){this.__parent._scheduleChildrenUpdate()}return this},isIncluded:function(){return this.__included===true},show:function(){if(this.__visible){return}if(this.__element){car.html.Element._visibility[this.$$hash]=this;car.html.Element._scheduleFlush("element")}if(this.__parent){this.__parent._scheduleChildrenUpdate()}delete this.__visible},hide:function(){if(!this.__visible){return}if(this.__element){car.html.Element._visibility[this.$$hash]=this;car.html.Element._scheduleFlush("element")}this.__visible=false},isVisible:function(){return this.__visible===true},scrollChildIntoViewX:function(c,e,d){var b=this.__element;var a=c.getDomElement();if(d!==false&&b&&b.offsetWidth&&a&&a.offsetWidth){car.bom.element.Scroll.intoViewX(a,b,e)}else{this.__lazyScrollIntoViewX={element:c,align:e};car.html.Element._scroll[this.$$hash]=this;car.html.Element._scheduleFlush("element")}delete this.__lazyScrollX},scrollChildIntoViewY:function(c,e,d){var b=this.__element;var a=c.getDomElement();if(d!==false&&b&&b.offsetWidth&&a&&a.offsetWidth){car.bom.element.Scroll.intoViewY(a,b,e)}else{this.__lazyScrollIntoViewY={element:c,align:e};car.html.Element._scroll[this.$$hash]=this;car.html.Element._scheduleFlush("element")}delete this.__lazyScrollY},scrollToX:function(a,b){var c=this.__element;if(b!==true&&c&&c.offsetWidth){c.scrollLeft=a;delete this.__lazyScrollX}else{this.__lazyScrollX=a;car.html.Element._scroll[this.$$hash]=this;car.html.Element._scheduleFlush("element")}delete this.__lazyScrollIntoViewX},getScrollX:function(){var a=this.__element;if(a){return a.scrollLeft}return this.__lazyScrollX||0},scrollToY:function(c,a){var b=this.__element;if(a!==true&&b&&b.offsetWidth){b.scrollTop=c;delete this.__lazyScrollY}else{this.__lazyScrollY=c;car.html.Element._scroll[this.$$hash]=this;car.html.Element._scheduleFlush("element")}delete this.__lazyScrollIntoViewY},getScrollY:function(){var a=this.__element;if(a){return a.scrollTop}return this.__lazyScrollY||0},disableScrolling:function(){this.enableScrolling();this.scrollToX(0);this.scrollToY(0);this.addListener("scroll",this.__onScroll,this)},enableScrolling:function(){this.removeListener("scroll",this.__onScroll,this)},__inScroll:null,__onScroll:function(a){if(!this.__inScroll){this.__inScroll=true;this.__element.scrollTop=0;this.__element.scrollLeft=0;delete this.__inScroll}},getTextSelection:function(){var a=this.__element;if(a){return car.bom.Selection.get(a)}return null},getTextSelectionLength:function(){var a=this.__element;if(a){return car.bom.Selection.getLength(a)}return null},getTextSelectionStart:function(){var a=this.__element;if(a){return car.bom.Selection.getStart(a)}return null},getTextSelectionEnd:function(){var a=this.__element;if(a){return car.bom.Selection.getEnd(a)}return null},setTextSelection:function(c,a){var b=this.__element;if(b){car.bom.Selection.set(b,c,a);return}car.html.Element.__selection[this.toHashCode()]={element:this,start:c,end:a};car.html.Element._scheduleFlush("element")},clearTextSelection:function(){var a=this.__element;if(a){car.bom.Selection.clear(a)}delete car.html.Element.__selection[this.toHashCode()]},__performAction:function(b,a){var c=car.html.Element._actions;c.push({type:b,element:this,args:a||[]});car.html.Element._scheduleFlush("element")},focus:function(){this.__performAction("focus")},blur:function(){this.__performAction("blur")},activate:function(){this.__performAction("activate")},deactivate:function(){this.__performAction("deactivate")},capture:function(a){this.__performAction("capture",[a!==false])},releaseCapture:function(){this.__performAction("releaseCapture")},setStyle:function(a,b,c){if(!this.__styleValues){this.__styleValues={}}if(this.__styleValues[a]==b){return}if(b==null){delete this.__styleValues[a]}else{this.__styleValues[a]=b}if(this.__element){if(c){car.bom.element.Style.set(this.__element,a,b);return this}if(!this.__styleJobs){this.__styleJobs={}}this.__styleJobs[a]=true;car.html.Element._modified[this.$$hash]=this;car.html.Element._scheduleFlush("element")}return this},setStyles:function(d,e){var a=car.bom.element.Style;if(!this.__styleValues){this.__styleValues={}}if(this.__element){if(!this.__styleJobs){this.__styleJobs={}}for(var b in d){var c=d[b];if(this.__styleValues[b]==c){continue}if(c==null){delete this.__styleValues[b]}else{this.__styleValues[b]=c}if(e){a.set(this.__element,b,c);continue}this.__styleJobs[b]=true}car.html.Element._modified[this.$$hash]=this;car.html.Element._scheduleFlush("element")}else{for(var b in d){var c=d[b];if(this.__styleValues[b]==c){continue}if(c==null){delete this.__styleValues[b]}else{this.__styleValues[b]=c}}}return this},removeStyle:function(a,b){this.setStyle(a,null,b)},getStyle:function(a){return this.__styleValues?this.__styleValues[a]:null},getAllStyles:function(){return this.__styleValues||null},setAttribute:function(a,b,c){if(!this.__attribValues){this.__attribValues={}}if(this.__attribValues[a]==b){return}if(b==null){delete this.__attribValues[a]}else{this.__attribValues[a]=b}if(this.__element){if(c){car.bom.element.Attribute.set(this.__element,a,b);return this}if(!this.__attribJobs){this.__attribJobs={}}this.__attribJobs[a]=true;car.html.Element._modified[this.$$hash]=this;car.html.Element._scheduleFlush("element")}return this},setAttributes:function(b,c){for(var a in b){this.setAttribute(a,b[a],c)}return this},removeAttribute:function(a,b){this.setAttribute(a,null,b)},getAttribute:function(a){return this.__attribValues?this.__attribValues[a]:null},_applyProperty:function(a,b){},_setProperty:function(a,b,c){if(!this.__propertyValues){this.__propertyValues={}}if(this.__propertyValues[a]==b){return}if(b==null){delete this.__propertyValues[a]}else{this.__propertyValues[a]=b}if(this.__element){if(c){this._applyProperty(a,b);return this}if(!this.__propertyJobs){this.__propertyJobs={}}this.__propertyJobs[a]=true;car.html.Element._modified[this.$$hash]=this;car.html.Element._scheduleFlush("element")}return this},_removeProperty:function(a,b){this._setProperty(a,null,b)},_getProperty:function(b){var a=this.__propertyValues;if(!a){return null}var c=a[b];return c==null?null:c},addListener:function(c,d,b,a){if(this.$$disposed){return null}if(car.core.Environment.get("car.debug")){var f="Failed to add event listener for type '"+c+"' to the target '"+this+"': ";this.assertString(c,f+"Invalid event type.");this.assertFunction(d,f+"Invalid callback function");if(b!==undefined){this.assertObject(b,"Invalid context for callback.")}if(a!==undefined){this.assertBoolean(a,"Invalid capture flag.")}}if(this.__element){return car.event.Registration.addListener(this.__element,c,d,b,a)}if(!this.__eventValues){this.__eventValues={}}if(a==null){a=false}var e=car.event.Manager.getNextUniqueId();var g=c+(a?"|capture|":"|bubble|")+e;this.__eventValues[g]={type:c,listener:d,self:b,capture:a,unique:e};return g},removeListener:function(e,g,c,b){if(this.$$disposed){return null}if(car.core.Environment.get("car.debug")){var h="Failed to remove event listener for type '"+e+"' from the target '"+this+"': ";this.assertString(e,h+"Invalid event type.");this.assertFunction(g,h+"Invalid callback function");if(c!==undefined){this.assertObject(c,"Invalid context for callback.")}if(b!==undefined){this.assertBoolean(b,"Invalid capture flag.")}}if(this.__element){car.event.Registration.removeListener(this.__element,e,g,c,b)}else{var a=this.__eventValues;var f;if(b==null){b=false}for(var d in a){f=a[d];if(f.listener===g&&f.self===c&&f.capture===b&&f.type===e){delete a[d];break}}}return this},removeListenerById:function(a){if(this.$$disposed){return null}if(this.__element){car.event.Registration.removeListenerById(this.__element,a)}else{delete this.__eventValues[a]}return this},hasListener:function(d,b){if(this.$$disposed){return false}if(this.__element){return car.event.Registration.hasListener(this.__element,d,b)}var a=this.__eventValues;var e;if(b==null){b=false}for(var c in a){e=a[c];if(e.capture===b&&e.type===d){return true}}return false}},defer:function(a){a.__deferredCall=new car.util.DeferredCall(a.flush,a)},destruct:function(){var b=this.__element;if(b){car.event.Registration.getManager(b).removeAllListeners(b);b.$$element=""}if(!car.core.ObjectRegistry.inShutDown){var a=this.__parent;if(a&&!a.$$disposed){a.remove(this)}}this._disposeArray("__children");this.__attribValues=this.__styleValues=this.__eventValues=this.__propertyValues=this.__attribJobs=this.__styleJobs=this.__propertyJobs=this.__element=this.__parent=this.__lazyScrollIntoViewX=this.__lazyScrollIntoViewY=null}});car.Class.define("car.html.Label",{extend:car.html.Element,members:{__rich:null,_applyProperty:function(a,c){this.base(arguments,a,c);if(a=="value"){var b=this.getDomElement();car.bom.Label.setValue(b,c)}},_createDomElement:function(){var a=this.__rich;var b=car.bom.Label.create(this._content,a);return b},_copyData:function(a){return this.base(arguments,true)},setRich:function(b){var a=this.getDomElement();if(a){throw new Error("The label mode cannot be modified after initial creation")}b=!!b;if(this.__rich==b){return}this.__rich=b;return this},setValue:function(a){this._setProperty("value",a);return this},getValue:function(){return this._getProperty("value")}}});car.Class.define("car.html.Root",{extend:car.html.Element,construct:function(a){this.base(arguments);if(a!=null){this.useElement(a)}},members:{useElement:function(a){this.base(arguments,a);this.setRoot(true);car.html.Element._modified[this.$$hash]=this}}});car.Class.define("car.ui.popup.Manager",{type:"singleton",extend:car.core.Object,construct:function(){this.base(arguments);this.__objects=[];car.event.Registration.addListener(document.documentElement,"mousedown",this.__onMouseDown,this,true);car.bom.Element.addListener(window,"blur",this.hideAll,this)},members:{__objects:null,add:function(a){if(car.core.Environment.get("car.debug")){if(!(a instanceof car.ui.popup.Popup)){throw new Error("Object is no popup: "+a)}}this.__objects.push(a);this.__updateIndexes()},remove:function(a){if(car.core.Environment.get("car.debug")){if(!(a instanceof car.ui.popup.Popup)){throw new Error("Object is no popup: "+a)}}if(this.__objects){car.lang.Array.remove(this.__objects,a);this.__updateIndexes()}},hideAll:function(){var d;var c=this.__objects;if(c){for(var b=0,a=c.length;b<a;b++){var d=c[b];d.exclude()}}},__updateIndexes:function(){var b=10000000;for(var a=0;a<this.__objects.length;a++){this.__objects[a].setZIndex(b++)}},__onMouseDown:function(f){var d=car.ui.core.Widget.getWidgetByElement(f.getTarget());var b=this.__objects;for(var a=0;a<b.length;a++){var c=b[a];if(
/*obj.getAutoHide() || */
d==c||car.ui.core.Widget.contains(c,d)){continue}c.exclude()}}},destruct:function(){car.event.Registration.removeListener(document.documentElement,"mousedown",this.__onMouseDown,this,true);this._disposeArray("__objects")}});car.Class.define("car.ui.popup.MoustOverManager",{type:"singleton",extend:car.core.Object,construct:function(){this.base(arguments);this.__objects=[];car.event.Registration.addListener(document.documentElement,"mousedown",this.__onMouseDown,this,true);car.bom.Element.addListener(window,"blur",this.hideAll,this)},members:{__objects:null,add:function(a){if(car.core.Environment.get("car.debug")){if(!(a instanceof car.ui.popup.Popup)){throw new Error("Object is no popup: "+a)}}this.__objects.push(a);this.__updateIndexes()},remove:function(a){if(car.core.Environment.get("car.debug")){if(!(a instanceof car.ui.popup.Popup)){throw new Error("Object is no popup: "+a)}}if(this.__objects){car.lang.Array.remove(this.__objects,a);this.__updateIndexes()}},hideAll:function(){var d;var c=this.__objects;if(c){for(var b=0,a=c.length;b<a;b++){var d=c[b];d.getAutoHide()&&d.exclude()}}},__updateIndexes:function(){var b=10000000;for(var a=0;a<this.__objects.length;a++){this.__objects[a].setZIndex(b++)}},__onMouseDown:function(f){var d=car.ui.core.Widget.getWidgetByElement(f.getTarget());var b=this.__objects;for(var a=0;a<b.length;a++){var c=b[a];if(
/*obj.getAutoHide() || */
d==c||car.ui.core.Widget.contains(c,d)){continue}c.exclude()}}},destruct:function(){car.event.Registration.removeListener(document.documentElement,"mousedown",this.__onMouseDown,this,true);this._disposeArray("__objects")}});car.Class.define("car.ui.core.EventHandler",{extend:car.core.Object,implement:car.event.IEventHandler,construct:function(){this.base(arguments);this.__manager=car.event.Registration.getManager(window)},statics:{PRIORITY:car.event.Registration.PRIORITY_FIRST,SUPPORTED_TYPES:{mousemove:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,click:1,dblclick:1,contextmenu:1,mousewheel:1,keyup:1,keydown:1,keypress:1,keyinput:1,capture:1,losecapture:1,focusin:1,focusout:1,focus:1,blur:1,activate:1,deactivate:1,appear:1,disappear:1,dragstart:1,dragend:1,dragover:1,dragleave:1,drop:1,drag:1,dragchange:1,droprequest:1,touchstart:1,touchend:1,touchmove:1,touchcancel:1,tap:1,swipe:1},IGNORE_CAN_HANDLE:false},members:{__manager:null,__focusEvents:{focusin:1,focusout:1,focus:1,blur:1},__ignoreDisabled:{mouseover:1,mouseout:1,appear:1,disappear:1},canHandleEvent:function(b,a){return b instanceof car.ui.core.Widget},_dispatchEvent:function(k){var g=k.getTarget();var b=car.ui.core.Widget.getWidgetByElement(g);var m=false;if(b&&m&&k.getType()=="activate"){b.getContainerElement().activate()}if(this.__focusEvents[k.getType()]){b=b&&b.getFocusTarget();if(!b){return}}if(k.getRelatedTarget){var h=k.getRelatedTarget();var r=car.ui.core.Widget.getWidgetByElement(h);while(r&&r.isAnonymous()){r=r.getLayoutParent()}if(r){if(this.__focusEvents[k.getType()]){r=r.getFocusTarget()}if(r===b){return}}}var d=k.getCurrentTarget();var a=car.ui.core.Widget.getWidgetByElement(d);if(!a||a.isAnonymous()){return}if(this.__focusEvents[k.getType()]){a=a.getFocusTarget()}var o=k.getType();var q=k.getEventPhase()==car.event.type.Event.CAPTURING_PHASE;var n=this.__manager.getListeners(a,o,q);if(!n||n.length===0){return}var s=car.event.Pool.getInstance().getObject(k.constructor);k.clone(s);s.setTarget(b);s.setRelatedTarget(r||null);s.setCurrentTarget(a);var p=k.getOriginalTarget();if(p){var f=car.ui.core.Widget.getWidgetByElement(p);while(f&&f.isAnonymous()){f=f.getLayoutParent()}s.setOriginalTarget(f)}else{s.setOriginalTarget(g)}for(var j=0,e=n.length;j<e;j++){var c=n[j].context||a;n[j].handler.call(c,s)}if(s.getPropagationStopped()){k.stopPropagation()}if(s.getDefaultPrevented()){k.preventDefault()}car.event.Pool.getInstance().poolObject(s)},registerEvent:function(d,b,a){var c;if(b==="focus"||b==="blur"){c=d.getFocusElement()}else{if(b==="load"||b==="input"){c=d.getContentElement()}else{c=d.getContainerElement()}}if(c){c.addListener(b,this._dispatchEvent,this,a)}},unregisterEvent:function(d,b,a){var c;if(b==="focus"||b==="blur"){c=d.getFocusElement()}else{if(b==="load"||b==="input"){c=d.getContentElement()}else{c=d.getContainerElement()}}if(c){c.removeListener(b,this._dispatchEvent,this,a)}}},destruct:function(){this.__manager=null},defer:function(a){car.event.Registration.addHandler(a)}});car.Class.define("car.ui.core.Widget",{extend:car.core.Object,construct:function(){this.base(arguments);this.__containerElement=this._createContainerElement();this.__contentElement=this.__createContentElement();this.__containerElement.add(this.__contentElement)},events:{appear:"car.event.type.Event",disappear:"car.event.type.Event",createChildControl:"car.event.type.Data",resize:"car.event.type.Data",move:"car.event.type.Data",mousemove:"car.event.type.Mouse",mouseover:"car.event.type.Mouse",mouseout:"car.event.type.Mouse",mousedown:"car.event.type.Mouse",mouseup:"car.event.type.Mouse",click:"car.event.type.Mouse",dblclick:"car.event.type.Mouse",contextmenu:"car.event.type.Mouse",beforeContextmenuOpen:"car.event.type.Data",mousewheel:"car.event.type.MouseWheel",keyup:"car.event.type.KeySequence",keydown:"car.event.type.KeySequence",keypress:"car.event.type.KeySequence",keyinput:"car.event.type.KeyInput",focus:"car.event.type.Focus",blur:"car.event.type.Focus",focusin:"car.event.type.Focus",focusout:"car.event.type.Focus",activate:"car.event.type.Focus",deactivate:"car.event.type.Focus",capture:"car.event.type.Event",losecapture:"car.event.type.Event"},properties:{paddingTop:{check:"Integer",init:0,apply:"_applyPadding",themeable:true},paddingRight:{check:"Integer",init:0,apply:"_applyPadding",themeable:true},paddingBottom:{check:"Integer",init:0,apply:"_applyPadding",themeable:true},paddingLeft:{check:"Integer",init:0,apply:"_applyPadding",themeable:true},padding:{group:["paddingTop","paddingRight","paddingBottom","paddingLeft"],mode:"shorthand",themeable:true},zIndex:{nullable:true,init:null,apply:"_applyZIndex",event:"changeZIndex",check:"Integer",themeable:true},backgroundColor:{nullable:true,check:"Color",apply:"_applyBackgroundColor",event:"changeBackgroundColor",themeable:true},textColor:{nullable:true,check:"Color",apply:"_applyTextColor",event:"changeTextColor",themeable:true,inheritable:true},font:{nullable:true,apply:"_applyFont",check:"Font",event:"changeFont",themeable:true,inheritable:true,dereference:true},opacity:{check:"Number",apply:"_applyOpacity",themeable:true,nullable:true,init:null},cursor:{check:"String",apply:"_applyCursor",themeable:true,inheritable:true,nullable:true,init:null},anonymous:{init:false,check:"Boolean"},width:{check:"Integer",nullable:true,init:null},height:{check:"Integer",nullable:true,init:null},visibility:{check:["visible","hidden","excluded"],init:"visible",apply:"_applyVisibility",event:"changeVisibility"}},statics:{DEBUG:false,contains:function(a,b){while(b){if(a==b){return true}b=b.getParentContainer()}return false},getWidgetByElement:function(b,a){while(b){var f=b.$$widget;if(f!=null){var c=car.core.ObjectRegistry.fromHashCode(f);if(!a||!c.getAnonymous()){return c}}try{b=b.parentNode}catch(d){return null}}return null}},members:{__containerElement:null,__contentElement:null,render:function(){},getParentContainer:function(){return this.$$parentContainer||null},markChildControls:function(b,a){if(!this.__childControls){this.__childControls={}}if(this.__childControls[b]){return}this.__childControls[b]=a},getInnerSize:function(){return{width:0,height:0}},show:function(){this.setVisibility("visible")},hide:function(){this.setVisibility("hidden")},exclude:function(){this.setVisibility("excluded")},isVisible:function(){return this.getVisibility()==="visible"},isHidden:function(){return this.getVisibility()!=="visible"},isExcluded:function(){return this.getVisibility()==="excluded"},_createContainerElement:function(){var b={"$$widget":this.toHashCode()};if(car.core.Environment.get("car.debug")){b.qxType="container";b.qxClass=this.classname}var c=this.getWidth(),a=this.getHeight();var d={zIndex:0};if(c){d.width=c+"px"}if(a){d.height=a+"px"}return new car.html.Element("div",d,b)},__createContentElement:function(){var a=this._createContentElement();if(car.core.Environment.get("car.debug")){a.setAttribute("qxType","content")}a.setStyles({zIndex:10});return a},_createContentElement:function(){return new car.html.Element("div",{})},getContainerElement:function(){return this.__containerElement},getContentElement:function(){return this.__contentElement},getContainerLocation:function(b){var a=this.getContainerElement().getDomElement();return a?qx.bom.element.Location.get(a,b):null},getContentLocation:function(b){var a=this.getContentElement().getDomElement();return a?qx.bom.element.Location.get(a,b):null},__widgetChildren:null,getChildrenContainer:function(){return this},__emptyChildren:[],_getChildren:function(){return this.__widgetChildren||this.__emptyChildren},_indexOf:function(b){var a=this.__widgetChildren;if(!a){return -1}return a.indexOf(b)},_hasChildren:function(){var a=this.__widgetChildren;return a!=null&&(!!a[0])},_add:function(b,a){if(car.core.Environment.get("car.debug")){this.assertInstance(b,car.ui.core.LayoutItem.constructor,"'Child' must be an instance of car.ui.core.LayoutItem!")}if(this.__widgetChildren){this.__widgetChildren.push(b)}else{this.__widgetChildren=[b]}b.$$parentContainer=this},_afterAddChild:null,_afterRemoveChild:null,capture:function(a){this.getContainerElement().capture(a)},releaseCapture:function(){this.getContainerElement().releaseCapture()},_applyTextColor:function(b,a){},_applyZIndex:function(b,a){this.getContainerElement().setStyle("zIndex",b==null?0:b)},_applyVisibility:function(d,b){var a=this.getContainerElement();if(d==="visible"){a.show()}else{a.hide()}var c=this.$$parent;if(c&&(b==null||d==null||b==="excluded"||d==="excluded")){c.invalidateLayoutChildren()}},_applyOpacity:function(b,a){this.getContainerElement().setStyle("opacity",b==1?null:b);if((car.core.Environment.get("engine.name")=="mshtml")&&car.bom.element.Decoration.isAlphaImageLoaderEnabled()){if(!car.Class.isSubClassOf(this.getContentElement().constructor,car.html.Image)){var c=(b==1||b==null)?null:0.99;this.getContentElement().setStyle("opacity",c)}}},_applyCursor:function(b,a){if(b==null&&!this.isSelectable()){b="default"}this.getContainerElement().setStyle("cursor",b,car.core.Environment.get("engine.name")=="opera")},_applyBackgroundColor:function(e,c){var d=this.getBackgroundColor();var b=this.getContainerElement();if(this.__decoratorElement){this.__decoratorElement.tint(d);b.setStyle("backgroundColor",null)}else{var a=car.theme.manager.Color.getInstance().resolve(d);b.setStyle("backgroundColor",a)}},_applyFont:function(b,a){},_onStopEvent:function(a){a.stopPropagation()},hasChildControl:function(a){if(!this.__childControls){return false}return !!this.__childControls[a]},__childControls:null,_getCreatedChildControls:function(){return this.__childControls},getChildControl:function(c,a){if(!this.__childControls){if(a){return null}this.__childControls={}}var b=this.__childControls[c];if(b){return b}if(a===true){return null}return this._createChildControl(c)},_showChildControl:function(b){var a=this.getChildControl(b);a.show();return a},_excludeChildControl:function(b){var a=this.getChildControl(b,true);if(a){a.exclude()}},_isChildControlVisible:function(b){var a=this.getChildControl(b,true);if(a){return a.isVisible()}return false},_createChildControl:function(f){if(!this.__childControls){this.__childControls={}}else{if(this.__childControls[f]){throw new Error("Child control '"+f+"' already created!")}}var e=f.indexOf("#");if(e==-1){var d=this._createChildControlImpl(f)}else{var d=this._createChildControlImpl(f.substring(0,e),f.substring(e+1,f.length))}if(!d){throw new Error("Unsupported control: "+f)}d.$$subcontrol=f;d.$$subparent=this;d.$$parentContainer=this;var a=this.__states;var b=this._forwardStates;if(a&&b&&d instanceof car.ui.core.Widget){for(var c in a){if(b[c]){d.addState(c)}}}this.fireDataEvent("createChildControl",d);return this.__childControls[f]=d},_createChildControlImpl:function(b,a){return null},_disposeChildControls:function(){var a=this.__childControls;if(!a){return}var b=car.ui.core.Widget;for(var d in a){var c=a[d];if(!b.contains(this,c)){c.destroy()}else{c.dispose()}}delete this.__childControls},_findTopControl:function(){var a=this;while(a){if(!a.$$subparent){return a}a=a.$$subparent}return null},setDomLeft:function(b){var a=this.getContainerElement().getDomElement();if(a){a.style.left=b+"px"}else{throw new Error("DOM element is not yet created!")}},setDomTop:function(b){var a=this.getContainerElement().getDomElement();if(a){a.style.top=b+"px"}else{throw new Error("DOM element is not yet created!")}},setDomPosition:function(c,b){var a=this.getContainerElement().getDomElement();if(a){a.style.left=c+"px";a.style.top=b+"px"}else{throw new Error("DOM element is not yet created!")}},destroy:function(){if(this.$$disposed){return}var a=this.$$parent;if(a){a._remove(this)}},clone:function(){var d=this.base(arguments);if(this.getChildren){var c=this.getChildren();for(var b=0,a=c.length;b<a;b++){d.add(c[b].clone())}}return d}},destruct:function(){if(!car.core.ObjectRegistry.inShutDown){this.getContainerElement().setAttribute("$$widget",null,true);this._disposeChildControls()}this._disposeObjects("__containerElement","__contentElement")}});car.Class.define("car.ui.core.Label",{extend:car.ui.core.Widget,construct:function(a){this.base(arguments);if(a!=null){this.setValue(a)}},properties:{rich:{check:"Boolean",init:false,event:"changeRich",apply:"_applyRich"},value:{check:"String",apply:"_applyValue",event:"changeValue",nullable:true}},members:{_createContentElement:function(){return new car.html.Label},_applyRich:function(a){this.getContentElement().setRich(a)},_applyValue:function(b,a){this.getContentElement().setValue(b)}}});car.Class.define("car.ui.core.Atom",{extend:car.ui.core.Widget,construct:function(a){this.base(arguments);if(a!=null){this.setLabel(a)}},properties:{rich:{check:"Boolean",init:false,apply:"_applyRich"},label:{apply:"_applyLabel",nullable:true,check:"String",event:"changeLabel"}},members:{_createContainerElement:function(){var b={"$$widget":this.toHashCode()};var c=this.getWidth(),a=this.getHeight();var d={position:"absolute"};if(c){d.width=c+"px"}if(a){d.height=a+"px"}return new car.html.Element("div",d,b)},_createChildControlImpl:function(c,b){var a;a=new car.ui.core.Label(this.getLabel());a.setRich(true);this._add(a);this.__contentElement.add(a.__containerElement);return a||this.base(arguments,c)},_applyRich:function(c,a){var b=this.getChildControl("label",true);if(b){b.setRich(c)}},_handleLabel:function(){if(this.getLabel()==null){this._excludeChildControl("label")}else{this._showChildControl("label")}},_applyLabel:function(c,a){var b=this.getChildControl("label",true);if(b){b.setValue(c)}this._handleLabel()}}});car.Class.define("car.ui.core.AbsoluteAtom",{extend:car.ui.core.Atom,construct:function(b,c,a){if(c){this._styles=c}if(a){this._attributes=a}this.base(arguments)},members:{_styles:{},_attributes:{},_createContainerElement:function(){this._attributes["$$widget"]=this.toHashCode();this._styles.position="absolute";return new car.html.Element("div",this._styles,this.attributes)},_createContentElement:function(){this._styles.position="absolute";return new car.html.Element("div")}}});car.Class.define("car.ui.core.FloatAtom",{extend:car.ui.core.Atom,construct:function(b,c,a){if(c){this._styles=c}if(a){this._attributes=a}this.base(arguments)},members:{_styles:{},_attributes:{},_createContainerElement:function(){this._attributes["$$widget"]=this.toHashCode();this._styles["float"]="left";return new car.html.Element("div",this._styles,this.attributes)},_createContentElement:function(){this._styles["float"]="left";return new car.html.Element("div")}}});car.Class.define("car.ui.popup.Popup",{extend:car.ui.core.Widget,construct:function(){this.__window=car.dom.Node.getWindow(document);this.__doc=document;this.base(arguments)},members:{show:function(){var c=this.getContainerElement();var a=this.__caller;var b=car.bom.element.Location.get(a);c.setStyles({left:b.left+"px",top:b.top+a.scrollHeight+"px"});this.base(arguments)},_applyVisibility:function(c,a){this.base(arguments,c,a);var b=car.ui.popup.Manager.getInstance();c==="visible"?b.add(this):b.remove(this)},_createContainerElement:function(){var h=this.__doc;if((car.core.Environment.get("engine.name")=="webkit")){if(!h.body){alert("The application could not be started due to a missing body tag in the HTML file!")}}var c=h.documentElement.style;var g=h.body.style;var f=h.createElement("div");h.body.appendChild(f);var b=new car.html.Root(f);var d=this.getWidth(),a=this.getHeight();var e={position:"absolute"};if(d){e.width=d+"px"}if(a){e.height=a+"px"}b.setStyles(e);b.setAttribute("$$widget",this.toHashCode());return b}}});car.Class.define("car.ui.core.TimeItem",{extend:car.ui.core.FloatAtom,properties:{width:{check:"Integer",nullable:true,init:80},height:{check:"Integer",nullable:true,init:30}},members:{}});car.Class.define("car.ui.TimeSelect",{extend:car.ui.popup.Popup,construct:function(a){this.__caller=document.getElementById(a);this.base(arguments);this.__containerElement.hide();this.__containerElement.setStyles({border:"1px solid #5694cb",backgroundColor:"#e6f0f8"});this.initTimeCreate();this.addListener("mousedown",this._onSelected,this,false)},events:{mouseup:"car.event.type.Mouse"},properties:{width:{check:"Integer",nullable:true,init:243},height:{check:"Integer",nullable:true,init:339}},statics:{amTime:{title:"",data:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30"]},pmTime:{title:"",data:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"]},duskTime:{title:"",data:["18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30"]}},members:{_currentTime:null,_selectCallBack:function(){},initTimeCreate:function(){if(car.ui.TimeSelect.amTime.data){this.createTimeBlock(car.ui.TimeSelect.amTime)}if(car.ui.TimeSelect.pmTime.data){this.createTimeBlock(car.ui.TimeSelect.pmTime)}if(car.ui.TimeSelect.duskTime.data){this.createTimeBlock(car.ui.TimeSelect.duskTime)}},createTimeBlock:function(f){if(!f.data){return}var e=f.data;var d=new car.ui.core.FloatAtom("",{"float":"left",background:"transparent",width:"80px",height:"339px",borderRight:"1px solid #b2d0e9"});d.setRich(true);this._add(d);var g=d.getContentElement();var a=new car.ui.core.FloatAtom("",{width:"81px",height:"28px",lineHeight:"30px",textAlign:"center",cursor:"pointer",textAlign:"center",fontWeight:"bold",color:"#fff",background:"#359cf7",borderBottom:"1px solid #aacce9",lineHeight:"30px"},{});a.setRich(true);a.setLabel(f.title);this._add(a);g.add(a.getContainerElement());for(var c=0;c<e.length;c++){var b=new car.ui.core.TimeItem("",{width:"100%",height:"30px",lineHeight:"30px",textAlign:"center",cursor:"pointer",textAlign:"center",borderBottom:"1px solid #b2d0e9",lineHeight:"30px"},{});b.setRich(true);b.setLabel(e[c]);this._add(b);g.add(b.getContainerElement())}this.getContentElement().add(d.getContainerElement());return d},setTimeStyle:function(a){if(this._currentTime){this._currentTime.getContentElement().setStyle("background","transparent",true);this._currentTime.getContentElement().setStyle("color","#333",true)}a.getContentElement().setStyle("background","#DD4B39",true);a.getContentElement().setStyle("color","#fff",true);this._currentTime=a},_onSelected:function(c){var a=c.getTarget();var d=a.getParentContainer();var f=c.getCurrentTarget();if((a.classname&&a.classname=="car.ui.core.TimeItem")||(d&&d.classname&&d.classname=="car.ui.core.TimeItem")){if(d.classname=="car.ui.TimeItem"){a=d}var b=a.getValue();this.__caller.value=b;if(this._selectCallBack){this._selectCallBack(b,c,this)}this.setTimeStyle(a);f.hide()}}}});car.Class.define("car.ui.closeAtom",{extend:car.ui.core.AbsoluteAtom});car.Class.define("car.ui.StoreAtom",{extend:car.ui.core.FloatAtom,properties:{name:{check:"String",nullable:true,init:null},openhours:{check:"String",nullable:true,init:null},address:{check:"String",nullable:true,init:null},phone:{check:"String",nullable:true,init:null},code:{check:"String",nullable:true,init:null},pcode:{check:"String",nullable:true,init:null},cityArea:{check:"car.ui.core.CityAreaAtom",nullable:true,init:null}}});car.Class.define("car.ui.CityAreaAtom",{extend:car.ui.core.FloatAtom,properties:{name:{check:"String",nullable:true,init:null},code:{check:"String",nullable:true,init:null},pcode:{check:"String",nullable:true,init:null}}});car.Class.define("car.ui.StoreCanvas",{extend:car.ui.core.FloatAtom,construct:function(a){this.__window=car.dom.Node.getWindow(document);this.__doc=document;this.base(arguments);this.cityData=a;this.__containerElement.hide();this.__containerElement.setStyles({border:"1px solid #cca300",backgroundColor:"#f8f2c1"});this.__containerElement.setAttribute("class","store-canvas");this.initCloseCreate();this.initChildContainerCreate();this.initControlsCreate(this.cityData);this.addListener("mouseover",this._onMouseOver,this,false);this.addListener("mousedown",this._onMouseDown,this,false);this.addListener("mouseup",this._onMouseUp,this,false)},properties:{width:{check:"Integer",nullable:true,init:494},height:{check:"Integer",nullable:true,init:null},cityAndStoreSelect:{check:"car.ui.CityAndStoreSelect",nullable:true,init:null}},statics:{},members:{_storeData:[],_defauleShowStore:null,_closeControl:null,_cityNameContainer:null,_storeContainer:null,_storeInfoContainer:null,_currentStore:null,_selectCallBack:function(){},_selectedStoreStyle:{padding:"5px 10px 5px 0px",cursor:"pointer",fontWeight:"normal",background:"red",border:"0px solid #aaa"},_storeStyle:{width:"100px",height:"24px",lineHeight:"24px",margin:"0px 5px",color:"#555",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"normal",background:"transparent",border:"0px solid #aaa"},initCloseCreate:function(){this._closeControl=new car.ui.closeAtom("",{width:"30px",height:"16px",lineHeight:"16px",top:"5px",right:"155px",textAlign:"center",cursor:"pointer",color:"#fff",background:"#DD4B39"});this._closeControl.setRich(true);this._add(this._closeControl);this._closeControl.setLabel("");this.getContentElement().add(this._closeControl.getContainerElement())},initChildContainerCreate:function(){this._cityNameContainer=new car.ui.core.AbsoluteAtom("",{padding:"5px 10px",top:car.core.Environment.get("engine.name")=="mshtml"?"-24px":"-26px",left:"-1px",color:"#6d4a00",fontSize:"13px",fontWeight:"bold",background:"#f8f2c1",border:"1px solid #cca300",borderBottom:"0px"});this._cityNameContainer.setRich(true);this._add(this._cityNameContainer);this._cityNameContainer.setLabel(this.cityData.name);this.getContentElement().add(this._cityNameContainer.getContainerElement());this._storeContainer=new car.ui.core.FloatAtom("",{width:"330px",padding:"10px",border:"0px solid #aaa"});this._storeContainer.setRich(true);this._add(this._storeContainer);this.getContentElement().add(this._storeContainer.getContainerElement());this._storeInfoContainer=new car.ui.core.FloatAtom("",{width:"143px",padding:"0px"});this._storeInfoContainer.setRich(true);this._add(this._storeInfoContainer);this.getContentElement().add(this._storeInfoContainer.getContainerElement())},initStoreCreate:function(d,c){var b=new car.ui.StoreAtom("",this._storeStyle);b.setRich(true);this._add(b);b.setLabel(d.name||"");b.setName(d.name||"");b.setOpenhours(d.openhours||"");b.setAddress(d.address||"");b.setPhone(d.phone||"");b.setCode(d.code||"");b.setPcode(d.pcode||"");b.setCityArea(c);c.getContentElement().add(b.getContainerElement());var a=b.getContentElement();a.setStyle("height","24px",true);a.setStyle("lineHeight","24px",true);a.setStyle("paddingLeft","8px",true);if(!this._defauleShowStore){this._defauleShowStore=b;this.setStoreStyle(b);this.setStoreInfo(b)}},initCityAreaCreate:function(d){var c=new car.ui.CityAreaAtom("",{width:"100%",color:"#555",padding:"5px 0px",fontWeight:"bold",borderBottom:"1px solid #e7df97"});c.setRich(true);c.setName(d.name);c.setCode(d.code);c.setPcode(d.pcode);this._add(c);c.setLabel("<div style='margin-bottom:5px'>"+d.name+"</div>");this._storeContainer.getContentElement().add(c.getContainerElement());var d=d.children;for(var b=0;b<d.length;b++){var a=d[b];this.initStoreCreate(a,c,b)}},initControlsCreate:function(c){var c=c.children;for(var a=0;a<c.length;a++){var b=c[a];this.initCityAreaCreate(b)}},show:function(){var d=this.getContainerElement();var a=this.__caller;var c=car.bom.element.Location.get(a);d.setStyles({left:c.left-11+"px",top:c.top+a.scrollHeight-5+"px"});var b=this.getContainerElement().getDomElement().clientHeight;this.base(arguments)},_applyVisibility:function(c,a){this.base(arguments,c,a);var b=car.ui.popup.MoustOverManager.getInstance();c==="visible"?b.add(this):b.remove(this)},_createContainerElement:function(){var h=this.__doc;if((car.core.Environment.get("engine.name")=="webkit")){if(!h.body){alert("The application could not be started due to a missing body tag in the HTML file!")}}var c=h.documentElement.style;var g=h.body.style;var f=h.createElement("div");h.body.appendChild(f);var b=new car.html.Root(f);var d=this.getWidth(),a=this.getHeight();var e={position:"absolute"};if(d){e.width=d+"px"}if(a){e.height=a+"px"}b.setStyles(e);b.setAttribute("$$widget",this.toHashCode());return b},setStoreStyle:function(a){if(this._currentStore){this._currentStore.getContentElement().setStyle("background","transparent",true);this._currentStore.getContentElement().setStyle("color","#555",true)}a.getContentElement().setStyle("background","#DD4B39",true);a.getContentElement().setStyle("color","#fff",true);this._currentStore=a},_onMouseUp:function(b){var a=b.getTarget();var c=a.getParentContainer();if((a.classname&&a.classname=="car.ui.closeAtom")||(c&&c.classname&&c.classname=="car.ui.closeAtom")){this.hide()}},_onMouseDown:function(j){var d=j.getTarget();var h=d.getParentContainer();var n=j.getCurrentTarget();if((d.classname&&d.classname=="car.ui.StoreAtom")||(h&&h.classname&&h.classname=="car.ui.StoreAtom")){if(h.classname=="car.ui.StoreAtom"){d=h}var l=this.cityData.name;var k=d.getName();var g=d.getOpenhours();var m=d.getAddress();var f=d.getCode();var i=d.getPcode();var c=d.getCityArea();if(!l&&c&&!c.getName()&&!k){throw new Error("?"+l+"="+c.getName()+"="+k)}var b="";b=l+"-"+c.getName()+"-"+k;var a=this.getCityAndStoreSelect();a.__caller.value=b;if(a._selectCallBack){a._selectCallBack(this.cityData,{name:c.getName(),code:c.getCode(),pcode:c.getPcode()},{name:k,openhours:g,address:m,code:f,pcode:i},this)}this.hide();car.ui.popup.Manager.getInstance().hideAll()}},setStoreInfo:function(f){var c=f.getName();var d=f.getOpenhours();var b=f.getAddress();var a=f.getPhone();var e=["<div style='padding:10px;line-height:16px;'>","<p style='padding-bottom:8px;color:#da2700;font-size:14px;'><b>"+(c?c:"")+"</b></p>","<p style='margin-bottom:2px;'><b>:</b></p>","<p style='margin-bottom:5px;padding-left:24px;'>"+(d?d:"")+"</p>","<p style='margin-bottom:2px;'><b>:</b></p>","<p style='margin-bottom:5px;padding-left:28px;'>"+(b?b:"")+"</p>","<p style='margin-bottom:2px;'><b>:</b></p>","<p style='margin-bottom:5px;padding-left:28px;'>"+(a?a:"")+"</p>","</div>"].join("");this.setStoreStyle(f);this._storeInfoContainer.setLabel(e)},_onMouseOver:function(b){var a=b.getTarget();var c=a.getParentContainer();var d=b.getCurrentTarget();if((a.classname&&a.classname=="car.ui.StoreAtom")||(c&&c.classname&&c.classname=="car.ui.StoreAtom")){if(c.classname=="car.ui.StoreAtom"){a=c}this.setStoreInfo(a)}}}});car.Class.define("car.ui.CityAtom",{extend:car.ui.core.FloatAtom});car.Class.define("car.ui.TabAtom",{extend:car.ui.core.FloatAtom});car.Class.define("car.ui.CityAndStoreSelect",{extend:car.ui.popup.Popup,construct:function(b,a){this.__caller=document.getElementById(b);this.base(arguments);this.__containerElement.hide();this.getContainerElement().setStyles({border:"1px solid #5694cb",background:"#e6f0f8"});this.getContentElement().setStyle("height","160px");this.resetCityGroups();this.initCityAndStoreData(car.lang.Array.clone(a));this.initCityCreate();this.addListener("mousedown",this.__dispatchEvent,this,false);this.addListener("mouseover",this.__dispatchEvent,this,false)},events:{mouseup:"car.event.type.Mouse"},properties:{width:{check:"Integer",nullable:true,init:380},height:{check:"Integer",nullable:true,init:null}},statics:{},members:{_selectCallBack:function(){},_cityGroups:null,resetCityGroups:function(){this._cityGroups={hot:[],abcdefg:[],hijklmn:[],opqrst:[],uvwxyz:[]}},getGroupName:function(a){var c=a.charAt(0).toLowerCase();var b="|abcdefg|hijklmn|opqrst|uvwxyz|";var d=new RegExp("\\|([^\\|]*"+c+"[^\\|]*)\\|","g");d.exec(b);return RegExp.$1},creatCityWidget:function(b){var a=new car.ui.StoreCanvas(b);a.setRich(true);a.setCityAndStoreSelect(this);this._add(a);this.markChildControls("store"+b.code,a)},initCityAndStoreData:function(b){for(var a=0;a<b.length;a++){var d=b[a];if(d.hot){this._cityGroups.hot.push(d)}this.creatCityWidget(d);var c=this.getGroupName(d.pinyin);this._cityGroups[c].push(d)}},initCityCreate:function(){var a=new car.ui.core.FloatAtom("",{width:"375px",height:"26px",padding:"0px 0px 0px 5px",background:"#359cf7",borderBottom:"1px solid #5694cb "});a.setRich(true);this._add(a);this.markChildControls("tabBar",a);for(var d in this._cityGroups){var b=new car.ui.TabAtom("",{padding:"0px 14px",margin:"3px 0px 0px 0px",height:"22px",lineHeight:"23px",color:"#e3f2ff",fontWeight:"bold",border:"1px solid #359cf7",borderBottom:"1px solid #359cf7",overflow:"hidden",cursor:"pointer"});b.setRich(true);this._add(b);b.setLabel(d.toUpperCase());b.$$tabId=d;if(d=="hot"){b.setLabel("");b.getContainerElement().setStyles({background:"#e6f0f8",color:"#00539e",border:"1px solid #5694cb",borderBottom:"1px solid #e6f0f8"})}this.markChildControls(d,b);a.getContentElement().add(b.getContainerElement());var c=new car.ui.core.FloatAtom("",{width:"360px",padding:"5px 10px"});c.setRich(true);this._add(c);this.markChildControls(d+"-content",c);this.creatCellFromParent(this._cityGroups[d],c);this.getContentElement().add(c.getContainerElement());if(d!="hot"){c.hide()}}this.getContentElement().addAt(a.getContainerElement(),0)},creatCellFromParent:function(c,b){for(var a=0;a<c.length;a++){var d=new car.ui.CityAtom("",{width:"70px",borderBottom:"1px solid #cfdde9",height:"30px",lineHeight:"30px",color:"#266ead",whiteSpace:"nowrap",cursor:"pointer"});d.setRich(true);this._add(d);d.setLabel(c[a]["name"]);d.$$store=c[a]["code"];this.markChildControls(c[a]["code"],d);b.getContentElement().add(d.getContainerElement())}},tabClickEvent:function(c){var a=c.$$tabId;for(var e in this._cityGroups){var d=this.getChildControl(e),b=this.getChildControl(e+"-content");if(e!=a){d.getContainerElement().setStyles({color:"#e3f2ff",border:"1px solid #359cf7",borderBottom:"1px solid #359cf7",background:"transparent"});b.getContainerElement().setStyle("display","none",true)}else{d.getContainerElement().setStyles({background:"#e6f0f8",color:"#00539e",border:"1px solid #5694cb",borderBottom:"1px solid #e6f0f8"});if(!b.isVisible()){b.show()}b.getContainerElement().setStyle("display","block",true)}}},cityMouseOverEvent:function(f){var a=f.$$store;if(a){var b=this.getChildControl("store"+a);b.__caller=f.getContainerElement().getDomElement();var d=car.ui.popup.MoustOverManager.getInstance();var c=d.__objects;if(c.length>0){var e=c[c.length-1];e.exclude()}b.show()}},__dispatchEvent:function(b){var a=b.getTarget();var c=a.getParentContainer();var d=b.getCurrentTarget();if(b._type=="mousedown"&&((a.classname&&a.classname=="car.ui.TabAtom")||(c&&c.classname&&c.classname=="car.ui.TabAtom"))){this.tabClickEvent(c)}else{if(b._type=="mouseover"&&((a.classname&&a.classname=="car.ui.CityAtom")||(c&&c.classname&&c.classname=="car.ui.CityAtom"))){this.cityMouseOverEvent(c)}}}}});
